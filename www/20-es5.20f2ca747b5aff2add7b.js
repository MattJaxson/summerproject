!function(){function t(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=o(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return a=t.done,t},e:function(t){c=!0,r=t},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw r}}}}function n(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}function e(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,e=new Array(n);o<n;o++)e[o]=t[o];return e}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function s(t,n){for(var o=0;o<n.length;o++){var e=n[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,n,o){return n&&s(t.prototype,n),o&&s(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"84P7":function(t,n,o){"use strict";o.d(n,"a",function(){return f});var e=o("mrSG"),s=o("Aso2"),a=o("ENZJ"),c=o("2Vo4"),l=o("fXoL"),u=o("tyNb"),b=o("TEn/"),f=function(){var t=function(){function t(n,o,e,s){i(this,t),this.router=n,this.posts=o,this.profile=e,this.toast=s,this.comments=[],this.followers=[],this.following=!1,this.followingLength$=new c.a(null),this.followingLength=null,this.commentsLength$=new c.a(null),this.commentsLength=null}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.posts.getPostInfo(this.postID).subscribe(function(n){var o=n.comments,e=n.followers,i=!1;t.profile.getUserDetails().subscribe(function(n){var s=n.email;e.find(function(t){t===s&&(i=!0)}),t.followers=e,t.comments=o,t.userEmail=s,t.following=i,t.followingLength$.next(e.length),t.followingLength$.subscribe(function(n){t.followingLength=n}),t.commentsLength$.next(e.length),t.commentsLength$.subscribe(function(n){t.commentsLength=n})})})}},{key:"follow",value:function(t){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,console.log("Following Post");case 2:return n.next=4,console.log(t);case 4:return n.next=6,this.posts.followPost(t,this.userEmail);case 6:return this.following=!0,this.followingLength$.next(this.followingLength+1),n.next=10,this.followToast();case 10:case"end":return n.stop()}},n,this)}))}},{key:"followToast",value:function(){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({cssClass:"followed-toast",message:"You are FOLLOWING this post",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"unFollow",value:function(t){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,console.log("Unfollowing Post");case 2:return n.next=4,console.log(t);case 4:return n.next=6,this.posts.unFollowPost(t,this.userEmail);case 6:return this.following=!1,this.followingLength$.next(this.followingLength-1),n.next=10,this.unFollowToast();case 10:case"end":return n.stop()}},n,this)}))}},{key:"unFollowToast",value:function(){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({cssClass:"unfollowed-toast",message:"You are UNFOLLOWING this post",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"postPage",value:function(){this.router.navigate(["/home/posts/post-page",this.postID])}}]),t}();return t.\u0275fac=function(n){return new(n||t)(l.Hb(u.f),l.Hb(a.a),l.Hb(s.a),l.Hb(b.eb))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-follow-comment-buttons"]],inputs:{postID:"postID",commentLength:"commentLength",postEmail:"postEmail"},decls:5,vars:1,consts:[[2,"--background","none"],["slot","end"],[1,"comment-button",3,"click"],["src","../../assets/icon/comments-icon.svg"]],template:function(t,n){1&t&&(l.Mb(0,"ion-toolbar",0),l.Mb(1,"ion-buttons",1),l.Mb(2,"ion-button",2),l.Ub("click",function(){return n.postPage()}),l.Ib(3,"ion-icon",3),l.nc(4),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.xb(4),l.pc(" ",n.comments.length," "))},directives:[b.S,b.h,b.g,b.v],styles:[".comment-button[_ngcontent-%COMP%]{--color:#0055a5;font-size:1em;font-size:800;border-radius:5px}ion-icon[_ngcontent-%COMP%]{height:40px;width:40px;position:relative;left:-5px;font-weight:600}@media screen and (max-width:567px){.comment-button[_ngcontent-%COMP%], .follow-button[_ngcontent-%COMP%], .unfollow-button[_ngcontent-%COMP%]{font-size:1em;font-weight:600;width:130px}}"]}),t}()},XxUk:function(o,e,s){"use strict";s.r(e),s.d(e,"PostPageModule",function(){return W});var a=s("TEn/"),c=s("ofXK"),l=s("3Pt+"),u=s("tyNb"),b=s("mrSG"),f=s("ENZJ"),p=s("Aso2"),h=s("7xvl"),g=s("DtjX"),d=s("Y19J"),m=s("KWWs"),w=s("R0Ic"),v=s("fXoL"),x=s("u6v2"),P=s("84P7");function M(t,n){1&t&&v.Ib(0,"ion-spinner",48)}function k(t,n){if(1&t&&(v.Mb(0,"p",73),v.nc(1),v.Lb()),2&t){var o=n.$implicit;v.xb(1),v.pc(" #",o," ")}}function y(t,n){1&t&&(v.Mb(0,"p",74),v.nc(1," No #hashtags for this post "),v.Lb())}function L(t,n){1&t&&(v.Mb(0,"span",75),v.nc(1,"..."),v.Lb())}function O(t,n){if(1&t){var o=v.Nb();v.Mb(0,"button",76),v.Ub("click",function(){return v.gc(o),v.Wb(2).alterDescriptionText()}),v.nc(1),v.Lb()}if(2&t){var e=v.Wb(2);v.xb(1),v.pc(" ",e.showShortDesciption?"SHOW ALL":"SHOW LESS"," ")}}function C(t,n){1&t&&(v.Mb(0,"ion-button",77),v.nc(1,"Post Comment "),v.Lb())}var _=function(t){return{"show-less":t}};function I(t,n){if(1&t){var o=v.Nb();v.Mb(0,"div",49),v.Mb(1,"ion-row"),v.Mb(2,"ion-col",50),v.Ib(3,"img",51),v.Lb(),v.Mb(4,"ion-col",52),v.Mb(5,"p",53),v.nc(6),v.Lb(),v.Mb(7,"p",54),v.nc(8),v.Lb(),v.Lb(),v.Lb(),v.Mb(9,"ion-row",25),v.Mb(10,"ion-col",55),v.Mb(11,"p",56),v.nc(12),v.Lb(),v.Mb(13,"div",57),v.mc(14,k,2,1,"p",58),v.Lb(),v.mc(15,y,2,0,"p",59),v.Mb(16,"p",60),v.nc(17),v.Lb(),v.mc(18,L,2,0,"span",61),v.mc(19,O,2,1,"button",62),v.Lb(),v.Lb(),v.Mb(20,"ion-row",25),v.Mb(21,"ion-col",63),v.Mb(22,"ion-item",64),v.Mb(23,"form",65),v.Ub("ngSubmit",function(){v.gc(o);var t=n.$implicit,e=v.Wb();return e.comment(t._id,e.userFullName,e.userEmail,e.userProfilePicture,e.commentForm.value)}),v.Mb(24,"ion-textarea",66,67),v.Ub("ionBlur",function(){return v.gc(o),v.Wb().searchBarBlur()})("ionFocus",function(){return v.gc(o),v.Wb().hideEverything()}),v.Lb(),v.mc(26,C,2,0,"ion-button",68),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Mb(27,"ion-row",25),v.Mb(28,"ion-col",69),v.Ib(29,"app-up-down-vote-buttons",70),v.Lb(),v.Mb(30,"ion-col",71),v.Ib(31,"app-follow-comment-buttons",72),v.Lb(),v.Lb(),v.Lb()}if(2&t){var e=n.$implicit,i=v.fc(25),s=v.Wb();v.xb(3),v.ac("src",e.creatorProfilePicture,v.ic),v.xb(3),v.oc(e.creatorName),v.xb(2),v.oc(e.date),v.xb(4),v.oc(e.title),v.xb(2),v.Zb("ngForOf",e.hashtags),v.xb(1),v.Zb("ngIf",0===e.hashtags.length),v.xb(1),v.Zb("ngClass",v.dc(16,_,s.showShortDesciption)),v.xb(1),v.oc(e.post),v.xb(1),v.Zb("ngIf",e.post.length>400&&s.showShortDesciption),v.xb(1),v.Zb("ngIf",e.post.length>400),v.xb(4),v.Zb("formGroup",s.commentForm),v.xb(3),v.Zb("ngIf",i.value.length>=2),v.xb(3),v.Zb("postID",e._id)("postEmail",e.creatorEmail),v.xb(2),v.Zb("postID",e._id)("commentLength",e.comments.length)}}function S(t,n){1&t&&(v.Mb(0,"ion-col",40),v.Mb(1,"p"),v.nc(2,"No Posts with those #Hashtags. Please try again."),v.Lb(),v.Lb())}function z(t,n){if(1&t&&(v.Mb(0,"p",73),v.nc(1),v.Lb()),2&t){var o=n.$implicit;v.xb(1),v.pc(" #",o," ")}}function V(t,n){1&t&&(v.Mb(0,"p",74),v.nc(1," No #hashtags for this post "),v.Lb())}function E(t,n){1&t&&(v.Mb(0,"span",75),v.nc(1,"..."),v.Lb())}function j(t,n){if(1&t){var o=v.Nb();v.Mb(0,"button",76),v.Ub("click",function(){return v.gc(o),v.Wb(2).alterDescriptionText()}),v.nc(1),v.Lb()}if(2&t){var e=v.Wb(2);v.xb(1),v.pc(" ",e.showShortDesciption?"SHOW ALL":"SHOW LESS"," ")}}function F(t,n){1&t&&(v.Mb(0,"ion-button",77),v.nc(1,"Post Comment "),v.Lb())}function D(t,n){if(1&t){var o=v.Nb();v.Mb(0,"div",49),v.Mb(1,"ion-row",25),v.Mb(2,"ion-col",78),v.Ib(3,"img",79),v.Lb(),v.Mb(4,"ion-col",52),v.Mb(5,"p",53),v.nc(6),v.Lb(),v.Mb(7,"p",54),v.nc(8),v.Lb(),v.Lb(),v.Lb(),v.Mb(9,"ion-row",25),v.Mb(10,"ion-col",55),v.Mb(11,"p",56),v.nc(12),v.Lb(),v.Mb(13,"div",57),v.mc(14,z,2,1,"p",58),v.Lb(),v.mc(15,V,2,0,"p",59),v.Mb(16,"p",80),v.nc(17),v.Lb(),v.mc(18,E,2,0,"span",61),v.mc(19,j,2,1,"button",62),v.Lb(),v.Lb(),v.Mb(20,"ion-row",25),v.Mb(21,"ion-col",30),v.Mb(22,"ion-item",64),v.Mb(23,"form",65),v.Ub("ngSubmit",function(){v.gc(o);var t=n.$implicit,e=v.Wb();return e.comment(t._id,e.userFullName,e.userEmail,e.userProfilePicture,e.commentForm.value)}),v.Mb(24,"ion-textarea",81,67),v.Ub("ionBlur",function(){return v.gc(o),v.Wb().searchBarBlur()}),v.Lb(),v.mc(26,F,2,0,"ion-button",68),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Mb(27,"ion-row",25),v.Mb(28,"ion-col",69),v.Ib(29,"app-up-down-vote-buttons",70),v.Lb(),v.Mb(30,"ion-col",71),v.Ib(31,"app-follow-comment-buttons",72),v.Lb(),v.Lb(),v.Lb()}if(2&t){var e=n.$implicit,i=v.fc(25),s=v.Wb();v.xb(3),v.ac("src",e.creatorProfilePicture,v.ic),v.xb(3),v.oc(e.creatorName),v.xb(2),v.oc(e.date),v.xb(4),v.oc(e.title),v.xb(2),v.Zb("ngForOf",e.hashtags),v.xb(1),v.Zb("ngIf",0===e.hashtags.length),v.xb(1),v.Zb("ngClass",v.dc(16,_,s.showShortDesciption)),v.xb(1),v.oc(e.post),v.xb(1),v.Zb("ngIf",e.post.length>400&&s.showShortDesciption),v.xb(1),v.Zb("ngIf",e.post.length>400),v.xb(4),v.Zb("formGroup",s.commentForm),v.xb(3),v.Zb("ngIf",i.value.length>=2),v.xb(3),v.Zb("postID",e._id)("postEmail",e.creatorEmail),v.xb(2),v.Zb("postID",e._id)("commentLength",e.comments.length)}}var U,R,$,T=[{path:"",component:(U=function(){function o(t,n,e,s,r,a,c,l,u,b){i(this,o),this.router=t,this.modal=n,this.posts=e,this.profile=s,this.toast=r,this.loading=a,this.formBuilder=c,this.postsEmitterService=l,this.studentChat=u,this.notificationsService=b,this.showShortDesciption=!0,this.noSearchInput=!1,this.searching=!1,this.noPosts=!1}return r(o,[{key:"alterDescriptionText",value:function(){this.showShortDesciption=!this.showShortDesciption}},{key:"ngOnDestroy",value:function(){this.postsSub.unsubscribe(),this.notificationsSub.unsubscribe(),this.postsEmitterService.subsVar.unsubscribe(),this.profileSub.unsubscribe(),this.posts.followingSubject$.unsubscribe()}},{key:"ngOnInit",value:function(){var t=this;this.getUserInfo(),this.getPosts(),this.getFollowingPosts(),void 0===this.postsEmitterService.subsVar&&(this.postsEmitterService.subsVar=this.postsEmitterService.invokePostsPageRefresh.subscribe(function(){t.getPosts(),t.getUserInfo()})),this.commentForm=this.formBuilder.group({comment:[""]})}},{key:"search",value:function(t){this.searchTerm=t.detail.value.replace(/\s+/g,""),console.log(this.searchTerm)}},{key:"filterMenu",value:function(){}},{key:"searchHashtags",value:function(){var t=this;this.noPosts&&(this.allPosts=this.loadedAllPosts,this.noPosts=!1);var o=[];return this.searchTerm.split(",").forEach(function(n){console.log(n),t.loadedAllPosts.filter(function(e){console.log(e.hashtags),e.hashtags.forEach(function(t){console.log(t),t===n&&o.push(e)}),t.searchTerm||(t.noSearchInput=!1,t.searching=!1,t.getPosts()),t.noSearchInput=!0})}),this.allPosts=n(new Set(Object.values(o))),console.log(this.allPosts),0===this.allPosts.length?(console.log("That search had no results!"),this.noPosts=!0):this.allPosts.length>0?(console.log("That search had results!"),this.noPosts=!1):this.searchBarBlur()}},{key:"searchLoading",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loading.create({cssClass:"my-custom-class",message:"Searching ...",duration:1e3});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.next=7,n.onDidDismiss().then(function(){o.searchHashtags()});case 7:console.log("Loading dismissed!");case 8:case"end":return t.stop()}},t,this)}))}},{key:"searchLoadingEmptySearch",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loading.create({cssClass:"my-custom-class",message:"Refreshing Posts",duration:1e3});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.next=7,n.onDidDismiss().then(function(){o.getPosts()});case 7:console.log("Loading dismissed!");case 8:case"end":return t.stop()}},t,this)}))}},{key:"initializeItems",value:function(){this.allPosts=this.loadedAllPosts}},{key:"searchBarFocus",value:function(){console.log("Focusing on Searchbar"),setTimeout(function(){var t=document.getElementById("searchbar-wrapper"),n=document.getElementById("fab-wrapper"),o=document.getElementById("tabBar");t.style.height="275px",n.style.display="none",o.style.height="0px",o.style.transition="500ms",o.style.transform="translateY(40px)"},750)}},{key:"searchBarBlur",value:function(){console.log("Blurring out of Searchbar"),setTimeout(function(){var t=document.getElementById("searchbar-wrapper"),n=document.getElementById("fab-wrapper"),o=document.getElementById("tabBar");t.style.height="60px",t.style.background="none",n.style.display="block",o.style.height="50px",o.style.transition="500ms",o.style.transform="translateY(0px)"},750)}},{key:"hideEverything",value:function(){}},{key:"sortPosts",value:function(){console.log("Attempting to Sort Post...")}},{key:"postPage",value:function(t){this.router.navigate(["/home/posts/post-page",t._id])}},{key:"getUserInfo",value:function(){var t=this;this.postsSub=this.profile.getUserDetails().subscribe(function(n){t.userEmail=n.email,t.userProfilePicture=n.profilePicture,t.userFullName=n.fullName,t.followedPost=n.followedPost,t.notificationsSub=t.notificationsService.notifications$.subscribe(function(n){console.log(n),t.notificationsLength=n.length})})}},{key:"getFollowingPosts",value:function(){var t=this;this.profileSub=this.profile.getUserDetails().subscribe(function(n){t.posts.followingSubject$.next(t.followedPost),t.posts.followingSubject$.subscribe(function(n){t.followedPostCount=n.length}),t.studentChat.conversations$.next(Object.values(n.studentChat).reverse())})}},{key:"doRefresh",value:function(n){var o=this;this.getFollowingPosts(),this.postsSub=this.posts.getPosts().subscribe(function(n){o.allPosts=Object.values(n).reverse();var e,i=t(o.allPosts);try{for(i.s();!(e=i.n()).done;){var s=e.value;s.date=Object(h.a)(new Date(s.date),{includeSeconds:!0,addSuffix:!0})}}catch(r){i.e(r)}finally{i.f()}}),setTimeout(function(){var t=o.toast.create({message:"Inspiration Page has been refreshed",duration:3e3});n.target.complete(),t.then(function(t){return t.present()})},2e3)}},{key:"getPosts",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.postsSub=this.posts.getPosts().subscribe(function(n){o.allPosts=Object.values(n),o.allPostsLength=o.allPosts.length,o.allPosts.reverse(),o.loadedAllPosts=Object.values(n),o.loadedAllPosts.reverse(),o.posts.postsSubject$.next(o.allPosts);var e,i=t(o.allPosts);try{for(i.s();!(e=i.n()).done;){var s=e.value;s.date=Object(h.a)(new Date(s.date),{includeSeconds:!0,addSuffix:!0})}}catch(r){i.e(r)}finally{i.f()}return 0===o.allPosts.length?(console.log("That search had no results!"),o.noPosts=!0):o.allPosts.length>0?(console.log("That search had results!"),o.noPosts=!1):void 0});case 1:case"end":return n.stop()}},n,this)}))}},{key:"addPost",value:function(){this.router.navigate(["/home/posts/add-post"])}},{key:"myPosts",value:function(t){console.log("Going to my posts page"),this.router.navigate(["/home/posts/my-posts",t])}},{key:"following",value:function(){this.router.navigate(["/home/posts/following"])}},{key:"chat",value:function(){this.router.navigate(["/home/posts/student-chat"])}},{key:"notifications",value:function(){this.router.navigate(["/home/posts/notifications"])}},{key:"comment",value:function(n,o,e,i,s){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(n,o,e,i,s),this.commentForm.reset(),console.log("Posting comment"),console.log("Post ID: "+n),r.next=6,this.posts.comment(n,o,e,i,s.comment).subscribe(function(o){a.postsSub=a.posts.getPostInfo(n).subscribe(function(e){var i,s=t(e.comments);try{for(s.s();!(i=s.n()).done;){var r=i.value;r.isUser=!1,r.canDeleteComment=!1,r.canReport=!0,r.userEmail===a.userEmail&&(r.isUser=!0,r.canDeleteComment=!0,r.canReport=!1),r.repliesLength=r.replies.length,r.date=Object(h.a)(new Date(r.date),{includeSeconds:!0,addSuffix:!1})}}catch(l){s.e(l)}finally{s.f()}a.posts.commentsSubject$.next(e.comments.reverse());var c=e.creatorEmail;console.log(o),a.notificationsService.commentNotification(a.userEmail,c,n,o).subscribe()})});case 6:return this.postsSub=this.posts.getPostInfo(n).subscribe(function(n){var o,e=t(n.comments);try{for(e.s();!(o=e.n()).done;){var i=o.value;i.date=Object(h.a)(new Date(i.date),{includeSeconds:!0,addSuffix:!0})}}catch(s){e.e(s)}finally{e.f()}a.posts.commentsSubject$.next(n.comments.reverse())}),this.toast.create({message:"Your comment has been added.",duration:1500}).then(function(t){return t.present()}),r.next=10,this.router.navigate(["/home/posts/post-page",n]);case 10:case"end":return r.stop()}},r,this)}))}}]),o}(),U.\u0275fac=function(t){return new(t||U)(v.Hb(u.f),v.Hb(a.W),v.Hb(f.a),v.Hb(p.a),v.Hb(a.eb),v.Hb(a.V),v.Hb(l.a),v.Hb(g.a),v.Hb(d.a),v.Hb(m.a))},U.\u0275cmp=v.Bb({type:U,selectors:[["app-posts"]],viewQuery:function(t,n){var o;1&t&&(v.kc(a.r,!0),v.tc(a.J,!0)),2&t&&(v.ec(o=v.Vb())&&(n.fabButton=o.first),v.ec(o=v.Vb())&&(n.searchbar=o.first))},decls:78,vars:11,consts:[["no-border","",1,"ion-hide-lg-up"],["alt","",1,"profile-picture",3,"src"],["slot","primary"],[3,"click"],["src","../../assets/icon/following.svg",1,"header-icons"],["name","list",1,"header-icons"],["src","../../assets/icon/notifications-icon.svg",1,"header-icons"],[2,"color","#e4405f","height","25px","width","25px","border-radius","100px","position","relative","font-size","1.4em","font-weight","600"],[2,"position","relative","right","12px",3,"click"],["name","filter",1,"header-icons"],["id","fab-wrapper","vertical","bottom","horizontal","end","slot","fixed",1,"ion-hide-lg-up"],["id","add-post-button",3,"click"],["name","add","size","large"],["slot","fixed",3,"ionRefresh"],["name","crescent",4,"ngIf"],[1,"ion-hide-lg-down"],[1,"ion-justify-content-center",2,"margin-top","40px"],["pull-lg","1","size-md","7.5","size-lg","6","size-xl","4.8"],["animated","true","cancelButtonText","","showCancelButton","true","placeholder","Search Posts by Hashtags",1,"searchbar-desktop",3,"keyup.enter","ionFocus","ionChange"],[1,"hash-desktop"],[2,"font-size","0.9em"],["size-md","7.5","pull-lg","3","size-lg","3","pull-xl","1.5","size-xl","2"],[1,"orange-button","ion-float-right",2,"display","inline-block","width","72px","font-size","1.2em","--background","none","--color","white",3,"click"],["slot","start","color","primary","name","filter",2,"font-size","1.3em"],[1,"orange-button","ion-float-right",2,"display","inline-block","width","72px","font-size","0.7em",3,"click"],[1,"ion-justify-content-center"],["size-md","7.5","size-lg","9","size-xl","6",2,"margin-top","2%"],["class","post","style","margin-top: 1%;",4,"ngFor","ngForOf"],["push","0.5","size","2"],[1,"user-details",2,"position","fixed","top","36px"],["size","12"],[2,"border-radius","100px","height","55px","width","55px",3,"src"],[2,"font-size","1.2em"],[1,"my-post-button",3,"click"],[1,"following-button",3,"click"],[1,"add-button",3,"click"],[2,"--background","none","--background","none","position","relative","top","16px",3,"click"],["src","../../assets/icon/notifications-icon-blue.svg",2,"font-size","1.5em"],[1,"ion-hide-lg-up"],["size-xs","12","size-sm","11","size-md","10","size-lg","8","size-xl","5",4,"ngIf"],["size-xs","12","size-sm","11","size-md","10","size-lg","8","size-xl","5"],[2,"margin-bottom","200px"],["id","searchbar-wrapper"],["animated","true","searchIcon","none","cancelButtonText","","showCancelButton","true","placeholder","Search Posts by Hashtags",1,"searchbar",3,"ionFocus","ionChange"],[1,"hash"],["id","search-options"],[1,"search-button",3,"click"],[1,"cancel-button",3,"click"],["name","crescent"],[1,"post",2,"margin-top","1%"],["push","0.2","size","1",1,"ion-text-center"],[2,"border-radius","100px","height","35xpx","width","35px",3,"src"],["size","10"],[1,"post-name"],[1,"post-date"],["size","11"],[1,"post-title"],[1,"hashtags"],["class","hashtag",4,"ngFor","ngForOf"],["class","no-tags",4,"ngIf"],[1,"post-content",2,"border-top","1px solid #999","padding","18px 0px",3,"ngClass"],["class","ellipsis",4,"ngIf"],["class","show-more-or-less-button","type","button",3,"click",4,"ngIf"],["size","11.5"],["lines","none",2,"height","auto"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input-mobile",3,"ionBlur","ionFocus"],["postComment",""],["style","float: right;","class","comment-post-button","name","send","type","submit",4,"ngIf"],["size","8"],[3,"postID","postEmail"],["size","3"],[3,"postID","commentLength"],[1,"hashtag"],[1,"no-tags"],[1,"ellipsis"],["type","button",1,"show-more-or-less-button",3,"click"],["name","send","type","submit",1,"comment-post-button",2,"float","right"],["size","1"],[2,"background","#999","border-radius","100px","height","35xpx","width","35px",3,"src"],[1,"post-content",3,"ngClass"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input-mobile",3,"ionBlur"]],template:function(t,n){1&t&&(v.Mb(0,"ion-header",0),v.Mb(1,"ion-toolbar"),v.Mb(2,"ion-title"),v.Ib(3,"img",1),v.Lb(),v.Mb(4,"ion-buttons",2),v.Mb(5,"ion-button",3),v.Ub("click",function(){return n.following()}),v.Ib(6,"ion-icon",4),v.Lb(),v.Mb(7,"ion-button",3),v.Ub("click",function(){return n.myPosts(n.userEmail)}),v.Ib(8,"ion-icon",5),v.Lb(),v.Mb(9,"ion-button",3),v.Ub("click",function(){return n.notifications()}),v.Ib(10,"ion-icon",6),v.Mb(11,"span",7),v.nc(12),v.Lb(),v.Lb(),v.Mb(13,"ion-button",8),v.Ub("click",function(){return n.sortPosts()}),v.Ib(14,"ion-icon",9),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Mb(15,"ion-content"),v.Mb(16,"ion-fab",10),v.Mb(17,"ion-fab-button",11),v.Ub("click",function(){return n.addPost()}),v.Ib(18,"ion-icon",12),v.Lb(),v.Lb(),v.Mb(19,"ion-refresher",13),v.Ub("ionRefresh",function(t){return n.doRefresh(t)}),v.Ib(20,"ion-refresher-content"),v.Lb(),v.mc(21,M,1,0,"ion-spinner",14),v.Mb(22,"ion-grid",15),v.Mb(23,"ion-row",16),v.Mb(24,"ion-col",17),v.Mb(25,"ion-searchbar",18),v.Ub("keyup.enter",function(){return n.searchLoading()})("ionFocus",function(){return n.searchBarFocus()})("ionChange",function(t){return n.search(t)}),v.Mb(26,"span",19),v.nc(27,"#"),v.Lb(),v.Lb(),v.Mb(28,"p",20),v.nc(29,'You can choose up to five hashtags. Please seperate each tag with a comma ( , ) Example: "Computers, Science, Technology"'),v.Lb(),v.Lb(),v.Mb(30,"ion-col",21),v.Mb(31,"ion-button",22),v.Ub("click",function(){return n.filterMenu()}),v.Ib(32,"ion-icon",23),v.Lb(),v.Mb(33,"ion-button",24),v.Ub("click",function(){return n.searchLoading()}),v.nc(34," Search "),v.Lb(),v.Lb(),v.Lb(),v.Mb(35,"ion-row",25),v.Mb(36,"ion-col",26),v.mc(37,I,32,18,"div",27),v.Lb(),v.Mb(38,"ion-col",28),v.Mb(39,"ion-row",29),v.Mb(40,"ion-col",30),v.Ib(41,"img",31),v.Mb(42,"h6",32),v.nc(43),v.Lb(),v.Mb(44,"ion-button",33),v.Ub("click",function(){return n.myPosts(n.userEmail)}),v.nc(45," My Posts "),v.Lb(),v.Mb(46,"ion-button",34),v.Ub("click",function(){return n.following()}),v.nc(47),v.Lb(),v.Mb(48,"ion-button",35),v.Ub("click",function(){return n.addPost()}),v.nc(49," Add Post "),v.Lb(),v.Mb(50,"ion-button",36),v.Ub("click",function(){return n.notifications()}),v.Ib(51,"ion-icon",37),v.Mb(52,"span",7),v.nc(53),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Mb(54,"ion-grid",38),v.Mb(55,"ion-row",25),v.mc(56,S,3,0,"ion-col",39),v.Lb(),v.Mb(57,"ion-row",25),v.Mb(58,"ion-col",40),v.mc(59,D,32,18,"div",27),v.Lb(),v.Lb(),v.Ib(60,"div",41),v.Lb(),v.Lb(),v.Mb(61,"ion-footer",38),v.Mb(62,"div",42),v.Mb(63,"ion-searchbar",43),v.Ub("ionFocus",function(){return n.searchBarFocus()})("ionChange",function(t){return n.search(t)}),v.Mb(64,"span",44),v.nc(65,"#"),v.Lb(),v.Lb(),v.Mb(66,"div",45),v.Mb(67,"p"),v.nc(68,"You can choose up to five hashtags. "),v.Ib(69,"br"),v.nc(70,"Please seperate each tag with a comma ( , ). "),v.Ib(71,"br"),v.nc(72,'Example: "Computers, Science, Technology"'),v.Lb(),v.Mb(73,"div"),v.Mb(74,"ion-button",46),v.Ub("click",function(){return n.searchLoading()}),v.nc(75," Search "),v.Lb(),v.Mb(76,"ion-button",47),v.Ub("click",function(){return n.searchBarBlur()}),v.nc(77," Cancel "),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb()),2&t&&(v.xb(3),v.ac("src",n.userProfilePicture,v.ic),v.xb(9),v.oc(n.notificationsLength),v.xb(4),v.Zb("@inOutAnimation",void 0),v.xb(5),v.Zb("ngIf",n.searching),v.xb(16),v.Zb("ngForOf",n.allPosts),v.xb(4),v.ac("src",n.userProfilePicture,v.ic),v.xb(2),v.oc(n.userFullName),v.xb(4),v.pc(" Following (",n.followedPostCount,") "),v.xb(6),v.oc(n.notificationsLength),v.xb(3),v.Zb("ngIf",n.noPosts),v.xb(3),v.Zb("ngForOf",n.allPosts))},directives:[a.u,a.S,a.R,a.h,a.g,a.v,a.o,a.q,a.r,a.F,a.G,c.j,a.t,a.I,a.n,a.J,a.db,c.i,a.s,a.M,c.h,a.x,l.o,l.j,l.c,a.Q,l.i,l.b,x.a,P.a],styles:[".profile-picture[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:100px;margin-right:5px;display:inline-block;position:relative;top:0}.header-hr[_ngcontent-%COMP%]{border-top:1px solid #666;opacity:.5;margin-top:10px}.post[_ngcontent-%COMP%]{padding:24px 0;margin-bottom:80px;border-radius:10px;box-shadow:1px 10px 26px rgba(0,0,0,.05);font-size:1.1em;line-height:35px;background:#fff}.post-title[_ngcontent-%COMP%]{color:#0055a5;font-size:.9em;position:relative;top:-20px;line-height:25px;margin:10px 0 0}.post-buttons[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:none}.post-name[_ngcontent-%COMP%]{font-size:.9em;color:#222}.post-date[_ngcontent-%COMP%], .post-name[_ngcontent-%COMP%]{margin:0;line-height:18px}.post-date[_ngcontent-%COMP%]{opacity:.4;font-size:.65em}ion-content[_ngcontent-%COMP%]{background:#edf3f8}#filter-toolbar[_ngcontent-%COMP%]{--background:#f4f5f8}@media screen and (max-width:744px){.post[_ngcontent-%COMP%]{position:relative;top:0}}.searchbar[_ngcontent-%COMP%]{background:#0055a5}.searchbar[_ngcontent-%COMP%], .searchbar-desktop[_ngcontent-%COMP%]{font-weight:600;color:#0055a5}.hash[_ngcontent-%COMP%]{color:#fff}.hash[_ngcontent-%COMP%], .hash-desktop[_ngcontent-%COMP%]{margin-right:8px;font-size:2em;font-weight:600}.hash-desktop[_ngcontent-%COMP%]{color:#0055a5}.hashtags[_ngcontent-%COMP%]{position:relative;top:-32px}.hashtag[_ngcontent-%COMP%]{font-size:.65em;color:#ea8400}.hashtag[_ngcontent-%COMP%], .no-tags[_ngcontent-%COMP%]{font-weight:600;display:inline-block;margin-right:5px}.no-tags[_ngcontent-%COMP%]{font-size:.7em;color:#333;opacity:.5;position:relative;top:-32px}.post-content[_ngcontent-%COMP%]{font-size:.9em}.show-less[_ngcontent-%COMP%]{height:auto;overflow:hidden}.show-more-or-less-button[_ngcontent-%COMP%]{float:right;position:relative;right:0;margin-top:35px;padding:.5em;background:#0055a5;color:#fff;border-radius:5px;font-size:.6em;font-weight:600}.ellipsis[_ngcontent-%COMP%]{float:right;position:relative;right:20px;top:-18px}#searchbar-wrapper[_ngcontent-%COMP%]{transition:.5s;height:60px;background:#f4f5f8}.searchbar-input-container[_ngcontent-%COMP%]   .sc-ion-searchbar-md[_ngcontent-%COMP%]{display:block;flex-shrink:1;width:96%;position:relative;left:4px}#search-options[_ngcontent-%COMP%]{padding:10px;color:#fff;font-weight:500;font-size:1.2em;background:#0055a5}#search-options[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{display:block;--background:#0055a5}#search-options[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:16px;--background:#faa71b}.user-details[_ngcontent-%COMP%]{position:fixed;background:none;height:200px}#username[_ngcontent-%COMP%]{color:#0055a5;font-size:.8em;font-weight:600;position:relative;left:0;opacity:0;-webkit-animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards}ion-header[_ngcontent-%COMP%]   .header-icons[_ngcontent-%COMP%]{font-size:1.6em}ion-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:1.2em}ion-item[_ngcontent-%COMP%]{--backsground:none}.following-mobile-button[_ngcontent-%COMP%]{display:inline-block;opacity:1;--background:#0055a5;--color:#fff;box-shadow:1px 1px 40px rgba(0,0,0,.1);height:24px;width:100px;font-size:.5em;font-size:.6em;font-weight:600;position:relative;right:15px}@media screen and (max-width:470px){.following-mobile-button[_ngcontent-%COMP%]{position:relative;right:35px}}.following-button[_ngcontent-%COMP%]{--background:#0055a5}.add-button[_ngcontent-%COMP%], .following-button[_ngcontent-%COMP%]{--color:#fff;height:24px;width:100px;font-size:.5em;font-weight:600;display:block}.add-button[_ngcontent-%COMP%]{--background:linear-gradient(#5ad8b2,#40c59d);--background-hover:linear-gradient(#5ad8b2,#2e8f72)}.my-post-button[_ngcontent-%COMP%]{--background:#333;--background-hover:#444;--color:#fff;font-weight:600;height:24px;width:100px;font-size:.5em;display:block}.my-post-button[_ngcontent-%COMP%]:hover{--color:#fff}form[_ngcontent-%COMP%]{width:100%}.comment[_ngcontent-%COMP%]{border:1px solid #0055a5;border-radius:5px;margin-top:20px;padding:10px}.comment-button[_ngcontent-%COMP%]{font-size:1em;font-weight:600;position:relative;right:-20px;top:5px}.comment-post-button[_ngcontent-%COMP%]{--border-color:#40c59d;--border-width:2px;--border-style:solid;--background:#40c59d;--color:#fff;height:40px;margin:29px auto;font-weight:600;font-size:.6em;border-radius:5px;width:100px}.comment-input[_ngcontent-%COMP%]{margin:10px 0 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input[_ngcontent-%COMP%], .comment-input[_ngcontent-%COMP%]:hover{background:rgba(247,248,248,.5);height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{margin:12px 0 4px;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}.comment-input-mobile[_ngcontent-%COMP%]{background:rgba(213,232,236,.3);height:auto;margin:20px 0 10px;box-shadow:none;padding-left:10px;border:3px solid #0055a5;border-radius:2px}.comment-input-mobile[_ngcontent-%COMP%], .comment-input-mobile[_ngcontent-%COMP%]:focus{transition:1s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input-mobile[_ngcontent-%COMP%]:focus{background:rgba(247,248,248,.5);height:100px;margin:30px 0 150px;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}.comment-button[_ngcontent-%COMP%]{width:130px;--background:#0055a5;--background-hover:#0055a5;--color:#fff;font-size:.6em;font-size:800;border-radius:5px}.comment-button[_ngcontent-%COMP%]:focus{--color:orange}.follow-button[_ngcontent-%COMP%]{--color:#fff;--background:#888;--background-hover:#24d8a8;font-size:.6em;font-size:800;border-radius:5px;width:100px}.unfollow-button[_ngcontent-%COMP%]{font-weight:800;line-height:1em;border:1px solid #faa71b;width:300px;color:#faa71b;font-size:1.5em;padding:2px 0;position:relative;right:20px;border-radius:50px}.comment-button[_ngcontent-%COMP%]:hover, .follow-button[_ngcontent-%COMP%]:hover, .unfollow-button[_ngcontent-%COMP%]:hover{--color:#fff}@media screen and (max-width:567px){.comment-button[_ngcontent-%COMP%], .follow-button[_ngcontent-%COMP%], .unfollow-button[_ngcontent-%COMP%]{font-weight:600;font-size:.5em;width:100px}}ion-buttons[_ngcontent-%COMP%]{position:relative;left:10px}.upvote[_ngcontent-%COMP%]{border-radius:5px;position:relative;--color:#0055a5}.upvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0055a5;font-size:40px}.downvote[_ngcontent-%COMP%]{border-radius:5px;padding-left:0;--color:#0055a5}.downvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0055a5;--font-size:40px}.upvoted-toast[_ngcontent-%COMP%]{--background:#0055a5}.downvoted-toast[_ngcontent-%COMP%]{--background:#ffb351}.followed-toast[_ngcontent-%COMP%]{--background:#24d8a8}.unfollowed-toast[_ngcontent-%COMP%]{--background:#ffb351}ion-fab-button[_ngcontent-%COMP%]{--background:#1baf88;--color-focused:#fff;--color-hover:#fff;--color-activated:#fff;position:relative;bottom:50px;right:10px;opacity:0;transition:.5s;-webkit-animation:fab-slide-in .5s cubic-bezier(.075,.82,.165,1) .5s forwards;animation:fab-slide-in .5s cubic-bezier(.075,.82,.165,1) .5s forwards}@-webkit-keyframes fab-slide-in{0%{transform:translateX(200px)}to{opacity:1;transform:translateX(0)}}@keyframes fab-slide-in{0%{transform:translateX(200px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@-webkit-keyframes username-slide-in{0%{transform:translateX(-20px)}to{transform:translateX(0);opacity:1}}@keyframes username-slide-in{0%{transform:translateX(-20px)}to{transform:translateX(0);opacity:1}}@-webkit-keyframes add-post-button-tap{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}@keyframes add-post-button-tap{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}"],data:{animation:[Object(w.j)("inOutAnimation",[Object(w.i)(":leave",[Object(w.e)("0.8s ease-out",Object(w.h)({transform:"translateX(100px)"}))])])]}}),U)},{path:"add-post",loadChildren:function(){return s.e(43).then(s.bind(null,"E2mU")).then(function(t){return t.AddPostPageModule})}},{path:"post-page/:_id",loadChildren:function(){return Promise.all([s.e(0),s.e(48)]).then(s.bind(null,"qgNS")).then(function(t){return t.PostPagePageModule})}},{path:"following",loadChildren:function(){return Promise.all([s.e(3),s.e(45)]).then(s.bind(null,"txkh")).then(function(t){return t.FollowingPageModule})}},{path:"my-posts/:email",loadChildren:function(){return Promise.all([s.e(3),s.e(46)]).then(s.bind(null,"3c3Z")).then(function(t){return t.MyPostsPageModule})}},{path:"notifications",loadChildren:function(){return s.e(47).then(s.bind(null,"kVc8")).then(function(t){return t.NotificationsPageModule})}},{path:"student-chat",loadChildren:function(){return Promise.all([s.e(0),s.e(50)]).then(s.bind(null,"JGKh")).then(function(t){return t.StudentChatPageModule})}}],N=((R=function t(){i(this,t)}).\u0275mod=v.Fb({type:R}),R.\u0275inj=v.Eb({factory:function(t){return new(t||R)},imports:[[u.j.forChild(T)],u.j]}),R),B=s("zAgk"),W=(($=function t(){i(this,t)}).\u0275mod=v.Fb({type:$}),$.\u0275inj=v.Eb({factory:function(t){return new(t||$)},imports:[[a.T,c.b,l.d,l.l,B.a,l.l,N]]}),$)},u6v2:function(t,n,o){"use strict";o.d(n,"a",function(){return v});var e=o("mrSG"),s=o("ENZJ"),a=o("Aso2"),c=o("2Vo4"),l=o("DtjX"),u=o("fXoL"),b=o("TEn/"),f=o("ofXK");function p(t,n){if(1&t){var o=u.Nb();u.Mb(0,"ion-button",6),u.Ub("click",function(){return u.gc(o),u.Wb().upVotePost()}),u.Ib(1,"ion-icon",7),u.nc(2),u.Lb()}if(2&t){var e=u.Wb();u.xb(2),u.pc(" ",e.upVoteLength," ")}}function h(t,n){if(1&t){var o=u.Nb();u.Mb(0,"ion-button",6),u.Ub("click",function(){return u.gc(o),u.Wb().upVotePost()}),u.Ib(1,"ion-icon",8),u.nc(2),u.Lb()}if(2&t){var e=u.Wb();u.xb(2),u.pc(" ",e.upVoteLength," ")}}function g(t,n){if(1&t){var o=u.Nb();u.Mb(0,"ion-button",9),u.Ub("click",function(){return u.gc(o),u.Wb().downVotePost()}),u.Ib(1,"ion-icon",10),u.nc(2),u.Lb()}if(2&t){var e=u.Wb();u.xb(2),u.pc(" ",e.downVoteLength," ")}}function d(t,n){if(1&t){var o=u.Nb();u.Mb(0,"ion-button",9),u.Ub("click",function(){return u.gc(o),u.Wb().downVotePost()}),u.Ib(1,"ion-icon",11),u.nc(2),u.Lb()}if(2&t){var e=u.Wb();u.xb(2),u.pc(" ",e.downVoteLength," ")}}function m(t,n){if(1&t){var o=u.Nb();u.Mb(0,"ion-button",12),u.Ub("click",function(){u.gc(o);var t=u.Wb();return t.follow(t.postID)}),u.nc(1),u.Lb()}if(2&t){var e=u.Wb();u.xb(1),u.pc("Follow ",e.followingLength," ")}}function w(t,n){if(1&t){var o=u.Nb();u.Mb(0,"ion-button",13),u.Ub("click",function(){u.gc(o);var t=u.Wb();return t.unFollow(t.postID)}),u.nc(1),u.Lb()}if(2&t){var e=u.Wb();u.xb(1),u.pc("Unfollow ",e.followingLength," ")}}var v=function(){var t=function(){function t(n,o,e,s){i(this,t),this.posts=n,this.profile=o,this.toast=e,this.postsEmitterService=s,this.upVotes$=new c.a(null),this.downVotes$=new c.a(null),this.followingLength$=new c.a(null),this.followingLength=null,this.following=!1,this.upVoters=[],this.downVoters=[],this.followers=[],this.upVoted=!1,this.downVoted=!1}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.posts.getPostInfo(this.postID).subscribe(function(n){t.upVotes=n.upvotes,t.downVotes=n.downvotes,t.upVoters=n.upvoters,t.downVoters=n.downvoters;var o=n.followers;t.upVotes$.next(t.upVotes),t.downVotes$.next(t.downVotes),t.upVoteLength=t.upVotes$.getValue(),t.downVoteLength=t.downVotes$.getValue(),t.profile.getUserDetails().subscribe(function(n){var e=n.email,i=!1,s=!1,r=!1;o.find(function(t){t===e&&(i=!0)}),t.upVoters.find(function(t){if(t===e)return s=!0;console.log("Upvoter: "+t)}),t.downVoters.find(function(t){if(t===e)return r=!0}),t.userEmail=e,t.upVoted=s,t.downVoted=r,t.followers=o,t.following=i,console.log(o.length),t.followingLength$.next(o.length),t.followingLength$.subscribe(function(n){t.followingLength=n})})})}},{key:"upVotePost",value:function(){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.posts.upVotePost(this.postID,this.userEmail).subscribe(function(t){var o=t.upvotes,e=t.downvotes;if(console.log(t),n.upVotes$.next(o),n.downVotes$.next(e),n.upVoted=!0,n.upVoteLength=n.upVotes$.getValue(),n.downVoteLength=n.downVotes$.getValue(),!0===n.upVoted)return n.downVoted=!1});case 2:this.postsEmitterService.postPageRefresh(),this.upVotePostToast();case 4:case"end":return t.stop()}},t,this)}))}},{key:"upVotePostToast",value:function(){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({cssClass:"upvoted-toast",message:"You have UPVOTED this post.",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"downVotePost",value:function(){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.posts.downVotePost(this.postID,this.userEmail).subscribe(function(t){var o=t.upvotes,e=t.downvotes;if(console.log(t),n.upVotes$.next(o),n.downVotes$.next(e),n.downVoted=!0,n.upVoteLength=n.upVotes$.getValue(),n.downVoteLength=n.downVotes$.getValue(),!0===n.downVoted)return n.upVoted=!1});case 2:this.postsEmitterService.postPageRefresh(),this.downVoteToast();case 4:case"end":return t.stop()}},t,this)}))}},{key:"downVoteToast",value:function(){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({cssClass:"downvoted-toast",message:"You have DOWNVOTED this post.",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"follow",value:function(t){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,console.log("Following Post");case 2:return n.next=4,console.log(t);case 4:return n.next=6,this.posts.followPost(t,this.postEmail);case 6:return this.following=!0,this.followingLength$.next(this.followingLength+1),n.next=10,this.followToast();case 10:case"end":return n.stop()}},n,this)}))}},{key:"followToast",value:function(){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({cssClass:"followed-toast",message:"You are FOLLOWING this post",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"unFollow",value:function(t){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,console.log("Unfollowing Post");case 2:return n.next=4,console.log(t);case 4:return n.next=6,this.posts.unFollowPost(t,this.postEmail);case 6:return this.following=!1,this.followingLength$.next(this.followingLength-1),n.next=10,this.unFollowToast();case 10:case"end":return n.stop()}},n,this)}))}},{key:"unFollowToast",value:function(){return Object(e.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({cssClass:"unfollowed-toast",message:"You are UNFOLLOWING this post",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}}]),t}();return t.\u0275fac=function(n){return new(n||t)(u.Hb(s.a),u.Hb(a.a),u.Hb(b.eb),u.Hb(l.a))},t.\u0275cmp=u.Bb({type:t,selectors:[["app-up-down-vote-buttons"]],inputs:{postID:"postID",postEmail:"postEmail",isUser:"isUser"},decls:8,vars:6,consts:[[2,"--background","none"],["slot","start"],["class","upvote",3,"click",4,"ngIf"],["class","downvote",3,"click",4,"ngIf"],["class","follow-button",3,"click",4,"ngIf"],["class","unfollow-button",3,"click",4,"ngIf"],[1,"upvote",3,"click"],["size","large","src","../assets/icon/caret-up-outline.svg"],["size","large","src","../assets/icon/caret-up-outline-active.svg"],[1,"downvote",3,"click"],["size","large","src","../assets/icon/caret-down-outline.svg"],["size","large","src","../assets/icon/caret-down-outline-active.svg"],[1,"follow-button",3,"click"],[1,"unfollow-button",3,"click"]],template:function(t,n){1&t&&(u.Mb(0,"ion-toolbar",0),u.Mb(1,"ion-buttons",1),u.mc(2,p,3,1,"ion-button",2),u.mc(3,h,3,1,"ion-button",2),u.mc(4,g,3,1,"ion-button",3),u.mc(5,d,3,1,"ion-button",3),u.mc(6,m,2,1,"ion-button",4),u.mc(7,w,2,1,"ion-button",5),u.Lb(),u.Lb()),2&t&&(u.xb(2),u.Zb("ngIf",!n.upVoted),u.xb(1),u.Zb("ngIf",n.upVoted),u.xb(1),u.Zb("ngIf",!n.downVoted),u.xb(1),u.Zb("ngIf",n.downVoted),u.xb(1),u.Zb("ngIf",!n.following),u.xb(1),u.Zb("ngIf",n.following))},directives:[b.S,b.h,f.j,b.g,b.v],styles:["ion-buttons[_ngcontent-%COMP%]{position:relative;left:-10px}.upvote[_ngcontent-%COMP%]{border-radius:5px;position:relative;--color:#005191}.upvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#005191;font-size:40px}.downvote[_ngcontent-%COMP%]{border-radius:5px;padding-left:0;--color:#005191}.downvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#005191;--font-size:40px}.upvoted-toast[_ngcontent-%COMP%]{--background:#005191}.downvoted-toast[_ngcontent-%COMP%]{--background:#ffb351}.followed-toast[_ngcontent-%COMP%]{--background:#24d8a8}.unfollowed-toast[_ngcontent-%COMP%]{--background:#ffb351}.follow-button[_ngcontent-%COMP%]{--color:#888;--border-color:#888}.follow-button[_ngcontent-%COMP%], .unfollow-button[_ngcontent-%COMP%]{--border-style:solid;--border-width:3px;font-size:.6em;font-weight:800;border-radius:5px;width:100px;margin-left:10px}.unfollow-button[_ngcontent-%COMP%]{--color:#faa71b;--border-color:#faa71b}"]}),t}()}}])}();