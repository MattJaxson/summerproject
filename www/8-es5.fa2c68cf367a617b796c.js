(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{apk9:function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class t{}var o=e("pMnS"),r=e("SVse"),i=e("oBZk"),s=e("ZZ/e"),a=e("s7LF"),b=e("mrSG"),d=e("lGQG");class c{constructor(l,n,e,u,t){this.router=l,this.formBuilder=n,this.auth=e,this.activatedRoute=u,this.toast=t,this.code="",this.userEmail="",this.validationMessasges={code:[{type:"text",message:"The codes do not match"}]}}ngOnInit(){this.enterCodeForm=this.formBuilder.group({code:["",a.o.required]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),this.generateCode(6).then(l=>{this.auth.sendEmailWithCodeForgotPassword(l,this.userEmail)}),this.formOnChanges()}formOnChanges(){console.log(this.enterCodeForm),this.enterCodeForm.valueChanges.subscribe(l=>{console.log(l)})}generateCode(l){return b.b(this,void 0,void 0,(function*(){let n="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=e.length;for(let t=0;t<l;t++)n+=e.charAt(Math.floor(Math.random()*u));return console.log("Generated Code: "+n),this.code=n}))}newPasswordPage(l){this.enterCodeForm.controls.code.value!==this.code?(this.presentToast(),console.log("Codes do not match")):(console.log("Codes matched"),this.router.navigate(["/enter-email/enter-code/:email/new-password",this.userEmail]))}presentToast(){return b.b(this,void 0,void 0,(function*(){(yield this.toast.create({message:"The codes do not match. Please try again.",duration:2e3})).present()}))}cancel(){console.log("Forgot password cancelled"),this.router.navigate([""])}}var g=e("iInd"),h=u.zb({encapsulation:0,styles:[[""]],data:{}});function p(l){return u.Tb(0,[(l()(),u.Bb(0,0,null,null,1,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),u.Sb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.message)}))}function m(l){return u.Tb(0,[(l()(),u.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.qb(16777216,null,null,1,null,p)),u.Ab(2,16384,null,0,r.i,[u.W,u.S],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.enterCodeForm.get("code").hasError(n.context.$implicit.type)&&(e.enterCodeForm.get("code").dirty||e.enterCodeForm.get("code").touched))}),null)}function f(l){return u.Tb(0,[(l()(),u.Bb(0,0,null,null,9,"ion-header",[],null,null,null,i.fb,i.r)),u.Ab(1,49152,null,0,s.C,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,7,"ion-toolbar",[],null,null,null,i.Bb,i.N)),u.Ab(3,49152,null,0,s.Db,[u.j,u.p,u.F],null,null),(l()(),u.Bb(4,0,null,0,2,"ion-title",[],null,null,null,i.Ab,i.M)),u.Ab(5,49152,null,0,s.Bb,[u.j,u.p,u.F],null,null),(l()(),u.Sb(-1,0,["Enter Code"])),(l()(),u.Bb(7,0,null,0,2,"ion-button",[["id","cancel-button"],["slot","end"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.cancel()&&u),u}),i.R,i.d)),u.Ab(8,49152,null,0,s.l,[u.j,u.p,u.F],null,null),(l()(),u.Sb(-1,0,[" cancel "])),(l()(),u.Bb(10,0,null,null,36,"ion-content",[],null,null,null,i.Z,i.l)),u.Ab(11,49152,null,0,s.v,[u.j,u.p,u.F],null,null),(l()(),u.Bb(12,0,null,0,34,"ion-grid",[["class","ion-text-center"],["fixed",""]],null,null,null,i.eb,i.q)),u.Ab(13,49152,null,0,s.B,[u.j,u.p,u.F],{fixed:[0,"fixed"]},null),(l()(),u.Bb(14,0,null,0,32,"ion-row",[],null,null,null,i.qb,i.C)),u.Ab(15,49152,null,0,s.kb,[u.j,u.p,u.F],null,null),(l()(),u.Bb(16,0,null,0,30,"ion-col",[["offset","1"],["size","10"]],null,null,null,i.Y,i.k)),u.Ab(17,49152,null,0,s.u,[u.j,u.p,u.F],{offset:[0,"offset"],size:[1,"size"]},null),(l()(),u.Bb(18,0,null,0,4,"h6",[["style","background: rgba(245,245,245,0.7); padding: 20px; margin: 30px 0 30px 0;"]],null,null,null,null,null)),(l()(),u.Sb(-1,null,["Please enter "])),(l()(),u.Bb(20,0,null,null,1,"span",[["style","font-weight: 700;"]],null,null,null,null,null)),(l()(),u.Sb(-1,null,["6 character code"])),(l()(),u.Sb(22,null,[" that was sent to ",""])),(l()(),u.Bb(23,0,null,0,23,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0,o=l.component;return"submit"===n&&(t=!1!==u.Nb(l,25).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Nb(l,25).onReset()&&t),"ngSubmit"===n&&(t=!1!==o.newPasswordPage(o.enterCodeForm.value)&&t),t}),null,null)),u.Ab(24,16384,null,0,a.s,[],null,null),u.Ab(25,540672,null,0,a.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Pb(2048,null,a.a,null,[a.d]),u.Ab(27,16384,null,0,a.l,[[4,a.a]],null,null),(l()(),u.Bb(28,0,null,null,18,"ion-list",[["class","line-input"]],null,null,null,i.lb,i.w)),u.Ab(29,49152,null,0,s.P,[u.j,u.p,u.F],null,null),(l()(),u.Bb(30,0,null,0,10,"ion-item",[],null,null,null,i.ib,i.u)),u.Ab(31,49152,null,0,s.I,[u.j,u.p,u.F],null,null),(l()(),u.Bb(32,0,null,0,8,"ion-input",[["formControlName","code"],["placeholder","Enter Code"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0;return"ionBlur"===n&&(t=!1!==u.Nb(l,35)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Nb(l,35)._handleInputEvent(e.target)&&t),t}),i.hb,i.t)),u.Ab(33,16384,null,0,a.n,[],{required:[0,"required"]},null),u.Pb(1024,null,a.h,(function(l){return[l]}),[a.n]),u.Ab(35,16384,null,0,s.Pb,[u.p],null,null),u.Pb(1024,null,a.i,(function(l){return[l]}),[s.Pb]),u.Ab(37,671744,null,0,a.c,[[3,a.a],[6,a.h],[8,null],[6,a.i],[2,a.r]],{name:[0,"name"]},null),u.Pb(2048,null,a.j,null,[a.c]),u.Ab(39,16384,null,0,a.k,[[4,a.j]],null,null),u.Ab(40,49152,null,0,s.H,[u.j,u.p,u.F],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),(l()(),u.Bb(41,0,null,0,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),u.qb(16777216,null,null,1,null,m)),u.Ab(43,278528,null,0,r.h,[u.W,u.S,u.x],{ngForOf:[0,"ngForOf"]},null),(l()(),u.Bb(44,0,null,0,2,"ion-button",[["class","orange-button"],["type","submit"]],null,null,null,i.R,i.d)),u.Ab(45,49152,null,0,s.l,[u.j,u.p,u.F],{type:[0,"type"]},null),(l()(),u.Sb(-1,0,["ENTER CODE"]))],(function(l,n){var e=n.component;l(n,13,0,""),l(n,17,0,"1","10"),l(n,25,0,e.enterCodeForm),l(n,33,0,""),l(n,37,0,"code"),l(n,40,0,"Enter Code","","text"),l(n,43,0,e.validationMessasges.code),l(n,45,0,"submit")}),(function(l,n){l(n,22,0,n.component.userEmail),l(n,23,0,u.Nb(n,27).ngClassUntouched,u.Nb(n,27).ngClassTouched,u.Nb(n,27).ngClassPristine,u.Nb(n,27).ngClassDirty,u.Nb(n,27).ngClassValid,u.Nb(n,27).ngClassInvalid,u.Nb(n,27).ngClassPending),l(n,32,0,u.Nb(n,33).required?"":null,u.Nb(n,39).ngClassUntouched,u.Nb(n,39).ngClassTouched,u.Nb(n,39).ngClassPristine,u.Nb(n,39).ngClassDirty,u.Nb(n,39).ngClassValid,u.Nb(n,39).ngClassInvalid,u.Nb(n,39).ngClassPending)}))}var C=u.xb("app-enter-code",c,(function(l){return u.Tb(0,[(l()(),u.Bb(0,0,null,null,1,"app-enter-code",[],null,null,null,f,h)),u.Ab(1,114688,null,0,c,[g.m,a.b,d.a,g.a,s.Qb],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]);const v=()=>e.e(28).then(e.bind(null,"wQpE")).then(l=>l.NewPasswordPageModuleNgFactory);class F{}e.d(n,"EnterCodePageModuleNgFactory",(function(){return B}));var B=u.yb(t,[],(function(l){return u.Kb([u.Lb(512,u.m,u.jb,[[8,[o.a,C]],[3,u.m],u.D]),u.Lb(4608,r.k,r.j,[u.z,[2,r.q]]),u.Lb(4608,a.q,a.q,[]),u.Lb(4608,a.b,a.b,[]),u.Lb(4608,s.c,s.c,[u.F,u.g]),u.Lb(4608,s.Ib,s.Ib,[s.c,u.m,u.w]),u.Lb(4608,s.Lb,s.Lb,[s.c,u.m,u.w]),u.Lb(1073742336,r.b,r.b,[]),u.Lb(1073742336,a.p,a.p,[]),u.Lb(1073742336,a.e,a.e,[]),u.Lb(1073742336,a.m,a.m,[]),u.Lb(1073742336,s.Fb,s.Fb,[]),u.Lb(1073742336,g.o,g.o,[[2,g.t],[2,g.m]]),u.Lb(1073742336,F,F,[]),u.Lb(1073742336,t,t,[]),u.Lb(1024,g.k,(function(){return[[{path:"",component:c},{path:"new-password/:email",loadChildren:v}]]}),[])])}))}}]);