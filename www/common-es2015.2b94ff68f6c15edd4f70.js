(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+veT":function(n,l,t){"use strict";t.d(l,"a",(function(){return y})),t.d(l,"b",(function(){return C})),t.d(l,"c",(function(){return f})),t.d(l,"d",(function(){return w})),t.d(l,"e",(function(){return i}));var e=t("dSyh"),o=t("kBU6");const i=n=>new Promise((l,t)=>{Object(e.m)(()=>{s(n),u(n).then(t=>{t.animation&&t.animation.destroy(),r(n),l(t)},l=>{r(n),t(l)})})}),s=n=>{const l=n.enteringEl,t=n.leavingEl;E(l,t,n.direction),n.showGoBack?l.classList.add("can-go-back"):l.classList.remove("can-go-back"),w(l,!1),t&&w(t,!1)},u=async n=>{const l=await a(n);return l?c(l,n):p(n)},r=n=>{const l=n.leavingEl;n.enteringEl.classList.remove("ion-page-invisible"),void 0!==l&&l.classList.remove("ion-page-invisible")},a=async n=>{if(n.leavingEl&&n.animated&&0!==n.duration)return n.animationBuilder?n.animationBuilder:"ios"===n.mode?(await t.e(150).then(t.bind(null,"Lu00"))).iosTransitionAnimation:(await t.e(151).then(t.bind(null,"wxTh"))).mdTransitionAnimation},c=async(n,l)=>{let e;await d(l,!0);try{const o=await t.e(11).then(t.bind(null,"gHMO"));e=await o.create(n,l.baseEl,l)}catch(i){e=n(l.baseEl,l)}h(l.enteringEl,l.leavingEl);const o=await m(e,l);return l.progressCallback&&l.progressCallback(void 0),o&&g(l.enteringEl,l.leavingEl),{hasCompleted:o,animation:e}},p=async n=>{const l=n.enteringEl,t=n.leavingEl;return await d(n,!1),h(l,t),g(l,t),{hasCompleted:!0}},d=async(n,l)=>{const t=(void 0!==n.deepWait?n.deepWait:l)?[y(n.enteringEl),y(n.leavingEl)]:[v(n.enteringEl),v(n.leavingEl)];await Promise.all(t),await b(n.viewIsReady,n.enteringEl)},b=async(n,l)=>{n&&await n(l)},m=(n,l)=>{const t=l.progressCallback,e=new Promise(l=>{n.onFinish(t=>{"number"==typeof t?l(1===t):void 0!==n.hasCompleted&&l(n.hasCompleted)})});return t?(n.progressStart(!0),t(n)):n.play(),e},h=(n,l)=>{f(l,o.c),f(n,o.a)},g=(n,l)=>{f(n,o.b),f(l,o.d)},f=(n,l)=>{if(n){const t=new CustomEvent(l,{bubbles:!1,cancelable:!1});n.dispatchEvent(t)}},v=n=>n&&n.componentOnReady?n.componentOnReady():Promise.resolve(),y=async n=>{const l=n;if(l){if(null!=l.componentOnReady&&null!=await l.componentOnReady())return;await Promise.all(Array.from(l.children).map(y))}},w=(n,l)=>{l?(n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden")):(n.hidden=!1,n.removeAttribute("aria-hidden"),n.classList.remove("ion-page-hidden"))},E=(n,l,t)=>{void 0!==n&&(n.style.zIndex="back"===t?"99":"101"),void 0!==l&&(l.style.zIndex="100")},C=n=>n.classList.contains("ion-page")?n:n.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||n},"6/gD":function(n,l,t){"use strict";t.d(l,"a",(function(){return s}));var e=t("AytR"),o=t("8Y7J"),i=t("IheW");let s=(()=>{class n{constructor(n){this.http=n,this.BACKEND_URL=e.a.url}imageUpload(n){return console.log("image uploading"),console.log(n),this.http.post(`${this.BACKEND_URL}/api/photo/upload-profile-picture`,n)}changeProfilePicture(n){return console.log(n),this.http.post(`${this.BACKEND_URL}/api/photo/change-profile-picture`,n)}}return n.ngInjectableDef=o.Yb({factory:function(){return new n(o.Zb(i.c))},token:n,providedIn:"root"}),n})()},"7E5L":function(n,l,t){"use strict";var e=t("8Y7J"),o=t("oBZk"),i=t("ZZ/e"),s=t("s7LF"),u=t("VPH/"),r=t("ENZJ"),a=t("DtjX");t.d(l,"a",(function(){return b}));var c=e.zb({encapsulation:0,styles:[[".comment-input[_ngcontent-%COMP%]{background:#fff;height:auto;margin:30px 0 60px;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{height:auto;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]],data:{}});function p(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,11,"ion-header",[["class","ion-hide-md-down"]],null,null,null,o.cb,o.r)),e.Ab(1,49152,null,0,i.C,[e.j,e.p,e.F],null,null),(n()(),e.Bb(2,0,null,0,9,"ion-toolbar",[],null,null,null,o.vb,o.K)),e.Ab(3,49152,null,0,i.Db,[e.j,e.p,e.F],null,null),(n()(),e.Bb(4,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,o.P,o.e)),e.Ab(5,49152,null,0,i.m,[e.j,e.p,e.F],null,null),(n()(),e.Bb(6,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.cancel()&&e),e}),o.O,o.d)),e.Ab(7,49152,null,0,i.l,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,[" cancel "])),(n()(),e.Bb(9,0,null,0,2,"ion-title",[["slot","start"]],null,null,null,o.ub,o.J)),e.Ab(10,49152,null,0,i.Bb,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,["Edit Post"])),(n()(),e.Bb(12,0,null,null,8,"ion-header",[["class","ion-hide-lg-up"]],null,null,null,o.cb,o.r)),e.Ab(13,49152,null,0,i.C,[e.j,e.p,e.F],null,null),(n()(),e.Bb(14,0,null,0,6,"ion-toolbar",[],null,null,null,o.vb,o.K)),e.Ab(15,49152,null,0,i.Db,[e.j,e.p,e.F],null,null),(n()(),e.Bb(16,0,null,0,1,"ion-icon",[["id","back-arrow-icons"],["name","arrow-back"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.cancel()&&e),e}),o.db,o.s)),e.Ab(17,49152,null,0,i.D,[e.j,e.p,e.F],{name:[0,"name"]},null),(n()(),e.Bb(18,0,null,0,2,"ion-title",[["slot","end"]],null,null,null,o.ub,o.J)),e.Ab(19,49152,null,0,i.Bb,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,["Edit Post"])),(n()(),e.Bb(21,0,null,null,21,"ion-content",[],null,null,null,o.W,o.l)),e.Ab(22,49152,null,0,i.v,[e.j,e.p,e.F],null,null),(n()(),e.Bb(23,0,null,0,19,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(24,49152,null,0,i.kb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(25,0,null,0,17,"ion-col",[["size","10"]],null,null,null,o.V,o.k)),e.Ab(26,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(27,0,null,0,15,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,t){var o=!0,i=n.component;return"submit"===l&&(o=!1!==e.Nb(n,29).onSubmit(t)&&o),"reset"===l&&(o=!1!==e.Nb(n,29).onReset()&&o),"ngSubmit"===l&&(o=!1!==i.edit(i.editPostForm.value)&&o),o}),null,null)),e.Ab(28,16384,null,0,s.t,[],null,null),e.Ab(29,540672,null,0,s.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Qb(2048,null,s.a,null,[s.d]),e.Ab(31,16384,null,0,s.l,[[4,s.a]],null,null),(n()(),e.Bb(32,0,null,null,6,"ion-textarea",[["autocapitalize","true"],["autogrow","true"],["class","comment-input"],["formControlName","newPost"],["rows","15"],["spellcheck","true"],["type","text"],["wrap","soft"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown.control.enter"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var o=!0,i=n.component;return"ionBlur"===l&&(o=!1!==e.Nb(n,33)._handleBlurEvent(t.target)&&o),"ionChange"===l&&(o=!1!==e.Nb(n,33)._handleInputEvent(t.target)&&o),"keydown.control.enter"===l&&(o=!1!==i.edit(i.editPostForm.value)&&o),o}),o.tb,o.I)),e.Ab(33,16384,null,0,i.Pb,[e.p],null,null),e.Qb(1024,null,s.i,(function(n){return[n]}),[i.Pb]),e.Ab(35,671744,null,0,s.c,[[3,s.a],[8,null],[8,null],[6,s.i],[2,s.s]],{name:[0,"name"]},null),e.Qb(2048,null,s.j,null,[s.c]),e.Ab(37,16384,null,0,s.k,[[4,s.j]],null,null),e.Ab(38,49152,null,0,i.zb,[e.j,e.p,e.F],{autocapitalize:[0,"autocapitalize"],rows:[1,"rows"],spellcheck:[2,"spellcheck"],wrap:[3,"wrap"]},null),(n()(),e.Bb(39,0,null,null,3,"div",[["style","text-align: center; width: 100%; margin-top: 20px;"]],null,null,null,null,null)),(n()(),e.Bb(40,0,null,null,2,"ion-button",[["class","orange-button"],["style","margin: 0 auto;"],["type","submit"]],null,null,null,o.O,o.d)),e.Ab(41,49152,null,0,i.l,[e.j,e.p,e.F],{type:[0,"type"]},null),(n()(),e.Tb(-1,0,[" Edit "]))],(function(n,l){var t=l.component;n(l,17,0,"arrow-back"),n(l,26,0,"10"),n(l,29,0,t.editPostForm),n(l,35,0,"newPost"),n(l,38,0,"true","15","true","soft"),n(l,41,0,"submit")}),(function(n,l){n(l,27,0,e.Nb(l,31).ngClassUntouched,e.Nb(l,31).ngClassTouched,e.Nb(l,31).ngClassPristine,e.Nb(l,31).ngClassDirty,e.Nb(l,31).ngClassValid,e.Nb(l,31).ngClassInvalid,e.Nb(l,31).ngClassPending),n(l,32,0,e.Nb(l,37).ngClassUntouched,e.Nb(l,37).ngClassTouched,e.Nb(l,37).ngClassPristine,e.Nb(l,37).ngClassDirty,e.Nb(l,37).ngClassValid,e.Nb(l,37).ngClassInvalid,e.Nb(l,37).ngClassPending)}))}function d(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,1,"app-edit-post",[],null,null,null,p,c)),e.Ab(1,114688,null,0,u.a,[s.b,i.Ib,i.Kb,i.Hb,r.a,i.b,a.a],null,null)],(function(n,l){n(l,1,0)}),null)}var b=e.xb("app-edit-post",u.a,d,{},{},[])},"9CtM":function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));class e{}},"9bWj":function(n,l,t){"use strict";t.d(l,"a",(function(){return e})),t("nfbU");class e{}},Dl6n:function(n,l,t){"use strict";t.d(l,"a",(function(){return o})),t.d(l,"b",(function(){return i})),t.d(l,"c",(function(){return e})),t.d(l,"d",(function(){return u}));const e=(n,l)=>null!==l.closest(n),o=n=>"string"==typeof n&&n.length>0?{"ion-color":!0,[`ion-color-${n}`]:!0}:void 0,i=n=>{const l={};return(n=>void 0!==n?(Array.isArray(n)?n:n.split(" ")).filter(n=>null!=n).map(n=>n.trim()).filter(n=>""!==n):[])(n).forEach(n=>l[n]=!0),l},s=/^[a-z][a-z0-9+\-.]*:/,u=async(n,l,t)=>{if(null!=n&&"#"!==n[0]&&!s.test(n)){const e=document.querySelector("ion-router");if(e)return null!=l&&l.preventDefault(),e.push(n,t)}return!1}},ENZJ:function(n,l,t){"use strict";t.d(l,"a",(function(){return r}));var e=t("AytR"),o=t("2Vo4"),i=t("Aso2"),s=t("8Y7J"),u=t("IheW");let r=(()=>{class n{constructor(n,l){this.http=n,this.profile=l,this.BACKEND_URL=e.a.url,this.postsSubject$=new o.a([]),this.commentsSubject$=new o.a([]),this.followingSubject$=new o.a([])}getPosts(){return this.http.get(`${this.BACKEND_URL}/api/posts/`)}getPostInfo(n){return this.http.post(`${this.BACKEND_URL}/api/posts/post-info`,{_id:n})}addPost(n,l,t,e){return console.log("Adding post to post que..."),this.http.post(`${this.BACKEND_URL}/api/posts/add-text-post`,{creatorName:n,creatorEmail:l,creatorProfilePicture:t,post:e})}comment(n,l,t,e,{comment:o}){return this.http.post(`${this.BACKEND_URL}/api/posts/comment`,{postID:n,date:l,userFullName:t,userEmail:e,comment:o})}editPost(n,l){return this.http.post(`${this.BACKEND_URL}/api/posts/edit-post`,{postID:n,newPost:l})}editComment(n,l,t){return this.http.post(`${this.BACKEND_URL}/api/posts/edit-comment`,{postID:l,commentID:n,newComment:t})}upVotePost(n,l){return this.http.post(`${this.BACKEND_URL}/api/posts/up-vote-post`,{postID:n,userEmail:l})}downVotePost(n,l){return this.http.post(`${this.BACKEND_URL}/api/posts/down-vote-post`,{postID:n,userEmail:l})}upVoteComment(n,l,t){return this.http.post(`${this.BACKEND_URL}/api/posts/up-vote-comment`,{postID:n,commentID:l,userEmail:t})}downVoteComment(n,l,t){return this.http.post(`${this.BACKEND_URL}/api/posts/down-vote-comment`,{postID:n,commentID:l,userEmail:t})}followPost(n,l){return this.http.post(`${this.BACKEND_URL}/api/posts/follow`,{_id:n,email:l}).subscribe(n=>{let l=[...Object.values(n)];this.followingSubject$.next(l)})}unFollowPost(n,l){return this.http.post(`${this.BACKEND_URL}/api/posts/unfollow`,{_id:n,email:l}).subscribe(n=>{let l=[...Object.values(n)];this.followingSubject$.next(l)})}getFollowedPost(n){return this.http.post(`${this.BACKEND_URL}/api/posts/get-followed-posts`,{_id:n})}deleteComment(n,l){return this.http.post(`${this.BACKEND_URL}/api/posts/delete-comment`,{_id:n,_cid:l})}deletePost(n){return this.http.post(`${this.BACKEND_URL}/api/posts/delete-post`,{_id:n})}reportComment(n,l,t,e,o,i,s,u,r,a){return this.http.post(`${this.BACKEND_URL}/api/posts/report`,{commentID:n,commentContents:l,postID:t,post:e,userEmail:o,userFullname:i,reportedUserEmail:s,reportedUserName:u,reportReason:r,commentDate:a})}replyComment(n,l,t,e,o,i,s,u){return this.http.post(`${this.BACKEND_URL}/api/posts/reply-comment`,{postID:l,commentID:n,reply:t,userFullName:e,userProfilePicture:i,userEmail:o,commentUserEmail:u,commentUserFullName:s})}deleteReply(n,l,t){return this.http.post(`${this.BACKEND_URL}/api/posts/delete-reply`,{_rid:n,_cid:l,_pid:t})}}return n.ngInjectableDef=s.Yb({factory:function(){return new n(s.Zb(u.c),s.Zb(i.a))},token:n,providedIn:"root"}),n})()},OHV1:function(n,l,t){"use strict";t.d(l,"a",(function(){return e})),t("VPH/");class e{}},U8oy:function(n,l,t){"use strict";t.d(l,"a",(function(){return c}));var e=t("mrSG"),o=t("2Vo4"),i=t("Aso2"),s=t("AytR"),u=t("ZZ/e"),r=t("8Y7J"),a=t("IheW");let c=(()=>{class n{constructor(n,l,t){this.http=n,this.profile=l,this.toast=t,this.BACKEND_URL=s.a.url,this.favoriteJobs$=new o.a([])}getFavorites(n){return console.log("Getting Favorites"),this.http.post(`${this.BACKEND_URL}/api/jobs/get-favorites`,{email:n})}favoriteThisJob(n){const l=this.profile.activeEmail;return n.userEmail=l,this.http.post(`${this.BACKEND_URL}/api/jobs/favorite`,{email:l,_id:n._id}).subscribe(n=>{console.log("Posting Favorite Job to Database..");let l=[...Object.values(n)];this.favoriteJobs$.next(l),this.presentToast("You favorited this job!")})}unFavoriteThisJob(n){const l=this.profile.activeEmail;n.userEmail=l,this.http.post(`${this.BACKEND_URL}/api/jobs/unfavorite`,{email:l,_id:n._id}).subscribe(n=>e.b(this,void 0,void 0,(function*(){console.log("Unfavorite data value: ",n);let l=[...Object.values(n)];this.favoriteJobs$.next(l),this.presentToast("You removed this job from Favorites.")}))),console.log("Unfavoriting this Job")}presentToast(n){return e.b(this,void 0,void 0,(function*(){(yield this.toast.create({message:n,duration:3e3,cssClass:"updated-toast",position:"bottom"})).present()}))}}return n.ngInjectableDef=r.Yb({factory:function(){return new n(r.Zb(a.c),r.Zb(i.a),r.Zb(u.Qb))},token:n,providedIn:"root"}),n})()},"VPH/":function(n,l,t){"use strict";t.d(l,"a",(function(){return o}));var e=t("mrSG");t("ZZ/e"),t("ENZJ"),t("DtjX");class o{constructor(n,l,t,e,o,i,s){this.formBuilder=n,this.modal=l,this.navParams=t,this.loading=e,this.posts=o,this.alert=i,this.postEmitterService=s}ngOnInit(){this.postID=this.navParams.get("postID"),this.post=this.navParams.get("post"),console.log(this.post),this.editPostForm=this.formBuilder.group({newPost:this.post})}cancel(){console.log("cancelling"),this.modal.dismiss()}refreshComment(){this.postEmitterService.postPageRefresh()}edit(n){console.log("editting"),this.posts.editPost(this.postID,n.newPost).subscribe(n=>{console.log(n),this.editLoading(n.post)})}editLoading(n){return e.b(this,void 0,void 0,(function*(){const l=yield this.loading.create({message:"Editing your Post...",duration:1e3});yield l.present(),console.log(n.post),yield l.onDidDismiss(),yield this.modal.dismiss(),yield this.posts.postsSubject$.next(n),yield this.confirmAlert(),console.log("Loading dismissed!")}))}confirmAlert(){return e.b(this,void 0,void 0,(function*(){const n=yield this.alert.create({cssClass:"success-alert",message:"Your Post has been edited.",buttons:["OK"]});yield n.present()}))}}},YtD4:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));const e=n=>{try{if("string"!=typeof n||""===n)return n;const l=document.createDocumentFragment(),t=document.createElement("div");l.appendChild(t),t.innerHTML=n,u.forEach(n=>{const t=l.querySelectorAll(n);for(let e=t.length-1;e>=0;e--){const n=t[e];n.parentNode?n.parentNode.removeChild(n):l.removeChild(n);const s=i(n);for(let l=0;l<s.length;l++)o(s[l])}});const e=i(l);for(let n=0;n<e.length;n++)o(e[n]);const s=document.createElement("div");s.appendChild(l);const r=s.querySelector("div");return null!==r?r.innerHTML:s.innerHTML}catch(l){return console.error(l),""}},o=n=>{if(n.nodeType&&1!==n.nodeType)return;for(let t=n.attributes.length-1;t>=0;t--){const l=n.attributes.item(t),e=l.name;if(!s.includes(e.toLowerCase())){n.removeAttribute(e);continue}const o=l.value;null!=o&&o.toLowerCase().includes("javascript:")&&n.removeAttribute(e)}const l=i(n);for(let t=0;t<l.length;t++)o(l[t])},i=n=>null!=n.children?n.children:n.childNodes,s=["class","id","href","src","name","slot"],u=["script","style","iframe","meta","link","object","embed"]},fU57:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));class e{}},h8Q2:function(n,l,t){"use strict";t.d(l,"a",(function(){return s}));var e=t("AytR"),o=t("8Y7J"),i=t("IheW");let s=(()=>{class n{constructor(n){this.http=n,this.BACKEND_URL=e.a.url}resumeUpload(n){return console.log("resume uploading"),this.http.post(`${this.BACKEND_URL}/api/resume/upload-resume`,n)}changeResume(n){return console.log(n),this.http.post(`${this.BACKEND_URL}/api/resume/change-resume`,n)}}return n.ngInjectableDef=o.Yb({factory:function(){return new n(o.Zb(i.c))},token:n,providedIn:"root"}),n})()},m9yc:function(n,l,t){"use strict";t.d(l,"a",(function(){return e})),t.d(l,"b",(function(){return o}));const e=async(n,l,t,e,o)=>{if(n)return n.attachViewToDom(l,t,o,e);if("string"!=typeof t&&!(t instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof t?l.ownerDocument&&l.ownerDocument.createElement(t):t;return e&&e.forEach(n=>i.classList.add(n)),o&&Object.assign(i,o),l.appendChild(i),i.componentOnReady&&await i.componentOnReady(),i},o=(n,l)=>{if(l){if(n)return n.removeViewFromDom(l.parentElement,l);l.remove()}return Promise.resolve()}},"nN+u":function(n,l,t){"use strict";t.d(l,"a",(function(){return i})),t.d(l,"b",(function(){return e}));const e=(n,l,t)=>{const e=new MutationObserver(n=>{t(o(n,l))});return e.observe(n,{childList:!0,subtree:!0}),e},o=(n,l)=>{let t;return n.forEach(n=>{for(let e=0;e<n.addedNodes.length;e++)t=i(n.addedNodes[e],l)||t}),t},i=(n,l)=>{if(1===n.nodeType)return(n.tagName===l.toUpperCase()?[n]:Array.from(n.querySelectorAll(l))).find(n=>!0===n.checked)}},nfbU:function(n,l,t){"use strict";t.d(l,"a",(function(){return s}));var e=t("mrSG"),o=(t("ZZ/e"),t("ENZJ"),t("7xvl")),i=t("2Vo4");t("DtjX");class s{constructor(n,l,t,e,o,s,u){this.formBuilder=n,this.modal=l,this.navParams=t,this.loading=e,this.posts=o,this.alert=s,this.postEmitterService=u,this.replies$=new i.a([]),this.tabBar=document.getElementById("myTabBar"),this.votes=document.getElementById("votes")}ngOnInit(){this.repliesForm=this.formBuilder.group({reply:[""]}),this.replies$.next(this.navParams.get("replies").reverse()),this.replies$.subscribe(n=>{this.replies=n;for(let l of this.replies)l.isEditable=!1,console.log(l.userEmail),l.userEmail==this.userEmail&&(l.isEditable=!0)}),this.postID=this.navParams.get("postID"),this.commentContents=this.navParams.get("comment"),this.commentID=this.navParams.get("commentID"),this.commentUserFullName=this.navParams.get("commentUserFullName"),this.commentUserEmail=this.navParams.get("commentUserEmail"),this.commentDate=this.navParams.get("commentDate"),this.userFullName=this.navParams.get("userFullName"),this.userEmail=this.navParams.get("userEmail")}cancel(){console.log("cancelling comment..."),this.modal.dismiss()}refreshRepliesAmount(){this.postEmitterService.postPageRefresh()}reply(n){return e.b(this,void 0,void 0,(function*(){yield this.repliesForm.reset(),yield console.log("replying to comment..."),yield this.posts.replyComment(this.commentID,this.postID,n.reply,this.userFullName,this.userEmail,this.userProfilePicture,this.commentUserFullName,this.commentUserEmail).subscribe(n=>{let l,t=[];for(const o of n.comments)if(o._id==n.comment){l=o;for(let n=0;n<o.replies.length;n++)t.push(o.replies[n])}let e=n.comments,i=n.userEmail,s=n.replies;for(const u of e){u.repliesLength=u.replies.length,u.isUser=!1,u.canDeleteComment=!1,u.canReport=!0,u.date=Object(o.a)(new Date(u.date),{includeSeconds:!1,addSuffix:!1}),u.userEmail===i&&(u.isUser=!0,u.canDeleteComment=!0,u.canReport=!1);for(let n=0;u.replies.length>n;n++)u.replies[n].date=Object(o.a)(new Date(u.replies[n].date),{addSuffix:!1}),s.push(u.replies[n])}this.replies=t,this.posts.commentsSubject$.next(e.reverse()),this.replies$.next(this.replies.reverse())}),yield this.repliesLoading()}))}deleteReply(n){return e.b(this,void 0,void 0,(function*(){console.log("Deleting reply with id ",n),yield this.posts.deleteReply(n,this.commentID,this.postID).subscribe(n=>{let l;console.log(n);let t=[],e=n.comments,i=n.userEmail,s=n.replies;for(const o of e)if(o._id==n.comment){l=o;for(let n=0;n<o.replies.length;n++)t.push(o.replies[n])}for(const u of e){u.repliesLength=u.replies.length,u.isUser=!1,u.canDeleteComment=!1,u.canReport=!0,u.date=Object(o.a)(new Date(u.date),{includeSeconds:!1,addSuffix:!1}),u.userEmail==i&&(u.isUser=!0,u.canDeleteComment=!0,u.canReport=!1);for(let n=0;u.replies.length>n;n++)u.replies[n].date=Object(o.a)(new Date(u.replies[n].date),{addSuffix:!1}),s.push(u.replies[n])}this.replies=t,this.posts.commentsSubject$.next(e.reverse()),this.replies$.next(this.replies.reverse())})}))}repliesLoading(){return e.b(this,void 0,void 0,(function*(){const n=yield this.loading.create({message:"Replying to Comment...",duration:2e3});yield this.refreshRepliesAmount(),yield n.present(),yield n.onDidDismiss(),console.log("Loading dismissed!")}))}confirmAlert(){return e.b(this,void 0,void 0,(function*(){const n=yield this.alert.create({cssClass:"success-alert",message:"Your comment has been edited.",buttons:["OK"]});yield n.present()}))}ScrollToTop(){this.content.scrollToPoint(0,140,100),this.tabBar.style.height="0px",this.votes.style.height="0px"}ScrollToReply(){this.content.scrollToPoint(0,300,100),this.textarea.getInputElement().then(n=>{n.blur()})}onBlur(){this.textarea.getInputElement().then(n=>{this.tabBar.style.height="70px",this.votes.style.height="70px"})}blur(){this.textarea.getInputElement().then(n=>{n.blur(),this.tabBar.style.height="70px",this.votes.style.height="70px"})}}},opz7:function(n,l,t){"use strict";t.d(l,"a",(function(){return o})),t.d(l,"b",(function(){return i})),t.d(l,"c",(function(){return s})),t.d(l,"d",(function(){return e}));const e=()=>{const n=window.TapticEngine;n&&n.selection()},o=()=>{const n=window.TapticEngine;n&&n.gestureSelectionStart()},i=()=>{const n=window.TapticEngine;n&&n.gestureSelectionChanged()},s=()=>{const n=window.TapticEngine;n&&n.gestureSelectionEnd()}},qaSm:function(n,l,t){"use strict";t.d(l,"a",(function(){return e})),t.d(l,"b",(function(){return o}));class e{constructor(n,l){this.x=n,this.y=l}}const o=(n,l,t,e,o)=>{const u=s(n.y,l.y,t.y,e.y,o);return i(n.x,l.x,t.x,e.x,u[0])},i=(n,l,t,e,o)=>o*(3*l*Math.pow(o-1,2)+o*(-3*t*o+3*t+e*o))-n*Math.pow(o-1,3),s=(n,l,t,e,o)=>u((e-=o)-3*(t-=o)+3*(l-=o)-(n-=o),3*t-6*l+3*n,3*l-3*n,n).filter(n=>n>=0&&n<=1),u=(n,l,t,e)=>{if(0===n)return((n,l,t)=>{const e=l*l-4*n*t;return e<0?[]:[(-l+Math.sqrt(e))/(2*n),(-l-Math.sqrt(e))/(2*n)]})(l,t,e);const o=(3*(t/=n)-(l/=n)*l)/3,i=(2*l*l*l-9*l*t+27*(e/=n))/27;if(0===o)return[Math.pow(-i,1/3)];if(0===i)return[Math.sqrt(-o),-Math.sqrt(-o)];const s=Math.pow(i/2,2)+Math.pow(o/3,3);if(0===s)return[Math.pow(i/2,.5)-l/3];if(s>0)return[Math.pow(-i/2+Math.sqrt(s),1/3)-Math.pow(i/2+Math.sqrt(s),1/3)-l/3];const u=Math.sqrt(Math.pow(-o/3,3)),r=Math.acos(-i/(2*Math.sqrt(Math.pow(-o/3,3)))),a=2*Math.pow(u,1/3);return[a*Math.cos(r/3)-l/3,a*Math.cos((r+2*Math.PI)/3)-l/3,a*Math.cos((r+4*Math.PI)/3)-l/3]}},sQ9i:function(n,l,t){"use strict";var e=t("8Y7J"),o=t("oBZk"),i=t("ZZ/e"),s=t("SVse"),u=t("s7LF"),r=t("nfbU"),a=t("ENZJ"),c=t("DtjX");t.d(l,"a",(function(){return g}));var p=e.zb({encapsulation:0,styles:[[".reply-input[_ngcontent-%COMP%]{background:#fff;height:auto;margin:20px 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:linear}.reply-input[_ngcontent-%COMP%]:hover{background:rgba(250,167,27,.02);height:auto;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}ion-button[type=submit][_ngcontent-%COMP%]{--color:white;--background:linear-gradient(#24d8a8, #1baf88)}.reply-wrapper[_ngcontent-%COMP%]{padding:10px}#reply-avatar[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50px;position:relative;right:15px}#reply-date[_ngcontent-%COMP%]{font-size:.7em;color:#999}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]],data:{}});function d(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,2,"ion-button",[["expand","block"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleteReply(n.parent.context.$implicit._id)&&e),e}),o.O,o.d)),e.Ab(1,49152,null,0,i.l,[e.j,e.p,e.F],{expand:[0,"expand"]},null),(n()(),e.Tb(-1,0,[" Delete "]))],(function(n,l){n(l,1,0,"block")}),null)}function b(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,16,"ion-row",[["class","ion-justify-content-center ion-align-items-start reply-wrapper"]],null,null,null,o.kb,o.z)),e.Ab(1,49152,null,0,i.kb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(2,0,null,0,2,"ion-col",[["size","1"]],null,null,null,o.V,o.k)),e.Ab(3,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(4,0,null,0,0,"img",[["id","reply-avatar"],["src","../../../assets/batman-pro-pic.png"]],null,null,null,null,null)),(n()(),e.Bb(5,0,null,0,3,"ion-col",[["size","5"]],null,null,null,o.V,o.k)),e.Ab(6,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(7,0,null,0,1,"p",[["class","reply-text"]],null,null,null,null,null)),(n()(),e.Tb(8,null,["",""])),(n()(),e.Bb(9,0,null,0,3,"ion-col",[["size","2"]],null,null,null,o.V,o.k)),e.Ab(10,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(11,0,null,0,1,"p",[["id","reply-date"]],null,null,null,null,null)),(n()(),e.Tb(12,null,["",""])),(n()(),e.Bb(13,0,null,0,3,"ion-col",[["size","2"]],null,null,null,o.V,o.k)),e.Ab(14,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.qb(16777216,null,0,1,null,d)),e.Ab(16,16384,null,0,s.j,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,3,0,"1"),n(l,6,0,"5"),n(l,10,0,"2"),n(l,14,0,"2"),n(l,16,0,l.context.$implicit.isEditable)}),(function(n,l){n(l,8,0,l.context.$implicit.reply),n(l,12,0,l.context.$implicit.date)}))}function m(n){return e.Vb(0,[e.Rb(402653184,1,{content:0}),e.Rb(402653184,2,{textarea:0}),(n()(),e.Bb(2,0,null,null,11,"ion-header",[["class","ion-hide-md-down"]],null,null,null,o.cb,o.r)),e.Ab(3,49152,null,0,i.C,[e.j,e.p,e.F],null,null),(n()(),e.Bb(4,0,null,0,9,"ion-toolbar",[],null,null,null,o.vb,o.K)),e.Ab(5,49152,null,0,i.Db,[e.j,e.p,e.F],null,null),(n()(),e.Bb(6,0,null,0,2,"ion-title",[["slot","start"]],null,null,null,o.ub,o.J)),e.Ab(7,49152,null,0,i.Bb,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,["Replies"])),(n()(),e.Bb(9,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,o.P,o.e)),e.Ab(10,49152,null,0,i.m,[e.j,e.p,e.F],null,null),(n()(),e.Bb(11,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.cancel()&&e),e}),o.O,o.d)),e.Ab(12,49152,null,0,i.l,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,[" cancel "])),(n()(),e.Bb(14,0,null,null,8,"ion-header",[["class","ion-hide-lg-up"]],null,null,null,o.cb,o.r)),e.Ab(15,49152,null,0,i.C,[e.j,e.p,e.F],null,null),(n()(),e.Bb(16,0,null,0,6,"ion-toolbar",[],null,null,null,o.vb,o.K)),e.Ab(17,49152,null,0,i.Db,[e.j,e.p,e.F],null,null),(n()(),e.Bb(18,0,null,0,1,"ion-icon",[["id","back-arrow-icons"],["name","arrow-back"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.cancel()&&e),e}),o.db,o.s)),e.Ab(19,49152,null,0,i.D,[e.j,e.p,e.F],{name:[0,"name"]},null),(n()(),e.Bb(20,0,null,0,2,"ion-title",[["slot","end"]],null,null,null,o.ub,o.J)),e.Ab(21,49152,null,0,i.Bb,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,["Replies"])),(n()(),e.Bb(23,0,null,null,46,"ion-content",[],null,null,null,o.W,o.l)),e.Ab(24,49152,[[1,4]],0,i.v,[e.j,e.p,e.F],null,null),(n()(),e.Bb(25,0,null,0,12,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(26,49152,null,0,i.kb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(27,0,null,0,10,"ion-col",[["size","11"]],null,null,null,o.V,o.k)),e.Ab(28,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(29,0,null,0,8,"ion-item",[["lines","none"]],null,null,null,o.fb,o.u)),e.Ab(30,49152,null,0,i.I,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(n()(),e.Bb(31,0,null,0,2,"ion-avatar",[["class","comment-avatar"],["slot","start"]],null,null,null,o.M,o.b)),e.Ab(32,49152,null,0,i.g,[e.j,e.p,e.F],null,null),(n()(),e.Bb(33,0,null,0,0,"img",[["src","../../../../assets/aaron.jpg"]],null,null,null,null,null)),(n()(),e.Bb(34,0,null,0,3,"ion-label",[],null,null,null,o.gb,o.v)),e.Ab(35,49152,null,0,i.O,[e.j,e.p,e.F],null,null),(n()(),e.Bb(36,0,null,0,1,"h6",[["style","opacity: 0.5"]],null,null,null,null,null)),(n()(),e.Tb(37,null,[""," - "," "])),(n()(),e.Bb(38,0,null,0,5,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(39,49152,null,0,i.kb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(40,0,null,0,3,"ion-col",[["size","11"]],null,null,null,o.V,o.k)),e.Ab(41,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(42,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(43,null,["",""])),(n()(),e.Bb(44,0,null,0,18,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(45,49152,null,0,i.kb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(46,0,null,0,16,"ion-col",[["size","11"]],null,null,null,o.V,o.k)),e.Ab(47,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(48,0,null,0,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,t){var o=!0,i=n.component;return"submit"===l&&(o=!1!==e.Nb(n,50).onSubmit(t)&&o),"reset"===l&&(o=!1!==e.Nb(n,50).onReset()&&o),"ngSubmit"===l&&(o=!1!==(i.repliesForm.value.reply.length>0?i.reply(i.repliesForm.value)&&i.ScrollToReply():null)&&o),o}),null,null)),e.Ab(49,16384,null,0,u.t,[],null,null),e.Ab(50,540672,null,0,u.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Qb(2048,null,u.a,null,[u.d]),e.Ab(52,16384,null,0,u.l,[[4,u.a]],null,null),(n()(),e.Bb(53,0,null,null,6,"ion-textarea",[["autocapitalize","true"],["autogrow","true"],["class","reply-input"],["formControlName","reply"],["placeholder","Reply to this comment"],["rows","5"],["spellcheck","true"],["type","text"],["wrap","soft"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionFocus"],[null,"ionBlur"],[null,"onfocusout"],[null,"keydown.control.enter"],[null,"ionChange"]],(function(n,l,t){var o=!0,i=n.component;return"ionBlur"===l&&(o=!1!==e.Nb(n,54)._handleBlurEvent(t.target)&&o),"ionChange"===l&&(o=!1!==e.Nb(n,54)._handleInputEvent(t.target)&&o),"ionFocus"===l&&(o=!1!==i.ScrollToTop()&&o),"ionBlur"===l&&(o=!1!==i.onBlur()&&o),"onfocusout"===l&&(o=!1!==i.blur()&&o),"keydown.control.enter"===l&&(o=!1!==(i.repliesForm.value.reply.length>0?i.reply(i.repliesForm.value)&&i.ScrollToReply():null)&&o),o}),o.tb,o.I)),e.Ab(54,16384,null,0,i.Pb,[e.p],null,null),e.Qb(1024,null,u.i,(function(n){return[n]}),[i.Pb]),e.Ab(56,671744,null,0,u.c,[[3,u.a],[8,null],[8,null],[6,u.i],[2,u.s]],{name:[0,"name"]},null),e.Qb(2048,null,u.j,null,[u.c]),e.Ab(58,16384,null,0,u.k,[[4,u.j]],null,null),e.Ab(59,49152,[[2,4]],0,i.zb,[e.j,e.p,e.F],{autocapitalize:[0,"autocapitalize"],placeholder:[1,"placeholder"],rows:[2,"rows"],spellcheck:[3,"spellcheck"],wrap:[4,"wrap"]},null),(n()(),e.Bb(60,0,null,null,2,"ion-button",[["expand","block"],["type","submit"]],null,null,null,o.O,o.d)),e.Ab(61,49152,null,0,i.l,[e.j,e.p,e.F],{expand:[0,"expand"],type:[1,"type"]},null),(n()(),e.Tb(-1,0,[" Reply "])),(n()(),e.Bb(63,0,null,0,4,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(64,49152,null,0,i.kb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(65,0,null,0,2,"ion-col",[["size","11"]],null,null,null,o.V,o.k)),e.Ab(66,49152,null,0,i.u,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(67,0,null,0,0,"hr",[["style","background-color: #999; opacity: 0.4; margin: 20px 0 20px 0;"]],null,null,null,null,null)),(n()(),e.qb(16777216,null,0,1,null,b)),e.Ab(69,278528,null,0,s.i,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,19,0,"arrow-back"),n(l,28,0,"11"),n(l,30,0,"none"),n(l,41,0,"11"),n(l,47,0,"11"),n(l,50,0,t.repliesForm),n(l,56,0,"reply"),n(l,59,0,"true","Reply to this comment","5","true","soft"),n(l,61,0,"block","submit"),n(l,66,0,"11"),n(l,69,0,t.replies)}),(function(n,l){var t=l.component;n(l,37,0,t.commentUserFullName,t.commentDate),n(l,43,0,t.commentContents),n(l,48,0,e.Nb(l,52).ngClassUntouched,e.Nb(l,52).ngClassTouched,e.Nb(l,52).ngClassPristine,e.Nb(l,52).ngClassDirty,e.Nb(l,52).ngClassValid,e.Nb(l,52).ngClassInvalid,e.Nb(l,52).ngClassPending),n(l,53,0,e.Nb(l,58).ngClassUntouched,e.Nb(l,58).ngClassTouched,e.Nb(l,58).ngClassPristine,e.Nb(l,58).ngClassDirty,e.Nb(l,58).ngClassValid,e.Nb(l,58).ngClassInvalid,e.Nb(l,58).ngClassPending)}))}function h(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,1,"app-replies-page",[],null,null,null,m,p)),e.Ab(1,114688,null,0,r.a,[u.b,i.Ib,i.Kb,i.Hb,a.a,i.b,c.a],null,null)],(function(n,l){n(l,1,0)}),null)}var g=e.xb("app-replies-page",r.a,h,{},{},[])}}]);