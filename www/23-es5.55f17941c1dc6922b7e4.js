!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[23,67,68,69],{Aso2:function(t,o,r){"use strict";r.d(o,"a",function(){return f});var i=r("mrSG"),s=r("NuaS"),a=r("lGQG"),u=r("2Vo4"),c=r("JIr8"),l=r("AytR"),h=r("fXoL"),m=r("tk/3"),p=r("e8h1"),d=r("TEn/"),b=r("tyNb"),f=function(){var t=function(){function t(n,o,r,i,s,a,c){e(this,t),this.http=n,this.storage=o,this.alertController=r,this.helper=i,this.auth=s,this.router=a,this.toastController=c,this.BACKEND_URL=l.a.url,this.activeEmail="",this.fullName=new u.a(""),this.about=new u.a(""),this.city=new u.a(""),this.state=new u.a(""),this.zip=new u.a(""),this.gender=new u.a(""),this.dob=new u.a(""),this.school=new u.a(""),this.grade=new u.a(""),this.profilePicture=new u.a(""),this.resume=new u.a(""),this.email=new u.a(""),this.phone=new u.a(""),this.activeEmail=this.auth.user.email}return n(t,[{key:"getAllUsers",value:function(){return this.http.get(this.BACKEND_URL+"/api/home/user")}},{key:"getUserDetails",value:function(){return this.http.post(this.BACKEND_URL+"/api/home/user",{email:this.activeEmail})}},{key:"getTheirDetails",value:function(e){return this.http.post(this.BACKEND_URL+"/api/home/user/their-details",{email:e})}},{key:"changeEmail",value:function(e,t){var n=this;return this.http.post(this.BACKEND_URL+"/api/home/user/change-email",{oldEmail:this.activeEmail,email:e,password:t}).pipe(Object(c.a)(function(e){throw n.presentFailToast(n.activeEmail),new Error(e)})).subscribe(function(t){if(!0!==t)return n.presentFailToast(n.activeEmail),console.log("Passwords dont match");n.email.next(e),n.activeEmail=e,n.router.navigate(["/home/profile"]),n.presentSuccessToast()})}},{key:"changePhone",value:function(e,t){var n=this;return this.http.post(this.BACKEND_URL+"/api/home/user/change-phone",{email:this.email,newPhone:e,password:t}).pipe(Object(c.a)(function(e){throw n.presentFailToast(n.activeEmail),new Error(e)})).subscribe(function(t){if(!0!==t)return n.presentFailToast(n.activeEmail),console.log("Passwords dont match");n.phone.next(e),n.phone=e,n.router.navigate(["/home/profile"]),n.presentSuccessToast()})}},{key:"presentSuccessToast",value:function(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(e){return e.present()})}},{key:"presentFailToast",value:function(e){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of "+e,duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(function(e){return e.present()})}},{key:"changePassword",value:function(e,t,n,o){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var i=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-password",{oldPassword:t,email:e,newPassword:n,reTypeNewPassword:o}).subscribe(function(e){!0===e?(console.log("TRUE"),i.router.navigate([""]),i.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(e){return e.present()})):console.log("Passwords dont match!")});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}))}},{key:"changeAbout",value:function(e,t,n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-about",{email:e,newAbout:t,passsword:n}).subscribe();case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},o,this)}))}},{key:"changeSchool",value:function(e,t,n,o){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var i=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:e,newSchool:t,newGrade:n,password:o}).subscribe(function(e){if(!0!==e)return i.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(function(e){return e.present()}),console.log("Passwords dont match");i.school.next(t),i.grade.next(n),i.router.navigate(["/home/profile"]),i.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(e){return e.present()})});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}))}},{key:"changeProfilePicture",value:function(e,t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",{imageForm:e,oldPhotoKey:t}).subscribe());case 1:case"end":return n.stop()}},n,this)}))}},{key:"changeResume",value:function(e,t,n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var r=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:e,newResume:t,password:n}).subscribe(function(e){if(!0!==e)return console.log("Passwords dont match");console.log("Changing Resume..."),r.resume.next(t),r.router.navigate(["/home/user/change-school/:school/:grade/confirm"])});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},o,this)}))}},{key:"delete",value:function(){console.log("Deleted User")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Qb(m.b),h.Qb(p.b),h.Qb(d.a),h.Qb(s.b),h.Qb(a.a),h.Qb(b.g),h.Qb(d.eb))},t.\u0275prov=h.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},pRc2:function(t,o,r){"use strict";r.r(o),r.d(o,"ContactMentorPageModule",function(){return w});var i,s,a,u=r("ofXK"),c=r("3Pt+"),l=r("TEn/"),h=r("tyNb"),m=r("mrSG"),p=r("Aso2"),d=r("+DJb"),b=r("fXoL"),f=[{path:"",component:(i=function(){function t(n,o,r,i,s,a){e(this,t),this.profile=n,this.mentors=o,this.activatedRoute=r,this.formBuilder=i,this.router=s,this.location=a}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.contactMenorForm=this.formBuilder.group({message:["",c.n.required]}),console.log("Valid: "+this.contactMenorForm.valid),this.contactMenorForm.get("message").valueChanges.subscribe(function(t){console.log("Subscribed message: "+t),setTimeout(function(){e.messageValid=!!e.contactMenorForm.valid,console.log("Valid: "+e.contactMenorForm.valid)},100)}),this.message=this.contactMenorForm.value.message;var t=this.activatedRoute.snapshot.paramMap.get("id"),n=this.activatedRoute.snapshot.paramMap.get("email"),o=this.activatedRoute.snapshot.paramMap.get("name"),r=this.activatedRoute.snapshot.paramMap.get("photo");this.mentorId=t,this.mentorName=o,this.mentorEmail=n,this.mentorPhoto=r,this.userDetails()}},{key:"confirm",value:function(e){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendMessage(e);case 2:return t.next=4,this.router.navigate(["/home/mentors/mentor-page/:name/:title/:email/:description/:photo/:city/:state/contact-mentor/:name/:email/:photo/confirm",this.mentorName,this.mentorEmail,this.mentorPhoto]);case 4:case"end":return t.stop()}},t,this)}))}},{key:"userDetails",value:function(){var e=this;this.profile.getUserDetails().subscribe(function(t){e.userEmail=t.email,e.userName=t.fullName,e.userCity=t.city,e.userState=t.state,e.userAge=t.age,e.userGrade=t.grade,e.userSchool=t.school,e.userProfilePicture=t.profilePicture,e.userResume=t.resume})}},{key:"sendMessage",value:function(e){this.mentors.sendMentorAnEmail(e,this.mentorName,this.mentorEmail,this.userEmail,this.userName,this.userCity,this.userState,this.userAge,this.userGrade,this.userSchool,this.userProfilePicture,this.userResume).subscribe()}},{key:"back",value:function(){this.location.back()}}]),t}(),i.\u0275fac=function(e){return new(e||i)(b.Hb(p.a),b.Hb(d.a),b.Hb(h.a),b.Hb(c.a),b.Hb(h.g),b.Hb(u.f))},i.\u0275cmp=b.Bb({type:i,selectors:[["app-contact-mentor"]],decls:21,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"margin-top","100px"],["size-xs","11","size-sm","10","size-md","7","size-lg","6","size-xl","5"],["id","mentor-photo"],[1,"blue-button-small","ion-float-right",3,"click"],[1,"ion-justify-content-center"],[1,"ion-text-center"],["id","mentor-photo",1,"ion-hide-lg-up",3,"src"],[3,"formGroup","ngSubmit"],["formControlName","message","rows","10","autogrow","true","required","","spellcheck","true",1,"message-input",3,"placeholder","keydown.control.enter"],["type","submit","expand","block",1,"orange-button",3,"disabled"]],template:function(e,t){1&e&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-buttons",1),b.Ib(3,"ion-back-button"),b.Lb(),b.Mb(4,"ion-title"),b.nc(5,"Contact Mentor"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.Mb(7,"ion-grid"),b.Mb(8,"ion-row",2),b.Mb(9,"ion-col",3),b.Ib(10,"div",4),b.Mb(11,"ion-button",5),b.Ub("click",function(){return t.back()}),b.nc(12,"Back"),b.Lb(),b.Lb(),b.Lb(),b.Mb(13,"ion-row",6),b.Mb(14,"ion-col",3),b.Mb(15,"div",7),b.Ib(16,"img",8),b.Lb(),b.Mb(17,"form",9),b.Ub("ngSubmit",function(){return t.confirm(t.contactMenorForm.value)}),b.Mb(18,"ion-textarea",10),b.Ub("keydown.control.enter",function(){return t.messageValid?t.confirm(t.contactMenorForm.value):null}),b.Lb(),b.Mb(19,"ion-button",11),b.nc(20," Send "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&e&&(b.xb(16),b.ac("src",t.mentorPhoto,b.ic),b.xb(1),b.Zb("formGroup",t.contactMenorForm),b.xb(1),b.bc("placeholder","Have a question for a ",t.mentorName,"? Send them an email!"),b.xb(1),b.Zb("disabled",!t.messageValid))},directives:[l.u,l.S,l.h,l.e,l.f,l.R,l.o,l.t,l.I,l.n,l.g,c.o,c.j,c.c,l.Q,l.db,c.i,c.b,c.m],styles:["ion-content[_ngcontent-%COMP%]{--background:#f4f5f8}.blue-button-small[_ngcontent-%COMP%]{--background:#0055a5;opacity:1;height:24px;width:100px;font-size:.5em;font-weight:600}.name[_ngcontent-%COMP%]{display:block;font-size:1em;color:#999;opacity:0}.name[_ngcontent-%COMP%]:first-child{-webkit-animation:slide-in-left 1s cubic-bezier(.175,.885,.32,1.275) 1.3s forwards;animation:slide-in-left 1s cubic-bezier(.175,.885,.32,1.275) 1.3s forwards}#mentor-photo[_ngcontent-%COMP%]{height:100px;border-radius:100px;background-repeat:no-repeat;background-size:contain;background-position:50%;display:inline-block;opacity:1;margin:54px auto}@media screen and (min-width:992px){#mentor-photo[_ngcontent-%COMP%]{border-radius:100px;width:100px;height:100px;position:relative;top:-38px}}.message-input[_ngcontent-%COMP%]{padding:0 8px;border-radius:5px;font-size:1.2em;border:1px solid rgba(0,81,145,.4)}.orange-button[_ngcontent-%COMP%]{margin-top:40px}.blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset}@-webkit-keyframes slide-in-left{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes slide-in-left{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes slide-in-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(0)}}@keyframes slide-in-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(0)}}"]}),i)},{path:"confirm/:name/:email/:phone",loadChildren:function(){return r.e(41).then(r.bind(null,"p/Ua")).then(function(e){return e.ConfirmPageModule})}}],g=((a=function t(){e(this,t)}).\u0275mod=b.Fb({type:a}),a.\u0275inj=b.Eb({factory:function(e){return new(e||a)},imports:[[h.k.forChild(f)],h.k]}),a),w=((s=function t(){e(this,t)}).\u0275mod=b.Fb({type:s}),s.\u0275inj=b.Eb({factory:function(e){return new(e||s)},imports:[[u.b,c.d,c.l,l.T,g]]}),s)}}])}();