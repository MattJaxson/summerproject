(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Aso2:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var o=n("mrSG"),l=(n("EThc"),n("ZZ/e")),s=n("lGQG"),i=n("2Vo4"),a=n("JIr8"),r=n("vkgz"),u=n("AytR"),c=n("8Y7J"),h=n("IheW"),b=n("xgBC"),p=n("gFH1"),d=n("iInd");let g=(()=>{class t{constructor(t,e,n,o,l,s,a){this.http=t,this.storage=e,this.alertController=n,this.helper=o,this.auth=l,this.router=s,this.toastController=a,this.BACKEND_URL=u.a.url,this.activeEmail="",this.user={},this.fullName=new i.a(""),this.addressOne=new i.a(""),this.addressTwo=new i.a(""),this.phone=new i.a(""),this.city=new i.a(""),this.state=new i.a(""),this.zip=new i.a(""),this.gender=new i.a(""),this.dob=new i.a(""),this.school=new i.a(""),this.grade=new i.a(""),this.profilePicture=new i.a(""),this.resume=new i.a(""),this.email=new i.a(""),this.activeEmail=this.auth.user.email}getUserDetails(){return this.http.post("".concat(this.BACKEND_URL,"/api/home/user"),{email:this.activeEmail})}changeEmail(t,e,n){return this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-email"),{oldEmail:this.activeEmail,email:e,password:n}).pipe(Object(a.a)(t=>{throw this.presentFailToast(this.activeEmail),new Error(t)})).subscribe(t=>{if(!0!==t)return this.presentFailToast(this.activeEmail),console.log("Passwords dont match");this.email.next(e),this.activeEmail=e,this.router.navigate(["/home/profile"]),this.presentSuccessToast()})}presentSuccessToast(){this.toastController.create({message:"You have changed your email address to ".concat(this.activeEmail,"."),duration:3e3,cssClass:"success-toast",keyboardClose:!0,position:"top"}).then(t=>t.present())}presentFailToast(t){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of ".concat(t),duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present())}changePassword(t,e,n,l){return o.b(this,void 0,void 0,(function*(){return yield this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-password"),{oldPassword:e,email:t,newPassword:n,reTypeNewPassword:l}).subscribe(t=>{!0===t?(console.log("TRUE"),this.router.navigate([""]),this.toastController.create({message:"Please login with your new Password",duration:3e3}).then(t=>t.present())):console.log("Passwords dont match!")})}))}changePhone(t,e,n){return o.b(this,void 0,void 0,(function*(){return yield this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-phone"),{newNumber:e,password:n,email:t}).subscribe(t=>{!0===t?(console.log("Changing phone number..."),this.phone.next(e),this.router.navigate(["/home/profile"]),this.toastController.create({message:"Phone Number changed to ".concat(e),duration:3e3,cssClass:"success-toast",keyboardClose:!0,position:"top"}).then(t=>t.present())):(console.log("Passwords dont match!"),this.toastController.create({message:"Password was incorrect",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present()))})}))}changeAddress(t,e,n,l,s,i,u){return o.b(this,void 0,void 0,(function*(){return yield this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-address"),{email:t,addressOne:e,addressTwo:n,city:l,state:s,zip:i,password:u}).pipe(Object(r.a)(t=>{t||console.log("There was no response. There might be a bad password")}),Object(a.a)(t=>{throw new Error(t)})).subscribe(t=>{if(!0!==t)return this.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present()),console.log("Passwords dont match");this.addressOne.next(e),this.addressTwo.next(n),this.city.next(l),this.state.next(s),this.zip.next(i),this.router.navigate(["/home/profile"]),this.toastController.create({message:"You have changed your address to ".concat(e," ").concat(n," ,").concat(l,", ").concat(s,", ").concat(i,"."),duration:3e3,cssClass:"success-toast",keyboardClose:!0,position:"top"}).then(t=>t.present())})}))}changeSchool(t,e,n,l){return o.b(this,void 0,void 0,(function*(){return yield this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-school"),{email:t,newSchool:e,newGrade:n,password:l}).subscribe(t=>{if(!0!==t)return this.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present()),console.log("Passwords dont match");this.school.next(e),this.grade.next(n),this.router.navigate(["/home/profile"]),this.toastController.create({message:"Your school and grade has been updated to ".concat(n,", ").concat(e),duration:5e3,cssClass:"success-toast",keyboardClose:!0,position:"top"}).then(t=>t.present())})}))}changeProfilePicture(t,e,n){return o.b(this,void 0,void 0,(function*(){return yield this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-school"),{email:t,newPicture:e,password:n}).subscribe(t=>{if(!0!==t)return console.log("Passwords dont match");console.log("Changing Resume..."),this.profilePicture.next(e),this.router.navigate(["/home/user/change-school/:school/:grade/confirm"])})}))}changeResume(t,e,n){return o.b(this,void 0,void 0,(function*(){return yield this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-school"),{email:t,newResume:e,password:n}).subscribe(t=>{if(!0!==t)return console.log("Passwords dont match");console.log("Changing Resume..."),this.resume.next(e),this.router.navigate(["/home/user/change-school/:school/:grade/confirm"])})}))}delete(){console.log("Deleted User")}}return t.ngInjectableDef=c.Wb({factory:function(){return new t(c.Xb(h.c),c.Xb(b.b),c.Xb(l.b),c.Xb(p.a),c.Xb(s.a),c.Xb(d.m),c.Xb(l.Qb))},token:t,providedIn:"root"}),t})()},r7LA:function(t,e,n){"use strict";n.r(e);var o=n("8Y7J");class l{}var s=n("pMnS"),i=n("oBZk"),a=n("ZZ/e"),r=n("U8oy");class u{constructor(t){this.favorites=t,this.favoriteState="unfavorited",this.iconName="heart-empty"}ngOnInit(){}toggleLikeState(){"unfavorited"===this.favoriteState?(this.favoriteState="favorited",this.iconName="heart",this.favorites.favoriteThisJob(this.job)):(this.favoriteState="unfavorited",this.iconName="heart-empty",this.favorites.unFavoriteThisJob(this.job))}}var c=o.zb({encapsulation:0,styles:[["ion-icon[_ngcontent-%COMP%]{float:right;z-index:9999}"]],data:{animation:[{type:7,name:"heart",definitions:[{type:0,name:"unfavorited",styles:{type:6,styles:{color:"#FF443B",opacity:"0.4",transform:"scale(0.9)"},offset:null},options:void 0},{type:0,name:"favorited",styles:{type:6,styles:{color:"#FF443B",opacity:"1",transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"unfavorited <=> favorited",animation:{type:4,styles:null,timings:"100ms ease-out"},options:null}],options:{}}]}});function h(t){return o.Tb(0,[(t()(),o.Bb(0,0,null,null,1,"ion-icon",[["size","large"],["tappable",""]],[[24,"@heart",0]],[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.toggleLikeState()&&o),o}),i.gb,i.s)),o.Ab(1,49152,null,0,a.D,[o.j,o.p,o.F],{name:[0,"name"],size:[1,"size"]},null)],(function(t,e){t(e,1,0,e.component.iconName,"large")}),(function(t,e){t(e,0,0,e.component.favoriteState)}))}var b=n("s7LF"),p=n("SVse"),d=n("sgUz"),g=n("Aso2");class m{constructor(t,e,n,o){this.router=t,this.jobServices=e,this.favorites=n,this.profile=o,this.favorited="favorited",this.unfavorited="unfavorited"}ngOnInit(){this.jobServices.getJobs().subscribe(t=>{this.allJobs=Object.values(t)}),this.profile.getUserDetails().subscribe(t=>{this.favoriteJobs=t.favoriteJobs,console.log("Favorite Jobs"),console.log(this.favoriteJobs),this.favorites.favoriteJobs$.next(this.favoriteJobs),this.favorites.favoriteJobs$.subscribe(t=>{console.log("Favorite Jobs in Service"),this.favoriteJobsAmount=t.length})})}ngOnDestroy(){}jobPage(t){console.log(t),console.log("Going to specific Job Page"),this.router.navigate(["/home/jobs/job-page",t._id,t.title,t.companyName,t.companyEmail,t.summary,t.fullJobDescription,t.rateOfPay]),console.log(t.name)}favoritesPage(){this.router.navigate(["/home/jobs/favorites"])}doRefresh(t){console.log("Begin async operation"),this.jobServices.getJobs().subscribe(t=>{this.allJobs=Object.values(t),console.log(typeof this.allJobs),console.log(this.allJobs)}),setTimeout(()=>{console.log("Async operation has ended"),t.target.complete()},2e3)}}var f=n("iInd"),v=o.zb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]{height:80px}ion-button[_ngcontent-%COMP%]{color:#fff;background:rgba(255,255,255,.5);height:45px;border-radius:5px;padding:10px}ion-icon[_ngcontent-%COMP%]{color:red;font-size:20px;position:relative;right:5px}.job-section[_ngcontent-%COMP%]{height:230px;background:0 0;color:#777;position:relative;top:20px;width:100%}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{display:block}--ion-buttons[_ngcontent-%COMP%]{--color:#888}"]],data:{}});function w(t){return o.Tb(0,[(t()(),o.Bb(0,0,null,null,17,"ion-item",[],null,null,null,i.ib,i.u)),o.Ab(1,49152,null,0,a.I,[o.j,o.p,o.F],null,null),(t()(),o.Bb(2,0,null,0,15,"ion-row",[["class","job-section"]],null,null,null,i.qb,i.C)),o.Ab(3,49152,null,0,a.kb,[o.j,o.p,o.F],null,null),(t()(),o.Bb(4,0,null,0,9,"ion-col",[["offset","0.5"],["size","11"]],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.jobPage(t.context.$implicit)&&o),o}),i.Y,i.k)),o.Ab(5,49152,null,0,a.u,[o.j,o.p,o.F],{offset:[0,"offset"],size:[1,"size"]},null),(t()(),o.Bb(6,0,null,0,1,"h5",[],null,null,null,null,null)),(t()(),o.Sb(7,null,["",""])),(t()(),o.Bb(8,0,null,0,1,"h6",[],null,null,null,null,null)),(t()(),o.Sb(9,null,["",""])),(t()(),o.Bb(10,0,null,0,1,"h6",[["style","font-size: 0.8em; opacity: 0.5;"]],null,null,null,null,null)),(t()(),o.Sb(11,null,["",""])),(t()(),o.Bb(12,0,null,0,1,"h6",[["style","font-size: 0.4em; opacity: 0.5; float: right;"]],null,null,null,null,null)),(t()(),o.Sb(13,null,["",""])),(t()(),o.Bb(14,0,null,0,3,"ion-col",[["size","11"],["style","height: 45px; margin-bottom: 20px;"]],null,null,null,i.Y,i.k)),o.Ab(15,49152,null,0,a.u,[o.j,o.p,o.F],{size:[0,"size"]},null),(t()(),o.Bb(16,0,null,0,1,"app-heart-icon",[],null,null,null,h,c)),o.Ab(17,114688,null,0,u,[r.a],{job:[0,"job"]},null)],(function(t,e){t(e,5,0,"0.5","11"),t(e,15,0,"11"),t(e,17,0,e.context.$implicit)}),(function(t,e){t(e,7,0,e.context.$implicit.title),t(e,9,0,e.context.$implicit.companyName),t(e,11,0,e.context.$implicit.summary),t(e,13,0,e.context.$implicit.posted)}))}function y(t){return o.Tb(0,[(t()(),o.Bb(0,0,null,null,13,"ion-header",[],null,null,null,i.fb,i.r)),o.Ab(1,49152,null,0,a.C,[o.j,o.p,o.F],null,null),(t()(),o.Bb(2,0,null,0,11,"ion-toolbar",[],null,null,null,i.Bb,i.N)),o.Ab(3,49152,null,0,a.Db,[o.j,o.p,o.F],null,null),(t()(),o.Bb(4,0,null,0,6,"ion-buttons",[["slot","end"]],null,null,null,i.S,i.e)),o.Ab(5,49152,null,0,a.m,[o.j,o.p,o.F],null,null),(t()(),o.Bb(6,0,null,0,4,"ion-button",[],null,[[null,"click"]],(function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.favoritesPage()&&o),o}),i.R,i.d)),o.Ab(7,49152,null,0,a.l,[o.j,o.p,o.F],null,null),(t()(),o.Bb(8,0,null,0,1,"ion-icon",[["src","../../../assets/icon/heart-inactive.svg"]],null,null,null,i.gb,i.s)),o.Ab(9,49152,null,0,a.D,[o.j,o.p,o.F],{src:[0,"src"]},null),(t()(),o.Sb(10,0,[" ",""])),(t()(),o.Bb(11,0,null,0,2,"ion-title",[],null,null,null,i.Ab,i.M)),o.Ab(12,49152,null,0,a.Bb,[o.j,o.p,o.F],null,null),(t()(),o.Sb(-1,0,["Jobs"])),(t()(),o.Bb(14,0,null,null,19,"ion-content",[],null,null,null,i.Z,i.l)),o.Ab(15,49152,null,0,a.v,[o.j,o.p,o.F],null,null),(t()(),o.Bb(16,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(t,e,n){var o=!0;return"ionRefresh"===e&&(o=!1!==t.component.doRefresh(n)&&o),o}),i.pb,i.A)),o.Ab(17,49152,null,0,a.eb,[o.j,o.p,o.F],null,null),(t()(),o.Bb(18,0,null,0,1,"ion-refresher-content",[],null,null,null,i.ob,i.B)),o.Ab(19,49152,null,0,a.fb,[o.j,o.p,o.F],null,null),(t()(),o.Bb(20,0,null,0,13,"ion-grid",[["fixed",""]],null,null,null,i.eb,i.q)),o.Ab(21,49152,null,0,a.B,[o.j,o.p,o.F],{fixed:[0,"fixed"]},null),(t()(),o.Bb(22,0,null,0,11,"ion-row",[],null,null,null,i.qb,i.C)),o.Ab(23,49152,null,0,a.kb,[o.j,o.p,o.F],null,null),(t()(),o.Bb(24,0,null,0,9,"ion-col",[["size","12"]],null,null,null,i.Y,i.k)),o.Ab(25,49152,null,0,a.u,[o.j,o.p,o.F],{size:[0,"size"]},null),(t()(),o.Bb(26,0,null,0,3,"ion-searchbar",[["showCancelButton","false"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(t,e,n){var l=!0;return"ionBlur"===e&&(l=!1!==o.Nb(t,29)._handleBlurEvent(n.target)&&l),"ionChange"===e&&(l=!1!==o.Nb(t,29)._handleInputEvent(n.target)&&l),l}),i.rb,i.D)),o.Pb(5120,null,b.i,(function(t){return[t]}),[a.Pb]),o.Ab(28,49152,null,0,a.lb,[o.j,o.p,o.F],{showCancelButton:[0,"showCancelButton"]},null),o.Ab(29,16384,null,0,a.Pb,[o.p],null,null),(t()(),o.Bb(30,0,null,0,3,"ion-list",[],null,null,null,i.lb,i.w)),o.Ab(31,49152,null,0,a.P,[o.j,o.p,o.F],null,null),(t()(),o.qb(16777216,null,0,1,null,w)),o.Ab(33,278528,null,0,p.h,[o.W,o.S,o.x],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,9,0,"../../../assets/icon/heart-inactive.svg"),t(e,21,0,""),t(e,25,0,"12"),t(e,28,0,"false"),t(e,33,0,n.allJobs)}),(function(t,e){t(e,10,0,e.component.favoriteJobsAmount)}))}var C=o.xb("app-jobs",m,(function(t){return o.Tb(0,[(t()(),o.Bb(0,0,null,null,1,"app-jobs",[],null,null,null,y,v)),o.Ab(1,245760,null,0,m,[f.m,d.a,r.a,g.a],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]);const B=()=>n.e(57).then(n.bind(null,"K5GS")).then(t=>t.JobPagePageModuleNgFactory),j=()=>n.e(56).then(n.bind(null,"tXR0")).then(t=>t.FavoritesPageModuleNgFactory);class A{}n.d(e,"HomePageModuleNgFactory",(function(){return P}));var P=o.yb(l,[],(function(t){return o.Kb([o.Lb(512,o.m,o.jb,[[8,[s.a,C]],[3,o.m],o.D]),o.Lb(4608,p.k,p.j,[o.z,[2,p.q]]),o.Lb(4608,a.c,a.c,[o.F,o.g]),o.Lb(4608,a.Ib,a.Ib,[a.c,o.m,o.w]),o.Lb(4608,a.Lb,a.Lb,[a.c,o.m,o.w]),o.Lb(4608,b.q,b.q,[]),o.Lb(4608,b.b,b.b,[]),o.Lb(1073742336,p.b,p.b,[]),o.Lb(1073742336,a.Fb,a.Fb,[]),o.Lb(1073742336,b.p,b.p,[]),o.Lb(1073742336,b.e,b.e,[]),o.Lb(1073742336,b.m,b.m,[]),o.Lb(1073742336,f.o,f.o,[[2,f.t],[2,f.m]]),o.Lb(1073742336,A,A,[]),o.Lb(1073742336,l,l,[]),o.Lb(1024,f.k,(function(){return[[{path:"",component:m},{path:"job-page/:id/:title/:companyName/:companyEmail/:summary/:fullJobDescription/:rateOfPay",loadChildren:B},{path:"favorites",loadChildren:j}],[{path:"",component:m}]]}),[])])}))},sgUz:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("AytR"),l=n("8Y7J"),s=n("IheW");let i=(()=>{class t{constructor(t){this.http=t,this.BACKEND_URL=o.a.url}getJobs(){return console.log("Getting Jobs"),this.http.get("".concat(this.BACKEND_URL,"/api/admin/jobs"))}sendEmailApplication(t){return console.log(t),console.log("Sending email to ".concat(t.jobCompanyEmail)),this.http.post("".concat(this.BACKEND_URL,"/api/job"),t)}}return t.ngInjectableDef=l.Wb({factory:function(){return new t(l.Xb(s.c))},token:t,providedIn:"root"}),t})()}}]);