(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{e0Xu:function(e,t,o){"use strict";o.r(t),o.d(t,"UpdateResumePageModule",function(){return m});var i=o("ofXK"),n=o("3Pt+"),s=o("TEn/"),r=o("tyNb"),a=o("mrSG"),u=o("Aso2"),l=o("h8Q2"),c=o("fXoL");const d=[{path:"",component:(()=>{class e{constructor(e,t,o,i,n,s){this.resume=e,this.router=t,this.profile=o,this.alert=i,this.toast=n,this.loading=s,this.userProPicUrl=this.profile.resume.getValue(),this.awsPrefix=this.userProPicUrl.slice(-51)}ngOnInit(){this.profile.getUserDetails().subscribe(e=>{this.userEmail=e.email,console.log(this.userEmail)})}back(){this.router.navigate(["/home/profile/view-resume"])}getFormData(e){const t=document.querySelectorAll("form");t.forEach(e=>{"changeResumeForm"===e.id&&(console.log("Got Form: "+e),this.formData=new FormData(e),this.uploadedResume=!0)}),console.log(this.formData);let o=new FileReader;o.addEventListener("load",()=>{this.uploadedPhotoURL=o.result},!1),t&&o.readAsDataURL(e.target.files[0])}uploadResume(){document.querySelectorAll("form").forEach(e=>{"changeResumeForm"===e.id&&(console.log("Got Form: "+e),this.formData=new FormData(e),this.formData.append("oldResumeKey",this.awsPrefix),this.formData.append("email",this.userEmail))}),this.resume.changeResume(this.formData).subscribe(e=>Object(a.a)(this,void 0,void 0,function*(){console.log(e);let t=e.objectUrl;console.log(t),yield this.presentLoading(),yield this.profile.resume.next(t),yield this.presentToast(),yield this.router.navigate(["/home/profile/view-resume"])}))}presentToast(){return Object(a.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"Your Resume has been changed",animated:!0,cssClass:"updated-toast",duration:2e3})).present()})}presentLoading(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.loading.create({cssClass:"my-custom-class",message:"Updating Resume...",duration:1e3});yield e.present(),yield e.onDidDismiss(),console.log("Loading dismissed!")})}}return e.\u0275fac=function(t){return new(t||e)(c.Hb(l.a),c.Hb(r.f),c.Hb(u.a),c.Hb(s.a),c.Hb(s.Z),c.Hb(s.S))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-update-resume"]],decls:26,vars:1,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-hide-md-down",2,"margin","5% 0% 3% 0%"],["offset","2.8","size","2.5"],["push","2.5","size","2"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center","ion-hide-md-down"],["size","6"],[2,"background","#666"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","8","size-lg","6",1,"ion-text-center"],[1,"text-header"],["id","changeResumeForm",3,"ngSubmit"],["name","resume-update","placeholder","Upload Resume","type","file",3,"change"],["type","submit",1,"orange-button",3,"disabled"]],template:function(e,t){1&e&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-buttons",1),c.Ib(3,"ion-back-button"),c.Lb(),c.Mb(4,"ion-title"),c.mc(5,"Update Resume"),c.Lb(),c.Lb(),c.Lb(),c.Mb(6,"ion-content"),c.Mb(7,"ion-grid"),c.Mb(8,"ion-row",2),c.Mb(9,"ion-col",3),c.Mb(10,"h1"),c.mc(11,"Update Resume"),c.Lb(),c.Lb(),c.Mb(12,"ion-col",4),c.Mb(13,"ion-button",5),c.Ub("click",function(){return t.back()}),c.mc(14," Back "),c.Lb(),c.Lb(),c.Lb(),c.Mb(15,"ion-row",6),c.Mb(16,"ion-col",7),c.Ib(17,"hr",8),c.Lb(),c.Lb(),c.Mb(18,"ion-row",9),c.Mb(19,"ion-col",10),c.Mb(20,"p",11),c.mc(21,"Please upload a resume from your phone"),c.Lb(),c.Mb(22,"form",12),c.Ub("ngSubmit",function(){return t.uploadResume()}),c.Mb(23,"input",13),c.Ub("change",function(e){return t.getFormData(e)}),c.Lb(),c.Mb(24,"ion-button",14),c.mc(25,"Update "),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.xb(24),c.Zb("disabled",!t.uploadedPhotoURL))},directives:[s.u,s.P,s.h,s.e,s.f,s.O,s.o,s.t,s.G,s.n,s.g,n.o,n.j,n.k],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.orange-button[_ngcontent-%COMP%]{width:unset;display:block;margin:40px auto;width:200px}input[type=file][_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:600;border:1px solid #005191;background:linear-gradient(#0672c4,#005191);width:400px;height:50px;border-radius:5px;padding:20px 0 0 20px;text-align:center;cursor:pointer}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{visibility:hidden}"]}),e})()}];let b=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(d)],r.j]}),e})(),m=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[i.b,n.d,s.Q,b]]}),e})()}}]);