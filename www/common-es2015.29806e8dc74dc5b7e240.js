(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+veT":function(n,t,l){"use strict";l.d(t,"a",(function(){return y})),l.d(t,"b",(function(){return A})),l.d(t,"c",(function(){return f})),l.d(t,"d",(function(){return w})),l.d(t,"e",(function(){return i}));var e=l("dSyh"),o=l("kBU6");const i=n=>new Promise((t,l)=>{Object(e.m)(()=>{s(n),u(n).then(l=>{l.animation&&l.animation.destroy(),r(n),t(l)},t=>{r(n),l(t)})})}),s=n=>{const t=n.enteringEl,l=n.leavingEl;C(t,l,n.direction),n.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),w(t,!1),l&&w(l,!1)},u=async n=>{const t=await a(n);return t?c(t,n):p(n)},r=n=>{const t=n.leavingEl;n.enteringEl.classList.remove("ion-page-invisible"),void 0!==t&&t.classList.remove("ion-page-invisible")},a=async n=>{if(n.leavingEl&&n.animated&&0!==n.duration)return n.animationBuilder?n.animationBuilder:"ios"===n.mode?(await l.e(150).then(l.bind(null,"Lu00"))).iosTransitionAnimation:(await l.e(151).then(l.bind(null,"wxTh"))).mdTransitionAnimation},c=async(n,t)=>{let e;await d(t,!0);try{const o=await l.e(11).then(l.bind(null,"gHMO"));e=await o.create(n,t.baseEl,t)}catch(i){e=n(t.baseEl,t)}h(t.enteringEl,t.leavingEl);const o=await m(e,t);return t.progressCallback&&t.progressCallback(void 0),o&&g(t.enteringEl,t.leavingEl),{hasCompleted:o,animation:e}},p=async n=>{const t=n.enteringEl,l=n.leavingEl;return await d(n,!1),h(t,l),g(t,l),{hasCompleted:!0}},d=async(n,t)=>{const l=(void 0!==n.deepWait?n.deepWait:t)?[y(n.enteringEl),y(n.leavingEl)]:[v(n.enteringEl),v(n.leavingEl)];await Promise.all(l),await b(n.viewIsReady,n.enteringEl)},b=async(n,t)=>{n&&await n(t)},m=(n,t)=>{const l=t.progressCallback,e=new Promise(t=>{n.onFinish(l=>{"number"==typeof l?t(1===l):void 0!==n.hasCompleted&&t(n.hasCompleted)})});return l?(n.progressStart(!0),l(n)):n.play(),e},h=(n,t)=>{f(t,o.c),f(n,o.a)},g=(n,t)=>{f(n,o.b),f(t,o.d)},f=(n,t)=>{if(n){const l=new CustomEvent(t,{bubbles:!1,cancelable:!1});n.dispatchEvent(l)}},v=n=>n&&n.componentOnReady?n.componentOnReady():Promise.resolve(),y=async n=>{const t=n;if(t){if(null!=t.componentOnReady&&null!=await t.componentOnReady())return;await Promise.all(Array.from(t.children).map(y))}},w=(n,t)=>{t?(n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden")):(n.hidden=!1,n.removeAttribute("aria-hidden"),n.classList.remove("ion-page-hidden"))},C=(n,t,l)=>{void 0!==n&&(n.style.zIndex="back"===l?"99":"101"),void 0!==t&&(t.style.zIndex="100")},A=n=>n.classList.contains("ion-page")?n:n.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||n},"6/gD":function(n,t,l){"use strict";l.d(t,"a",(function(){return s}));var e=l("AytR"),o=l("8Y7J"),i=l("IheW");let s=(()=>{class n{constructor(n){this.http=n,this.BACKEND_URL=e.a.url}imageUpload(n){return console.log("image uploading"),console.log(n),this.http.post(`${this.BACKEND_URL}/api/photo/upload-profile-picture`,n)}changeProfilePicture(n){return console.log(n),this.http.post(`${this.BACKEND_URL}/api/photo/change-profile-picture`,n)}}return n.ngInjectableDef=o.Yb({factory:function(){return new n(o.Zb(i.c))},token:n,providedIn:"root"}),n})()},"7E5L":function(n,t,l){"use strict";var e=l("8Y7J"),o=l("oBZk"),i=l("ZZ/e"),s=l("s7LF"),u=l("VPH/"),r=l("ENZJ"),a=l("DtjX");l.d(t,"a",(function(){return b}));var c=e.zb({encapsulation:0,styles:[[".comment-input[_ngcontent-%COMP%]{background:#fff;height:auto;margin:30px 0 60px;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{height:auto;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]],data:{}});function p(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,11,"ion-header",[["class","ion-hide-md-down"]],null,null,null,o.cb,o.r)),e.Ab(1,49152,null,0,i.B,[e.j,e.p,e.F],null,null),(n()(),e.Bb(2,0,null,0,9,"ion-toolbar",[],null,null,null,o.vb,o.K)),e.Ab(3,49152,null,0,i.Cb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(4,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,o.P,o.e)),e.Ab(5,49152,null,0,i.l,[e.j,e.p,e.F],null,null),(n()(),e.Bb(6,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e}),o.O,o.d)),e.Ab(7,49152,null,0,i.k,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,[" cancel "])),(n()(),e.Bb(9,0,null,0,2,"ion-title",[["slot","start"]],null,null,null,o.ub,o.J)),e.Ab(10,49152,null,0,i.Ab,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,["Edit Post"])),(n()(),e.Bb(12,0,null,null,8,"ion-header",[["class","ion-hide-lg-up"]],null,null,null,o.cb,o.r)),e.Ab(13,49152,null,0,i.B,[e.j,e.p,e.F],null,null),(n()(),e.Bb(14,0,null,0,6,"ion-toolbar",[],null,null,null,o.vb,o.K)),e.Ab(15,49152,null,0,i.Cb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(16,0,null,0,1,"ion-icon",[["id","back-arrow-icons"],["name","arrow-back"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e}),o.db,o.s)),e.Ab(17,49152,null,0,i.C,[e.j,e.p,e.F],{name:[0,"name"]},null),(n()(),e.Bb(18,0,null,0,2,"ion-title",[["slot","end"]],null,null,null,o.ub,o.J)),e.Ab(19,49152,null,0,i.Ab,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,["Edit Post"])),(n()(),e.Bb(21,0,null,null,21,"ion-content",[],null,null,null,o.W,o.l)),e.Ab(22,49152,null,0,i.u,[e.j,e.p,e.F],null,null),(n()(),e.Bb(23,0,null,0,19,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(24,49152,null,0,i.jb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(25,0,null,0,17,"ion-col",[["size","10"]],null,null,null,o.V,o.k)),e.Ab(26,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(27,0,null,0,15,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,t,l){var o=!0,i=n.component;return"submit"===t&&(o=!1!==e.Nb(n,29).onSubmit(l)&&o),"reset"===t&&(o=!1!==e.Nb(n,29).onReset()&&o),"ngSubmit"===t&&(o=!1!==i.edit(i.editPostForm.value)&&o),o}),null,null)),e.Ab(28,16384,null,0,s.t,[],null,null),e.Ab(29,540672,null,0,s.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Qb(2048,null,s.a,null,[s.d]),e.Ab(31,16384,null,0,s.l,[[4,s.a]],null,null),(n()(),e.Bb(32,0,null,null,6,"ion-textarea",[["autocapitalize","true"],["autogrow","true"],["class","comment-input"],["formControlName","newPost"],["rows","15"],["spellcheck","true"],["type","text"],["wrap","soft"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keydown.control.enter"],[null,"ionBlur"],[null,"ionChange"]],(function(n,t,l){var o=!0,i=n.component;return"ionBlur"===t&&(o=!1!==e.Nb(n,33)._handleBlurEvent(l.target)&&o),"ionChange"===t&&(o=!1!==e.Nb(n,33)._handleInputEvent(l.target)&&o),"keydown.control.enter"===t&&(o=!1!==i.edit(i.editPostForm.value)&&o),o}),o.tb,o.I)),e.Ab(33,16384,null,0,i.Ob,[e.p],null,null),e.Qb(1024,null,s.i,(function(n){return[n]}),[i.Ob]),e.Ab(35,671744,null,0,s.c,[[3,s.a],[8,null],[8,null],[6,s.i],[2,s.s]],{name:[0,"name"]},null),e.Qb(2048,null,s.j,null,[s.c]),e.Ab(37,16384,null,0,s.k,[[4,s.j]],null,null),e.Ab(38,49152,null,0,i.yb,[e.j,e.p,e.F],{autocapitalize:[0,"autocapitalize"],rows:[1,"rows"],spellcheck:[2,"spellcheck"],wrap:[3,"wrap"]},null),(n()(),e.Bb(39,0,null,null,3,"div",[["style","text-align: center; width: 100%; margin-top: 20px;"]],null,null,null,null,null)),(n()(),e.Bb(40,0,null,null,2,"ion-button",[["class","orange-button"],["style","margin: 0 auto;"],["type","submit"]],null,null,null,o.O,o.d)),e.Ab(41,49152,null,0,i.k,[e.j,e.p,e.F],{type:[0,"type"]},null),(n()(),e.Tb(-1,0,[" Edit "]))],(function(n,t){var l=t.component;n(t,17,0,"arrow-back"),n(t,26,0,"10"),n(t,29,0,l.editPostForm),n(t,35,0,"newPost"),n(t,38,0,"true","15","true","soft"),n(t,41,0,"submit")}),(function(n,t){n(t,27,0,e.Nb(t,31).ngClassUntouched,e.Nb(t,31).ngClassTouched,e.Nb(t,31).ngClassPristine,e.Nb(t,31).ngClassDirty,e.Nb(t,31).ngClassValid,e.Nb(t,31).ngClassInvalid,e.Nb(t,31).ngClassPending),n(t,32,0,e.Nb(t,37).ngClassUntouched,e.Nb(t,37).ngClassTouched,e.Nb(t,37).ngClassPristine,e.Nb(t,37).ngClassDirty,e.Nb(t,37).ngClassValid,e.Nb(t,37).ngClassInvalid,e.Nb(t,37).ngClassPending)}))}function d(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,1,"app-edit-post",[],null,null,null,p,c)),e.Ab(1,114688,null,0,u.a,[s.b,i.Hb,i.Jb,i.Gb,r.a,i.a,a.a],null,null)],(function(n,t){n(t,1,0)}),null)}var b=e.xb("app-edit-post",u.a,d,{},{},[])},"9CtM":function(n,t,l){"use strict";l.d(t,"a",(function(){return e}));class e{}},"9bWj":function(n,t,l){"use strict";l.d(t,"a",(function(){return e})),l("nfbU");class e{}},Dl6n:function(n,t,l){"use strict";l.d(t,"a",(function(){return o})),l.d(t,"b",(function(){return i})),l.d(t,"c",(function(){return e})),l.d(t,"d",(function(){return u}));const e=(n,t)=>null!==t.closest(n),o=n=>"string"==typeof n&&n.length>0?{"ion-color":!0,[`ion-color-${n}`]:!0}:void 0,i=n=>{const t={};return(n=>void 0!==n?(Array.isArray(n)?n:n.split(" ")).filter(n=>null!=n).map(n=>n.trim()).filter(n=>""!==n):[])(n).forEach(n=>t[n]=!0),t},s=/^[a-z][a-z0-9+\-.]*:/,u=async(n,t,l)=>{if(null!=n&&"#"!==n[0]&&!s.test(n)){const e=document.querySelector("ion-router");if(e)return null!=t&&t.preventDefault(),e.push(n,l)}return!1}},ENZJ:function(n,t,l){"use strict";l.d(t,"a",(function(){return r}));var e=l("AytR"),o=l("2Vo4"),i=l("Aso2"),s=l("8Y7J"),u=l("IheW");let r=(()=>{class n{constructor(n,t){this.http=n,this.profile=t,this.BACKEND_URL=e.a.url,this.postsSubject$=new o.a([]),this.commentsSubject$=new o.a([]),this.followingSubject$=new o.a([])}getPosts(){return this.http.get(`${this.BACKEND_URL}/api/posts/`)}getPostInfo(n){return this.http.post(`${this.BACKEND_URL}/api/posts/post-info`,{_id:n})}addPost(n,t,l,e){return console.log("Adding post to post que..."),console.log("Post: ",e),this.http.post(`${this.BACKEND_URL}/api/posts/add-text-post`,{creatorName:n,creatorEmail:t,creatorProfilePicture:l,post:e})}comment(n,t,l,e,o,{comment:i}){return this.http.post(`${this.BACKEND_URL}/api/posts/comment`,{postID:n,date:t,userFullName:l,userEmail:e,userProfilePicture:o,comment:i})}editPost(n,t){return this.http.post(`${this.BACKEND_URL}/api/posts/edit-post`,{postID:n,newPost:t})}editComment(n,t,l){return this.http.post(`${this.BACKEND_URL}/api/posts/edit-comment`,{postID:t,commentID:n,newComment:l})}upVotePost(n,t){return this.http.post(`${this.BACKEND_URL}/api/posts/up-vote-post`,{postID:n,userEmail:t})}downVotePost(n,t){return this.http.post(`${this.BACKEND_URL}/api/posts/down-vote-post`,{postID:n,userEmail:t})}upVoteComment(n,t,l){return this.http.post(`${this.BACKEND_URL}/api/posts/up-vote-comment`,{postID:n,commentID:t,userEmail:l})}downVoteComment(n,t,l){return this.http.post(`${this.BACKEND_URL}/api/posts/down-vote-comment`,{postID:n,commentID:t,userEmail:l})}followPost(n,t){return this.http.post(`${this.BACKEND_URL}/api/posts/follow`,{_id:n,email:t}).subscribe(n=>{let t=[...Object.values(n)];this.followingSubject$.next(t)})}unFollowPost(n,t){return this.http.post(`${this.BACKEND_URL}/api/posts/unfollow`,{_id:n,email:t}).subscribe(n=>{let t=[...Object.values(n)];this.followingSubject$.next(t)})}getFollowedPost(n){return this.http.post(`${this.BACKEND_URL}/api/posts/get-followed-posts`,{_id:n})}deleteComment(n,t){return this.http.post(`${this.BACKEND_URL}/api/posts/delete-comment`,{_id:n,_cid:t})}deletePost(n){return this.http.post(`${this.BACKEND_URL}/api/posts/delete-post`,{_id:n})}reportComment(n,t,l,e,o,i,s,u,r,a){return this.http.post(`${this.BACKEND_URL}/api/posts/report`,{commentID:n,commentContents:t,postID:l,post:e,userEmail:o,userFullname:i,reportedUserEmail:s,reportedUserName:u,reportReason:r,commentDate:a})}replyComment(n,t,l,e,o,i,s,u){return this.http.post(`${this.BACKEND_URL}/api/posts/reply-comment`,{postID:t,commentID:n,reply:l,userFullName:e,userProfilePicture:i,userEmail:o,commentUserEmail:u,commentUserFullName:s})}deleteReply(n,t,l){return this.http.post(`${this.BACKEND_URL}/api/posts/delete-reply`,{_rid:n,_cid:t,_pid:l})}}return n.ngInjectableDef=s.Yb({factory:function(){return new n(s.Zb(u.c),s.Zb(i.a))},token:n,providedIn:"root"}),n})()},OHV1:function(n,t,l){"use strict";l.d(t,"a",(function(){return e})),l("VPH/");class e{}},U8oy:function(n,t,l){"use strict";l.d(t,"a",(function(){return c}));var e=l("mrSG"),o=l("2Vo4"),i=l("Aso2"),s=l("AytR"),u=l("ZZ/e"),r=l("8Y7J"),a=l("IheW");let c=(()=>{class n{constructor(n,t,l){this.http=n,this.profile=t,this.toast=l,this.BACKEND_URL=s.a.url,this.favoriteJobs$=new o.a([])}getFavorites(n){return console.log("Getting Favorites"),this.http.post(`${this.BACKEND_URL}/api/jobs/get-favorites`,{email:n})}favoriteThisJob(n){const t=this.profile.activeEmail;return n.userEmail=t,this.http.post(`${this.BACKEND_URL}/api/jobs/favorite`,{email:t,_id:n._id}).subscribe(n=>{console.log("Posting Favorite Job to Database..");let t=[...Object.values(n)];this.favoriteJobs$.next(t),this.presentToast("You favorited this job!")})}unFavoriteThisJob(n){const t=this.profile.activeEmail;n.userEmail=t,this.http.post(`${this.BACKEND_URL}/api/jobs/unfavorite`,{email:t,_id:n._id}).subscribe(n=>e.b(this,void 0,void 0,(function*(){console.log("Unfavorite data value: ",n);let t=[...Object.values(n)];this.favoriteJobs$.next(t),this.presentToast("You removed this job from Favorites.")}))),console.log("Unfavoriting this Job")}presentToast(n){return e.b(this,void 0,void 0,(function*(){(yield this.toast.create({message:n,duration:3e3,cssClass:"updated-toast",position:"bottom"})).present()}))}}return n.ngInjectableDef=r.Yb({factory:function(){return new n(r.Zb(a.c),r.Zb(i.a),r.Zb(u.Pb))},token:n,providedIn:"root"}),n})()},"VPH/":function(n,t,l){"use strict";l.d(t,"a",(function(){return o}));var e=l("mrSG");l("ZZ/e"),l("ENZJ"),l("DtjX");class o{constructor(n,t,l,e,o,i,s){this.formBuilder=n,this.modal=t,this.navParams=l,this.loading=e,this.posts=o,this.alert=i,this.postEmitterService=s}ngOnInit(){this.postID=this.navParams.get("postID"),this.post=this.navParams.get("post"),console.log(this.post),this.editPostForm=this.formBuilder.group({newPost:this.post})}cancel(){console.log("cancelling"),this.modal.dismiss()}refreshComment(){this.postEmitterService.postPageRefresh()}edit(n){console.log("editting"),this.posts.editPost(this.postID,n.newPost).subscribe(n=>{console.log(n),this.editLoading(n.post)})}editLoading(n){return e.b(this,void 0,void 0,(function*(){const t=yield this.loading.create({message:"Editing your Post...",duration:1e3});yield t.present(),console.log(n.post),yield t.onDidDismiss(),yield this.modal.dismiss(),yield this.posts.postsSubject$.next(n),yield this.confirmAlert(),console.log("Loading dismissed!")}))}confirmAlert(){return e.b(this,void 0,void 0,(function*(){const n=yield this.alert.create({cssClass:"success-alert",message:"Your Post has been edited.",buttons:["OK"]});yield n.present()}))}}},YtD4:function(n,t,l){"use strict";l.d(t,"a",(function(){return e}));const e=n=>{try{if("string"!=typeof n||""===n)return n;const t=document.createDocumentFragment(),l=document.createElement("div");t.appendChild(l),l.innerHTML=n,u.forEach(n=>{const l=t.querySelectorAll(n);for(let e=l.length-1;e>=0;e--){const n=l[e];n.parentNode?n.parentNode.removeChild(n):t.removeChild(n);const s=i(n);for(let t=0;t<s.length;t++)o(s[t])}});const e=i(t);for(let n=0;n<e.length;n++)o(e[n]);const s=document.createElement("div");s.appendChild(t);const r=s.querySelector("div");return null!==r?r.innerHTML:s.innerHTML}catch(t){return console.error(t),""}},o=n=>{if(n.nodeType&&1!==n.nodeType)return;for(let l=n.attributes.length-1;l>=0;l--){const t=n.attributes.item(l),e=t.name;if(!s.includes(e.toLowerCase())){n.removeAttribute(e);continue}const o=t.value;null!=o&&o.toLowerCase().includes("javascript:")&&n.removeAttribute(e)}const t=i(n);for(let l=0;l<t.length;l++)o(t[l])},i=n=>null!=n.children?n.children:n.childNodes,s=["class","id","href","src","name","slot"],u=["script","style","iframe","meta","link","object","embed"]},fU57:function(n,t,l){"use strict";l.d(t,"a",(function(){return e}));class e{}},h8Q2:function(n,t,l){"use strict";l.d(t,"a",(function(){return s}));var e=l("AytR"),o=l("8Y7J"),i=l("IheW");let s=(()=>{class n{constructor(n){this.http=n,this.BACKEND_URL=e.a.url}resumeUpload(n){return console.log("resume uploading"),this.http.post(`${this.BACKEND_URL}/api/resume/upload-resume`,n)}changeResume(n){return console.log(n),this.http.post(`${this.BACKEND_URL}/api/resume/change-resume`,n)}}return n.ngInjectableDef=o.Yb({factory:function(){return new n(o.Zb(i.c))},token:n,providedIn:"root"}),n})()},m9yc:function(n,t,l){"use strict";l.d(t,"a",(function(){return e})),l.d(t,"b",(function(){return o}));const e=async(n,t,l,e,o)=>{if(n)return n.attachViewToDom(t,l,o,e);if("string"!=typeof l&&!(l instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof l?t.ownerDocument&&t.ownerDocument.createElement(l):l;return e&&e.forEach(n=>i.classList.add(n)),o&&Object.assign(i,o),t.appendChild(i),i.componentOnReady&&await i.componentOnReady(),i},o=(n,t)=>{if(t){if(n)return n.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},"nN+u":function(n,t,l){"use strict";l.d(t,"a",(function(){return i})),l.d(t,"b",(function(){return e}));const e=(n,t,l)=>{const e=new MutationObserver(n=>{l(o(n,t))});return e.observe(n,{childList:!0,subtree:!0}),e},o=(n,t)=>{let l;return n.forEach(n=>{for(let e=0;e<n.addedNodes.length;e++)l=i(n.addedNodes[e],t)||l}),l},i=(n,t)=>{if(1===n.nodeType)return(n.tagName===t.toUpperCase()?[n]:Array.from(n.querySelectorAll(t))).find(n=>!0===n.checked)}},nfbU:function(n,t,l){"use strict";l.d(t,"a",(function(){return s}));var e=l("mrSG"),o=(l("ZZ/e"),l("Aso2"),l("ENZJ"),l("7xvl")),i=l("2Vo4");l("DtjX");class s{constructor(n,t,l,e,o,s,u,r){this.formBuilder=n,this.modal=t,this.navParams=l,this.loading=e,this.profile=o,this.posts=s,this.alert=u,this.postEmitterService=r,this.replies$=new i.a([]),this.tabBar=document.getElementById("myTabBar"),this.votes=document.getElementById("votes")}ngOnInit(){this.profile.getUserDetails().subscribe(n=>{this.userProfilePicture=n.profilePicture}),this.repliesForm=this.formBuilder.group({reply:[""]}),this.replies$.next(this.navParams.get("replies").reverse()),this.replies$.subscribe(n=>{this.replies=n;for(let t of this.replies)t.isEditable=!1,console.log("Reply: ",t),t.userEmail==this.userEmail&&(t.isEditable=!0)}),this.postID=this.navParams.get("postID"),this.commentContents=this.navParams.get("comment"),this.commentID=this.navParams.get("commentID"),this.commentUserFullName=this.navParams.get("commentUserFullName"),this.commentUserEmail=this.navParams.get("commentUserEmail"),this.commentDate=this.navParams.get("commentDate"),this.userFullName=this.navParams.get("userFullName"),this.userEmail=this.navParams.get("userEmail")}cancel(){console.log("cancelling comment..."),this.modal.dismiss()}refreshRepliesAmount(){this.postEmitterService.postPageRefresh()}reply(n){return e.b(this,void 0,void 0,(function*(){yield this.repliesForm.reset(),yield console.log("replying to comment..."),yield this.posts.replyComment(this.commentID,this.postID,n.reply,this.userFullName,this.userEmail,this.userProfilePicture,this.commentUserFullName,this.commentUserEmail).subscribe(n=>{let t,l=[];for(const o of n.comments)if(o._id==n.comment){t=o;for(let n=0;n<o.replies.length;n++)l.push(o.replies[n])}let e=n.comments,i=n.userEmail,s=n.replies;for(const u of e){u.repliesLength=u.replies.length,u.isUser=!1,u.canDeleteComment=!1,u.canReport=!0,u.date=Object(o.a)(new Date(u.date),{includeSeconds:!1,addSuffix:!1}),u.userEmail===i&&(u.isUser=!0,u.canDeleteComment=!0,u.canReport=!1);for(let n=0;u.replies.length>n;n++)u.replies[n].date=Object(o.a)(new Date(u.replies[n].date),{addSuffix:!1}),s.push(u.replies[n])}this.replies=l,this.posts.commentsSubject$.next(e.reverse()),this.replies$.next(this.replies.reverse())}),yield this.repliesLoading()}))}deleteReply(n){return e.b(this,void 0,void 0,(function*(){console.log("Deleting reply with id ",n),yield this.posts.deleteReply(n,this.commentID,this.postID).subscribe(n=>{let t;console.log(n);let l=[],e=n.comments,i=n.userEmail,s=n.replies;for(const o of e)if(o._id==n.comment){t=o;for(let n=0;n<o.replies.length;n++)l.push(o.replies[n])}for(const u of e){u.repliesLength=u.replies.length,u.isUser=!1,u.canDeleteComment=!1,u.canReport=!0,u.date=Object(o.a)(new Date(u.date),{includeSeconds:!1,addSuffix:!1}),u.userEmail==i&&(u.isUser=!0,u.canDeleteComment=!0,u.canReport=!1);for(let n=0;u.replies.length>n;n++)u.replies[n].date=Object(o.a)(new Date(u.replies[n].date),{addSuffix:!1}),s.push(u.replies[n])}this.replies=l,this.posts.commentsSubject$.next(e.reverse()),this.replies$.next(this.replies.reverse())})}))}repliesLoading(){return e.b(this,void 0,void 0,(function*(){const n=yield this.loading.create({message:"Replying to Comment...",duration:2e3});yield this.refreshRepliesAmount(),yield n.present(),yield n.onDidDismiss(),console.log("Loading dismissed!")}))}confirmAlert(){return e.b(this,void 0,void 0,(function*(){const n=yield this.alert.create({cssClass:"success-alert",message:"Your comment has been edited.",buttons:["OK"]});yield n.present()}))}ScrollToTop(){this.content.scrollToPoint(0,140,100),this.tabBar.style.height="0px",this.votes.style.height="0px"}ScrollToReply(){this.content.scrollToPoint(0,300,100),this.textarea.getInputElement().then(n=>{n.blur()})}onBlur(){this.textarea.getInputElement().then(n=>{this.tabBar.style.height="70px",this.votes.style.height="70px"})}blur(){this.textarea.getInputElement().then(n=>{n.blur(),this.tabBar.style.height="70px",this.votes.style.height="70px"})}}},opz7:function(n,t,l){"use strict";l.d(t,"a",(function(){return o})),l.d(t,"b",(function(){return i})),l.d(t,"c",(function(){return s})),l.d(t,"d",(function(){return e}));const e=()=>{const n=window.TapticEngine;n&&n.selection()},o=()=>{const n=window.TapticEngine;n&&n.gestureSelectionStart()},i=()=>{const n=window.TapticEngine;n&&n.gestureSelectionChanged()},s=()=>{const n=window.TapticEngine;n&&n.gestureSelectionEnd()}},qaSm:function(n,t,l){"use strict";l.d(t,"a",(function(){return e})),l.d(t,"b",(function(){return o}));class e{constructor(n,t){this.x=n,this.y=t}}const o=(n,t,l,e,o)=>{const u=s(n.y,t.y,l.y,e.y,o);return i(n.x,t.x,l.x,e.x,u[0])},i=(n,t,l,e,o)=>o*(3*t*Math.pow(o-1,2)+o*(-3*l*o+3*l+e*o))-n*Math.pow(o-1,3),s=(n,t,l,e,o)=>u((e-=o)-3*(l-=o)+3*(t-=o)-(n-=o),3*l-6*t+3*n,3*t-3*n,n).filter(n=>n>=0&&n<=1),u=(n,t,l,e)=>{if(0===n)return((n,t,l)=>{const e=t*t-4*n*l;return e<0?[]:[(-t+Math.sqrt(e))/(2*n),(-t-Math.sqrt(e))/(2*n)]})(t,l,e);const o=(3*(l/=n)-(t/=n)*t)/3,i=(2*t*t*t-9*t*l+27*(e/=n))/27;if(0===o)return[Math.pow(-i,1/3)];if(0===i)return[Math.sqrt(-o),-Math.sqrt(-o)];const s=Math.pow(i/2,2)+Math.pow(o/3,3);if(0===s)return[Math.pow(i/2,.5)-t/3];if(s>0)return[Math.pow(-i/2+Math.sqrt(s),1/3)-Math.pow(i/2+Math.sqrt(s),1/3)-t/3];const u=Math.sqrt(Math.pow(-o/3,3)),r=Math.acos(-i/(2*Math.sqrt(Math.pow(-o/3,3)))),a=2*Math.pow(u,1/3);return[a*Math.cos(r/3)-t/3,a*Math.cos((r+2*Math.PI)/3)-t/3,a*Math.cos((r+4*Math.PI)/3)-t/3]}},sQ9i:function(n,t,l){"use strict";var e=l("8Y7J"),o=l("oBZk"),i=l("ZZ/e"),s=l("SVse"),u=l("s7LF"),r=l("nfbU"),a=l("Aso2"),c=l("ENZJ"),p=l("DtjX");l.d(t,"a",(function(){return f}));var d=e.zb({encapsulation:0,styles:[[".reply-input[_ngcontent-%COMP%]{background:#fff;height:auto;margin:20px 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:linear}.reply-input[_ngcontent-%COMP%]:hover{background:rgba(250,167,27,.02);height:auto;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}ion-button[type=submit][_ngcontent-%COMP%]{--color:white;--background:linear-gradient(#24d8a8, #1baf88)}.blue-button[_ngcontent-%COMP%]{width:unset;height:36px;font-size:.85em;-webkit-animation:none;animation:none;opacity:unset}.reply-wrapper[_ngcontent-%COMP%]{padding:10px}#reply-avatar[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50px;position:relative;right:15px}.reply-name[_ngcontent-%COMP%]{font-weight:700;margin:.5em 0}#reply-date[_ngcontent-%COMP%]{font-size:.7em;color:#999}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]],data:{}});function b(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,2,"ion-button",[["class","blue-button"],["expand","block"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.deleteReply(n.parent.context.$implicit._id)&&e),e}),o.O,o.d)),e.Ab(1,49152,null,0,i.k,[e.j,e.p,e.F],{expand:[0,"expand"]},null),(n()(),e.Tb(-1,0,[" Delete "]))],(function(n,t){n(t,1,0,"block")}),null)}function m(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,18,"ion-row",[["class","ion-justify-content-center ion-align-items-start reply-wrapper"]],null,null,null,o.kb,o.z)),e.Ab(1,49152,null,0,i.jb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(2,0,null,0,2,"ion-col",[["size","1"]],null,null,null,o.V,o.k)),e.Ab(3,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(4,0,null,0,0,"img",[["id","reply-avatar"]],[[8,"src",4]],null,null,null,null)),(n()(),e.Bb(5,0,null,0,5,"ion-col",[["size","5"]],null,null,null,o.V,o.k)),e.Ab(6,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(7,0,null,0,1,"p",[["class","reply-name"]],null,null,null,null,null)),(n()(),e.Tb(8,null,["",""])),(n()(),e.Bb(9,0,null,0,1,"p",[["class","reply-text"]],null,null,null,null,null)),(n()(),e.Tb(10,null,["",""])),(n()(),e.Bb(11,0,null,0,3,"ion-col",[["size","1.5"]],null,null,null,o.V,o.k)),e.Ab(12,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(13,0,null,0,1,"p",[["id","reply-date"]],null,null,null,null,null)),(n()(),e.Tb(14,null,["",""])),(n()(),e.Bb(15,0,null,0,3,"ion-col",[["size","2"]],null,null,null,o.V,o.k)),e.Ab(16,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.qb(16777216,null,0,1,null,b)),e.Ab(18,16384,null,0,s.j,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,3,0,"1"),n(t,6,0,"5"),n(t,12,0,"1.5"),n(t,16,0,"2"),n(t,18,0,t.context.$implicit.isEditable)}),(function(n,t){n(t,4,0,e.Fb(1,"",t.context.$implicit.userProfilePicture,"")),n(t,8,0,t.context.$implicit.userFullName),n(t,10,0,t.context.$implicit.reply),n(t,14,0,t.context.$implicit.date)}))}function h(n){return e.Vb(0,[e.Rb(402653184,1,{content:0}),e.Rb(402653184,2,{textarea:0}),(n()(),e.Bb(2,0,null,null,11,"ion-header",[["class","ion-hide-md-down"]],null,null,null,o.cb,o.r)),e.Ab(3,49152,null,0,i.B,[e.j,e.p,e.F],null,null),(n()(),e.Bb(4,0,null,0,9,"ion-toolbar",[],null,null,null,o.vb,o.K)),e.Ab(5,49152,null,0,i.Cb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(6,0,null,0,2,"ion-title",[["slot","start"]],null,null,null,o.ub,o.J)),e.Ab(7,49152,null,0,i.Ab,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,["Replies"])),(n()(),e.Bb(9,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,o.P,o.e)),e.Ab(10,49152,null,0,i.l,[e.j,e.p,e.F],null,null),(n()(),e.Bb(11,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e}),o.O,o.d)),e.Ab(12,49152,null,0,i.k,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,[" cancel "])),(n()(),e.Bb(14,0,null,null,8,"ion-header",[["class","ion-hide-lg-up"]],null,null,null,o.cb,o.r)),e.Ab(15,49152,null,0,i.B,[e.j,e.p,e.F],null,null),(n()(),e.Bb(16,0,null,0,6,"ion-toolbar",[],null,null,null,o.vb,o.K)),e.Ab(17,49152,null,0,i.Cb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(18,0,null,0,1,"ion-icon",[["id","back-arrow-icons"],["name","arrow-back"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e}),o.db,o.s)),e.Ab(19,49152,null,0,i.C,[e.j,e.p,e.F],{name:[0,"name"]},null),(n()(),e.Bb(20,0,null,0,2,"ion-title",[["slot","end"]],null,null,null,o.ub,o.J)),e.Ab(21,49152,null,0,i.Ab,[e.j,e.p,e.F],null,null),(n()(),e.Tb(-1,0,["Replies"])),(n()(),e.Bb(23,0,null,null,46,"ion-content",[],null,null,null,o.W,o.l)),e.Ab(24,49152,[[1,4]],0,i.u,[e.j,e.p,e.F],null,null),(n()(),e.Bb(25,0,null,0,12,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(26,49152,null,0,i.jb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(27,0,null,0,10,"ion-col",[["size","11"]],null,null,null,o.V,o.k)),e.Ab(28,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(29,0,null,0,8,"ion-item",[["lines","none"]],null,null,null,o.fb,o.u)),e.Ab(30,49152,null,0,i.H,[e.j,e.p,e.F],{lines:[0,"lines"]},null),(n()(),e.Bb(31,0,null,0,2,"ion-avatar",[["class","comment-avatar"],["slot","start"]],null,null,null,o.M,o.b)),e.Ab(32,49152,null,0,i.f,[e.j,e.p,e.F],null,null),(n()(),e.Bb(33,0,null,0,0,"img",[["src","../../../../assets/aaron.jpg"]],null,null,null,null,null)),(n()(),e.Bb(34,0,null,0,3,"ion-label",[],null,null,null,o.gb,o.v)),e.Ab(35,49152,null,0,i.N,[e.j,e.p,e.F],null,null),(n()(),e.Bb(36,0,null,0,1,"h6",[["style","opacity: 0.5"]],null,null,null,null,null)),(n()(),e.Tb(37,null,[""," - "," "])),(n()(),e.Bb(38,0,null,0,5,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(39,49152,null,0,i.jb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(40,0,null,0,3,"ion-col",[["size","11"]],null,null,null,o.V,o.k)),e.Ab(41,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(42,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(43,null,["",""])),(n()(),e.Bb(44,0,null,0,18,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(45,49152,null,0,i.jb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(46,0,null,0,16,"ion-col",[["size","11"]],null,null,null,o.V,o.k)),e.Ab(47,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(48,0,null,0,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,t,l){var o=!0,i=n.component;return"submit"===t&&(o=!1!==e.Nb(n,50).onSubmit(l)&&o),"reset"===t&&(o=!1!==e.Nb(n,50).onReset()&&o),"ngSubmit"===t&&(o=!1!==(i.repliesForm.value.reply.length>0?i.reply(i.repliesForm.value)&&i.ScrollToReply():null)&&o),o}),null,null)),e.Ab(49,16384,null,0,u.t,[],null,null),e.Ab(50,540672,null,0,u.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Qb(2048,null,u.a,null,[u.d]),e.Ab(52,16384,null,0,u.l,[[4,u.a]],null,null),(n()(),e.Bb(53,0,null,null,6,"ion-textarea",[["autocapitalize","true"],["autogrow","true"],["class","reply-input"],["formControlName","reply"],["placeholder","Reply to this comment"],["rows","5"],["spellcheck","true"],["type","text"],["wrap","soft"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionFocus"],[null,"ionBlur"],[null,"onfocusout"],[null,"keydown.control.enter"],[null,"ionChange"]],(function(n,t,l){var o=!0,i=n.component;return"ionBlur"===t&&(o=!1!==e.Nb(n,54)._handleBlurEvent(l.target)&&o),"ionChange"===t&&(o=!1!==e.Nb(n,54)._handleInputEvent(l.target)&&o),"ionFocus"===t&&(o=!1!==i.ScrollToTop()&&o),"ionBlur"===t&&(o=!1!==i.onBlur()&&o),"onfocusout"===t&&(o=!1!==i.blur()&&o),"keydown.control.enter"===t&&(o=!1!==(i.repliesForm.value.reply.length>0?i.reply(i.repliesForm.value)&&i.ScrollToReply():null)&&o),o}),o.tb,o.I)),e.Ab(54,16384,null,0,i.Ob,[e.p],null,null),e.Qb(1024,null,u.i,(function(n){return[n]}),[i.Ob]),e.Ab(56,671744,null,0,u.c,[[3,u.a],[8,null],[8,null],[6,u.i],[2,u.s]],{name:[0,"name"]},null),e.Qb(2048,null,u.j,null,[u.c]),e.Ab(58,16384,null,0,u.k,[[4,u.j]],null,null),e.Ab(59,49152,[[2,4]],0,i.yb,[e.j,e.p,e.F],{autocapitalize:[0,"autocapitalize"],placeholder:[1,"placeholder"],rows:[2,"rows"],spellcheck:[3,"spellcheck"],wrap:[4,"wrap"]},null),(n()(),e.Bb(60,0,null,null,2,"ion-button",[["expand","block"],["type","submit"]],null,null,null,o.O,o.d)),e.Ab(61,49152,null,0,i.k,[e.j,e.p,e.F],{expand:[0,"expand"],type:[1,"type"]},null),(n()(),e.Tb(-1,0,[" Reply "])),(n()(),e.Bb(63,0,null,0,4,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.kb,o.z)),e.Ab(64,49152,null,0,i.jb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(65,0,null,0,2,"ion-col",[["size","11"]],null,null,null,o.V,o.k)),e.Ab(66,49152,null,0,i.t,[e.j,e.p,e.F],{size:[0,"size"]},null),(n()(),e.Bb(67,0,null,0,0,"hr",[["style","background-color: #999; opacity: 0.4; margin: 20px 0 20px 0;"]],null,null,null,null,null)),(n()(),e.qb(16777216,null,0,1,null,m)),e.Ab(69,278528,null,0,s.i,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){var l=t.component;n(t,19,0,"arrow-back"),n(t,28,0,"11"),n(t,30,0,"none"),n(t,41,0,"11"),n(t,47,0,"11"),n(t,50,0,l.repliesForm),n(t,56,0,"reply"),n(t,59,0,"true","Reply to this comment","5","true","soft"),n(t,61,0,"block","submit"),n(t,66,0,"11"),n(t,69,0,l.replies)}),(function(n,t){var l=t.component;n(t,37,0,l.commentUserFullName,l.commentDate),n(t,43,0,l.commentContents),n(t,48,0,e.Nb(t,52).ngClassUntouched,e.Nb(t,52).ngClassTouched,e.Nb(t,52).ngClassPristine,e.Nb(t,52).ngClassDirty,e.Nb(t,52).ngClassValid,e.Nb(t,52).ngClassInvalid,e.Nb(t,52).ngClassPending),n(t,53,0,e.Nb(t,58).ngClassUntouched,e.Nb(t,58).ngClassTouched,e.Nb(t,58).ngClassPristine,e.Nb(t,58).ngClassDirty,e.Nb(t,58).ngClassValid,e.Nb(t,58).ngClassInvalid,e.Nb(t,58).ngClassPending)}))}function g(n){return e.Vb(0,[(n()(),e.Bb(0,0,null,null,1,"app-replies-page",[],null,null,null,h,d)),e.Ab(1,114688,null,0,r.a,[u.b,i.Hb,i.Jb,i.Gb,a.a,c.a,i.a,p.a],null,null)],(function(n,t){n(t,1,0)}),null)}var f=e.xb("app-replies-page",r.a,g,{},{},[])}}]);