(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"7CaW":function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class o{}var u=e("pMnS"),s=e("oBZk"),a=e("ZZ/e"),i=e("s7LF"),r=e("mrSG"),b=e("lGQG");class d{constructor(l,n,e,t,o){this.router=l,this.formBuilder=n,this.auth=e,this.activatedRoute=t,this.toast=o,this.disabled=!0,this.code="",this.userEmail=""}ngOnInit(){this.enterCodeForm=this.formBuilder.group({code:["",[i.o.required,i.o.maxLength(6)]]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),this.generateCode(6).then(l=>{console.log("Sent Email to ".concat(this.userEmail)),this.auth.sendEmailWithCode(l,this.userEmail)}),this.formOnChanges()}formOnChanges(){console.log(this.enterCodeForm),this.enterCodeForm.valueChanges.subscribe(l=>{console.log(l),l.code===this.code&&(console.log("codes match"),this.disabled=!1),l.code!==this.code&&(this.disabled=!0)})}generateCode(l){return r.b(this,void 0,void 0,(function*(){let n="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e.length;for(let o=0;o<l;o++)n+=e.charAt(Math.floor(Math.random()*t));return console.log("Generated Code: "+n),this.code=n}))}sendNewCode(){return r.b(this,void 0,void 0,(function*(){yield this.generateCode(6).then(l=>{console.log("Data: "+l),this.auth.sendEmailWithCode(l,this.userEmail)}),yield this.presentNewCodeToast(this.userEmail)}))}thankYouPage(){this.enterCodeForm.controls.code.value!==this.code&&(this.presentErrorToast(),console.log("Codes do not match")),console.log("Thank you page"),this.auth.register(),this.router.navigate(["/personal-info/profile-picture/upload-resume/login-credentials/enter-code/:email/thank-you-page"])}presentErrorToast(){return r.b(this,void 0,void 0,(function*(){(yield this.toast.create({message:"The codes do not match. Please try again.",duration:2e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"})).present()}))}presentNewCodeToast(l){return r.b(this,void 0,void 0,(function*(){(yield this.toast.create({message:"New Code sent to ".concat(l),duration:2e3,cssClass:"success-toast",keyboardClose:!0,position:"top"})).present()}))}cancel(){console.log("Sign up cancelled"),this.router.navigate([""])}}var c=e("iInd"),h=t.zb({encapsulation:0,styles:[[".send-new-code[_ngcontent-%COMP%]{display:block;--background:none;color:#005191;--border-color:#005191;--border-width:1px;--border-style:solid;border:1px;width:150px;margin:50px auto;opacity:0;-webkit-animation:1s ease-out 5s forwards slide-from-right;animation:1s ease-out 5s forwards slide-from-right}@-webkit-keyframes slide-from-right{0%{-webkit-transform:translateX(300px);transform:translateX(300px);opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}@keyframes slide-from-right{0%{-webkit-transform:translateX(300px);transform:translateX(300px);opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}"]],data:{}});function p(l){return t.Tb(0,[(l()(),t.Bb(0,0,null,null,9,"ion-header",[],null,null,null,s.fb,s.r)),t.Ab(1,49152,null,0,a.C,[t.j,t.p,t.F],null,null),(l()(),t.Bb(2,0,null,0,7,"ion-toolbar",[],null,null,null,s.Bb,s.N)),t.Ab(3,49152,null,0,a.Db,[t.j,t.p,t.F],null,null),(l()(),t.Bb(4,0,null,0,2,"ion-title",[],null,null,null,s.Ab,s.M)),t.Ab(5,49152,null,0,a.Bb,[t.j,t.p,t.F],null,null),(l()(),t.Sb(-1,0,["Enter Code"])),(l()(),t.Bb(7,0,null,0,2,"ion-button",[["class","cancel-button"],["slot","end"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t}),s.R,s.d)),t.Ab(8,49152,null,0,a.l,[t.j,t.p,t.F],null,null),(l()(),t.Sb(-1,0,[" cancel "])),(l()(),t.Bb(10,0,null,null,34,"ion-content",[],null,null,null,s.Z,s.l)),t.Ab(11,49152,null,0,a.v,[t.j,t.p,t.F],null,null),(l()(),t.Bb(12,0,null,0,32,"ion-grid",[["class","ion-text-center"],["fixed",""]],null,null,null,s.eb,s.q)),t.Ab(13,49152,null,0,a.B,[t.j,t.p,t.F],{fixed:[0,"fixed"]},null),(l()(),t.Bb(14,0,null,0,30,"ion-row",[],null,null,null,s.qb,s.C)),t.Ab(15,49152,null,0,a.kb,[t.j,t.p,t.F],null,null),(l()(),t.Bb(16,0,null,0,28,"ion-col",[["offset","1"],["size","10"]],null,null,null,s.Y,s.k)),t.Ab(17,49152,null,0,a.u,[t.j,t.p,t.F],{offset:[0,"offset"],size:[1,"size"]},null),(l()(),t.Bb(18,0,null,0,1,"h6",[["class","text-header"]],null,null,null,null,null)),(l()(),t.Sb(19,null,["Please enter the 6 character code that was sent to ",""])),(l()(),t.Bb(20,0,null,0,24,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var o=!0,u=l.component;return"submit"===n&&(o=!1!==t.Nb(l,22).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Nb(l,22).onReset()&&o),"ngSubmit"===n&&(o=!1!==u.thankYouPage()&&o),o}),null,null)),t.Ab(21,16384,null,0,i.s,[],null,null),t.Ab(22,540672,null,0,i.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Pb(2048,null,i.a,null,[i.d]),t.Ab(24,16384,null,0,i.l,[[4,i.a]],null,null),(l()(),t.Bb(25,0,null,null,19,"ion-list",[["class","line-input"]],null,null,null,s.lb,s.w)),t.Ab(26,49152,null,0,a.P,[t.j,t.p,t.F],null,null),(l()(),t.Bb(27,0,null,0,11,"ion-item",[],null,null,null,s.ib,s.u)),t.Ab(28,49152,null,0,a.I,[t.j,t.p,t.F],null,null),(l()(),t.Bb(29,0,null,0,2,"ion-label",[],null,null,null,s.jb,s.v)),t.Ab(30,49152,null,0,a.O,[t.j,t.p,t.F],null,null),(l()(),t.Sb(-1,0,["Code |"])),(l()(),t.Bb(32,0,null,0,6,"ion-input",[["formControlName","code"],["placeholder","enter code"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var o=!0;return"ionBlur"===n&&(o=!1!==t.Nb(l,33)._handleBlurEvent(e.target)&&o),"ionChange"===n&&(o=!1!==t.Nb(l,33)._handleInputEvent(e.target)&&o),o}),s.hb,s.t)),t.Ab(33,16384,null,0,a.Pb,[t.p],null,null),t.Pb(1024,null,i.i,(function(l){return[l]}),[a.Pb]),t.Ab(35,671744,null,0,i.c,[[3,i.a],[8,null],[8,null],[6,i.i],[2,i.r]],{name:[0,"name"]},null),t.Pb(2048,null,i.j,null,[i.c]),t.Ab(37,16384,null,0,i.k,[[4,i.j]],null,null),t.Ab(38,49152,null,0,a.H,[t.j,t.p,t.F],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),t.Bb(39,0,null,0,2,"ion-button",[["class","send-new-code"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.sendNewCode()&&t),t}),s.R,s.d)),t.Ab(40,49152,null,0,a.l,[t.j,t.p,t.F],null,null),(l()(),t.Sb(-1,0,[" Send new code "])),(l()(),t.Bb(42,0,null,0,2,"ion-button",[["class","orange-button"],["type","submit"]],null,null,null,s.R,s.d)),t.Ab(43,49152,null,0,a.l,[t.j,t.p,t.F],{disabled:[0,"disabled"],type:[1,"type"]},null),(l()(),t.Sb(-1,0,[" ENTER CODE "]))],(function(l,n){var e=n.component;l(n,13,0,""),l(n,17,0,"1","10"),l(n,22,0,e.enterCodeForm),l(n,35,0,"code"),l(n,38,0,"enter code","email"),l(n,43,0,e.disabled,"submit")}),(function(l,n){l(n,19,0,n.component.userEmail),l(n,20,0,t.Nb(n,24).ngClassUntouched,t.Nb(n,24).ngClassTouched,t.Nb(n,24).ngClassPristine,t.Nb(n,24).ngClassDirty,t.Nb(n,24).ngClassValid,t.Nb(n,24).ngClassInvalid,t.Nb(n,24).ngClassPending),l(n,32,0,t.Nb(n,37).ngClassUntouched,t.Nb(n,37).ngClassTouched,t.Nb(n,37).ngClassPristine,t.Nb(n,37).ngClassDirty,t.Nb(n,37).ngClassValid,t.Nb(n,37).ngClassInvalid,t.Nb(n,37).ngClassPending)}))}var g=t.xb("app-enter-code",d,(function(l){return t.Tb(0,[(l()(),t.Bb(0,0,null,null,1,"app-enter-code",[],null,null,null,p,h)),t.Ab(1,114688,null,0,d,[c.m,i.b,b.a,c.a,a.Qb],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),m=e("SVse");const f=()=>e.e(33).then(e.bind(null,"yNHi")).then(l=>l.ThankYouPageModuleNgFactory);class C{}e.d(n,"EnterCodePageModuleNgFactory",(function(){return v}));var v=t.yb(o,[],(function(l){return t.Kb([t.Lb(512,t.m,t.jb,[[8,[u.a,g]],[3,t.m],t.D]),t.Lb(4608,m.k,m.j,[t.z,[2,m.q]]),t.Lb(4608,i.q,i.q,[]),t.Lb(4608,a.c,a.c,[t.F,t.g]),t.Lb(4608,a.Ib,a.Ib,[a.c,t.m,t.w]),t.Lb(4608,a.Lb,a.Lb,[a.c,t.m,t.w]),t.Lb(4608,i.b,i.b,[]),t.Lb(1073742336,m.b,m.b,[]),t.Lb(1073742336,i.p,i.p,[]),t.Lb(1073742336,i.e,i.e,[]),t.Lb(1073742336,a.Fb,a.Fb,[]),t.Lb(1073742336,i.m,i.m,[]),t.Lb(1073742336,c.o,c.o,[[2,c.t],[2,c.m]]),t.Lb(1073742336,C,C,[]),t.Lb(1073742336,o,o,[]),t.Lb(1024,c.k,(function(){return[[{path:"",component:d},{path:"thank-you-page",loadChildren:f}]]}),[])])}))}}]);