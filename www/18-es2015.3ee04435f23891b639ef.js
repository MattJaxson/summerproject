(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{A8Ph:function(t,o,e){"use strict";e.r(o),e.d(o,"JobsPageModule",function(){return y});var i=e("TEn/"),s=e("tyNb"),n=e("ofXK"),a=e("3Pt+"),r=e("mrSG"),b=e("sgUz"),c=e("U8oy"),l=e("Aso2"),h=e("7xvl"),u=e("lFXj"),f=e("fXoL"),p=e("b7Ok");function d(t,o){if(1&t){const t=f.Nb();f.Mb(0,"ion-row",17),f.Mb(1,"ion-col",18),f.Mb(2,"h6",19),f.mc(3,"There were no search results with that name."),f.Lb(),f.Mb(4,"ion-button",20),f.Ub("click",function(o){return f.gc(t),f.Wb().doRefresh(o)}),f.mc(5," Clear Search "),f.Lb(),f.Lb(),f.Lb()}}function g(t,o){if(1&t&&f.Ib(0,"app-heart-icon",39),2&t){const t=f.Wb().$implicit,o=f.Wb(2);f.Zb("job",t)("favoriteJobs",o.favoriteJobsObj)}}function v(t,o){if(1&t){const t=f.Nb();f.Mb(0,"ion-row",23),f.Mb(1,"ion-col",24),f.Mb(2,"ion-row",25),f.Mb(3,"ion-col",26),f.Ib(4,"div",27),f.Lb(),f.Mb(5,"ion-col",28),f.Mb(6,"h5",29),f.mc(7),f.Lb(),f.Mb(8,"p",30),f.mc(9),f.Lb(),f.Mb(10,"h5",31),f.mc(11),f.Lb(),f.Mb(12,"h5",32),f.mc(13),f.Lb(),f.Lb(),f.Ib(14,"ion-col",33),f.Lb(),f.Lb(),f.Mb(15,"ion-row"),f.Mb(16,"ion-col",34),f.Mb(17,"p",35),f.mc(18),f.Lb(),f.Lb(),f.Lb(),f.Mb(19,"ion-col",36),f.Mb(20,"ion-row"),f.Mb(21,"ion-col",34),f.Mb(22,"ion-button",37),f.Ub("click",function(){f.gc(t);const e=o.$implicit;return f.Wb(2).jobPage(e)}),f.mc(23," Details "),f.Lb(),f.lc(24,g,1,2,"app-heart-icon",38),f.Lb(),f.Lb(),f.Lb(),f.Mb(25,"ion-col",36),f.Ib(26,"ion-row"),f.Lb(),f.Lb()}if(2&t){const t=o.$implicit,e=f.Wb(2);f.xb(7),f.nc(t.title),f.xb(2),f.nc(t.companyName),f.xb(2),f.oc("Posted: ",t.dateCreated,""),f.xb(2),f.oc("$",t.rateOfPay,"/hr"),f.xb(5),f.nc(t.summary),f.xb(6),f.Zb("ngIf",e.favoriteJobsObj)}}function m(t,o){if(1&t&&(f.Mb(0,"ion-row"),f.Mb(1,"ion-col",21),f.lc(2,v,27,6,"ion-row",22),f.Lb(),f.Lb()),2&t){const t=f.Wb();f.xb(2),f.Zb("ngForOf",t.allJobs)}}let j=(()=>{class t{constructor(t,o,e,i,s,n){this.router=t,this.jobs=o,this.favorites=e,this.profile=i,this.eventEmitterService=s,this.loading=n,this.jobsGoingLength=0,this.searching=!1,this.noSearchInput=!1,this.favorited="favorited",this.unfavorited="unfavorited"}ngOnDestroy(){this.eventEmitterService.subsVar.unsubscribe(),this.jobsSub.unsubscribe(),this.profileSub.unsubscribe(),this.favoriteJobsSub.unsubscribe()}ngOnInit(){document.getElementById("tabBar").style.display="static",null==this.eventEmitterService.subsVar&&(this.eventEmitterService.subsVar=this.eventEmitterService.invokeJobsPageRefresh.subscribe(()=>{this.getJobs()})),this.getFavoriteJobs(),this.jobsSub=this.jobs.getJobs().subscribe(t=>{console.log("jobs that are intially loaded: "),console.log(t),this.allJobs=Object.values(t),this.allJobsLength=this.allJobs.length,this.allJobs.reverse(),this.loadedAllJobs=Object.values(t),this.loadedAllJobs.reverse();for(const o of this.allJobs)o.dateCreated=Object(h.a)(new Date(o.dateCreated),{addSuffix:!0})})}filter(t){this.initializeItems();let o=t.detail.value;this.presentLoadingWithOptions(),this.allJobs=this.allJobs.filter(t=>{if(console.log(t),t&&o||(console.log("No results from that search"),this.noSearchInput=!0),t.title&&o)return t.title.toLowerCase().indexOf(o.toLowerCase())>-1&&(console.log(t.title),console.log(t),this.searchTerm=o,this.searching=!0,this.noSearchInput=!1,!0);this.noSearchInput=!0}),this.allJobsLength=this.allJobs.length,0===this.allJobsLength&&(console.log("No results from that search"),this.searching=!0,this.searchTerm=o,this.searchbar.getInputElement().then(t=>{t.value=""}),this.noSearchInput=!0),o||(console.log("Search term is empty; showing all jobs instead"),this.noSearchInput=!1,this.searching=!1,this.getJobs())}initializeItems(){this.allJobs=this.loadedAllJobs}getFavoriteJobs(){this.profileSub=this.profile.getUserDetails().subscribe(t=>{this.favoriteJobs=t.favoriteJobs,console.log("Favorite Jobs:"),console.log(this.favoriteJobs),this.favorites.favoriteJobs$.next(this.favoriteJobs),this.favoriteJobsSub=this.favorites.favoriteJobs$.subscribe(o=>{console.log("Favorite Jobs in Service: "+o),this.favoriteJobsAmount=o.length,this.favorites.getFavorites(t.email).subscribe(t=>{this.favoriteJobsObj=t})})})}jobPage(t){console.log("Going to specific Job Page:",t.title),console.log("The job: ",t),this.router.navigate(["/home/jobs/job-page",t._id,t.title,t.companyName,t.companyEmail,t.summary,t.fullJobDescription,t.rateOfPay])}favoritesPage(){this.router.navigate(["/home/jobs/favorites"])}doRefresh(t){return Object(r.a)(this,void 0,void 0,function*(){this.allJobs=[],this.getFavoriteJobs(),this.jobsSub=this.jobs.getJobs().subscribe(t=>{this.allJobs=Object.values(t),this.allJobsLength=this.allJobs.length,this.allJobs.reverse(),this.searching=!1;for(const o of this.allJobs)o.dateCreated=Object(h.a)(new Date(o.dateCreated),{addSuffix:!1})}),setTimeout(()=>{t.target.complete(),console.log("jobs Refreshed")},2e3),yield this.searchbar.getInputElement().then(t=>{t.value="",this.noSearchInput=!1}),yield console.log("Refreshing jobs Page..")})}getJobs(){return Object(r.a)(this,void 0,void 0,function*(){this.jobsSub=this.jobs.getJobs().subscribe(t=>{this.allJobs=Object.values(t),this.allJobsLength=this.allJobs.length,this.allJobs.reverse(),this.searching=!1;for(const o of this.allJobs)o.dateCreated=Object(h.a)(new Date(o.dateCreated),{addSuffix:!1})})})}presentLoadingWithOptions(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.loading.create({duration:1e3,message:"Searching for jobs...",translucent:!0,cssClass:"custom-class custom-loading",keyboardClose:!1});return yield t.present()})}}return t.\u0275fac=function(o){return new(o||t)(f.Hb(s.f),f.Hb(b.a),f.Hb(c.a),f.Hb(l.a),f.Hb(u.a),f.Hb(i.S))},t.\u0275cmp=f.Bb({type:t,selectors:[["app-jobs"]],viewQuery:function(t,o){if(1&t&&f.sc(i.H,!0),2&t){let t;f.ec(t=f.Vb())&&(o.searchbar=t.first)}},decls:31,vars:3,consts:[["no-border","",1,"ion-hide-lg-up"],["slot","end"],[3,"click"],["slot","start","src","../../assets/icon/my-favorite-jobs.svg"],["slot","fixed",3,"ionRefresh"],[1,"ion-hide-md-down",2,"margin","50px 0 50px 0"],["size","8.33","push","1"],["showCancelButton","true","placeholder","Search Job Titles","debounce","1500",1,"searchbar",3,"ionChange"],["size","2","push","0.5"],[1,"blue-button","ion-float-right",2,"width","170px","position","fixed","top","60px",3,"click"],["src","../../../assets/icons/my-favorite-jobs"],["class","ion-justify-content-center",4,"ngIf"],[4,"ngIf"],["id","searchbar-wrapper"],["debounce","2000","animated","true","searchIcon","none","showCancelButton","true","placeholder","Search for Job by Position Name",1,"searchbar",3,"ionChange"],["id","search-options"],[1,"cancel-button"],[1,"ion-justify-content-center"],["size","6",2,"margin-top","25px"],[1,"text-header-mobile",2,"text-align","center"],["expand","block",1,"orange-button",3,"click"],["push-xs","0","push-sm","1.3","push-lg","1.05","size-xs","12","size-sm","10","size-md","7.4"],["class","job-section",4,"ngFor","ngForOf"],[1,"job-section"],["push","0.5","push-lg","0.6","size-xs","12 ","size","7",2,"padding-top","30px"],[1,"ion-align-items-start"],["size","1"],[1,"company-logo",2,"height","60px","width","60px"],["push-xs","1","push-sm","1","push-md","1","push-lg","0.5","size","4"],["id","job-title"],["id","company-name"],["id","job-posted-date"],["id","job-rate"],["push-xs","3.5","push-sm","3.5","push-sm","3.5","push-sm","3.9","size","1"],["push","0.5","size","10.5"],["id","job-summary"],["size","12"],[1,"ion-float-right",3,"click"],[3,"job","favoriteJobs",4,"ngIf"],[3,"job","favoriteJobs"]],template:function(t,o){1&t&&(f.Mb(0,"ion-header",0),f.Mb(1,"ion-toolbar"),f.Mb(2,"ion-title"),f.mc(3,"Jobs"),f.Lb(),f.Mb(4,"ion-buttons",1),f.Mb(5,"ion-button",2),f.Ub("click",function(){return o.favoritesPage()}),f.Ib(6,"ion-icon",3),f.Lb(),f.Lb(),f.Lb(),f.Lb(),f.Mb(7,"ion-content"),f.Mb(8,"ion-refresher",4),f.Ub("ionRefresh",function(t){return o.doRefresh(t)}),f.Ib(9,"ion-refresher-content"),f.Lb(),f.Mb(10,"ion-grid"),f.Mb(11,"ion-row",5),f.Mb(12,"ion-col",6),f.Mb(13,"ion-searchbar",7),f.Ub("ionChange",function(t){return o.filter(t)}),f.Lb(),f.Lb(),f.Mb(14,"ion-col",8),f.Mb(15,"ion-button",9),f.Ub("click",function(){return o.favoritesPage()}),f.Ib(16,"ion-icon",10),f.mc(17),f.Lb(),f.Lb(),f.Lb(),f.lc(18,d,6,0,"ion-row",11),f.lc(19,m,3,1,"ion-row",12),f.Lb(),f.Lb(),f.Mb(20,"ion-footer"),f.Mb(21,"div",13),f.Mb(22,"ion-searchbar",14),f.Ub("ionChange",function(t){return o.filter(t)}),f.Lb(),f.Mb(23,"div",15),f.Mb(24,"p"),f.mc(25,'You can choose up to five hashtags. Please seperate each tag with a comma ( , ) . Example: "Computers, Science, Technology"'),f.Lb(),f.Mb(26,"p"),f.mc(27,"Current Search: ----"),f.Lb(),f.Mb(28,"div"),f.Mb(29,"ion-button",16),f.mc(30," Cancel "),f.Lb(),f.Lb(),f.Lb(),f.Lb(),f.Lb()),2&t&&(f.xb(17),f.oc(" ",o.favoriteJobsAmount," "),f.xb(1),f.Zb("ngIf",o.noSearchInput),f.xb(1),f.Zb("ngIf",!o.noSearchInput))},directives:[i.u,i.P,i.O,i.h,i.g,i.v,i.o,i.D,i.E,i.t,i.G,i.n,i.H,i.Y,n.j,i.s,n.i,p.a],styles:["ion-header[_ngcontent-%COMP%]{box-shadow:1px 1px 5px rgba(0,0,0,.1);background:#edf3f8;border-bottom:1px solid #005191}ion-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5em}#searchbar-wrapper[_ngcontent-%COMP%]{transition:.5s;height:60px;background:#edf3f8}#logo[_ngcontent-%COMP%]{width:100px;position:relative;top:10px;left:10px}.company-logo[_ngcontent-%COMP%]{background-image:url(journi-logo.d1df781953a8e42a7e0f.png);background-repeat:no-repeat;background-size:contain;background-position:50%}.job-details[_ngcontent-%COMP%]{--background:#edf3f8;--background-hover:#edf3f8;color:#005191;margin-right:10px;font-size:15px;font-weight:600;height:45px;border-radius:5px}#job-details[_ngcontent-%COMP%]:hover{color:#fff}#favorites-button[_ngcontent-%COMP%]{opacity:1;--background:#005191;--background-hover:#005191;--color:#fff;--border-style:solid;--border-width:1px;--border-color:#fff;box-shadow:1px 1px 10px rgba(0,0,0,.1);width:100px;height:50px;font-size:.8em;font-weight:600;position:relative;right:15px}ion-searchbar[_ngcontent-%COMP%]{margin-left:10px;--background:#fff;border-radius:5px;--height:60px;width:95%;font-size:.8em;--box-shadow:none;--cancel-button-color:#005191;--clear-button-color:#005191;--placeholder-opacity:0.5;--icon-color:#005191;transition:.5s;padding:5px}ion-searchbar[_ngcontent-%COMP%]:focus{border:1px solid #005191}.job-section[_ngcontent-%COMP%]{background:#fff;height:auto;color:#777;width:100%;margin-bottom:50px;box-shadow:1px 10px 10px rgba(0,0,0,.1)}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{display:block}--ion-buttons[_ngcontent-%COMP%]{--color:#888}#job-summary[_ngcontent-%COMP%]{font-size:1.3em;line-height:1.3em;position:relative;color:#333;opacity:.7;top:-60px;padding-bottom:40px;border-bottom:1px solid #005191}#company-name[_ngcontent-%COMP%]{font-size:.9em;opacity:.8;position:relative;top:-29px}#job-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:500;position:relative;top:-15px;color:#111}#job-rate[_ngcontent-%COMP%]{font-size:.95em;font-weight:900;opacity:.7;position:relative;top:-53px;color:#116e56}@media only screen and (min-width:992px){#job-title[_ngcontent-%COMP%]{font-size:1.3em;font-weight:500}}@media only screen and (min-width:576px){#job-title[_ngcontent-%COMP%]{font-size:1.3em;font-weight:500}}#job-posted-date[_ngcontent-%COMP%]{font-size:10px;opacity:.7;position:relative;top:-43px}"]}),t})();const x=[{path:"",component:j},{path:"job-page/:id/:title/:companyName/:companyEmail/:summary/:fullJobDescription/:rateOfPay",loadChildren:()=>e.e(37).then(e.bind(null,"2Iy3")).then(t=>t.JobPagePageModule)},{path:"favorites",loadChildren:()=>e.e(36).then(e.bind(null,"B9Dp")).then(t=>t.FavoritesPageModule)}];let J=(()=>{class t{}return t.\u0275mod=f.Fb({type:t}),t.\u0275inj=f.Eb({factory:function(o){return new(o||t)},imports:[[s.j.forChild(x)],s.j]}),t})();var M=e("zAgk"),L=e("bUUK");let y=(()=>{class t{}return t.\u0275mod=f.Fb({type:t}),t.\u0275inj=f.Eb({factory:function(o){return new(o||t)},imports:[[i.Q,M.a,n.b,a.d,a.l,J,s.j.forChild([{path:"",component:j}]),L.ViewResumePageModule]]}),t})()},U8oy:function(t,o,e){"use strict";e.d(o,"a",function(){return l});var i=e("mrSG"),s=e("2Vo4"),n=e("Aso2"),a=e("AytR"),r=e("fXoL"),b=e("tk/3"),c=e("TEn/");let l=(()=>{class t{constructor(t,o,e){this.http=t,this.profile=o,this.toast=e,this.BACKEND_URL=a.a.url,this.favoriteJobs$=new s.a([])}getFavorites(t){return console.log("Getting Favorites"),this.http.post(this.BACKEND_URL+"/api/jobs/get-favorites",{email:t})}favoriteThisJob(t){const o=this.profile.activeEmail;return t.userEmail=o,this.http.post(this.BACKEND_URL+"/api/jobs/favorite",{email:o,_id:t._id}).subscribe(t=>{console.log("Posting Favorite Job to Database..");let o=[...Object.values(t)];this.favoriteJobs$.next(o),this.presentToastFavorited("You favorited this job!")})}unFavoriteThisJob(t){const o=this.profile.activeEmail;t.userEmail=o,this.http.post(this.BACKEND_URL+"/api/jobs/unfavorite",{email:o,_id:t._id}).subscribe(t=>Object(i.a)(this,void 0,void 0,function*(){console.log("Unfavorite data value: ",t);let o=[...Object.values(t)];this.favoriteJobs$.next(o),this.presentToastUnfavorited("You removed this job from Favorites.")})),console.log("Unfavoriting this Job")}presentToastFavorited(t){return Object(i.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:t,duration:3e3,cssClass:"favorited-toast",position:"bottom"})).present()})}presentToastUnfavorited(t){return Object(i.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:t,duration:3e3,cssClass:"unfavorited-toast",position:"bottom"})).present()})}}return t.\u0275fac=function(o){return new(o||t)(r.Qb(b.b),r.Qb(n.a),r.Qb(c.Z))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},b7Ok:function(t,o,e){"use strict";e.d(o,"a",function(){return b});var i=e("R0Ic"),s=e("U8oy"),n=e("Aso2"),a=e("fXoL"),r=e("TEn/");let b=(()=>{class t{constructor(t,o){this.favorites=t,this.profile=o,this.favoriteState="unfavorited",this.iconName="heart"}ngOnInit(){setTimeout(()=>{for(const t of this.favoriteJobs)this.job._id==t._id&&this.setFavoriteStateOn()},300)}toggleLikeState(){"unfavorited"===this.favoriteState?(this.setFavoriteStateOn(),this.favorites.favoriteThisJob(this.job)):(this.setFavoriteStateOff(),this.favorites.unFavoriteThisJob(this.job))}setFavoriteStateOn(){this.favoriteState="favorited",this.iconName="heart"}setFavoriteStateOff(){this.favoriteState="unfavorited",this.iconName="heart"}}return t.\u0275fac=function(o){return new(o||t)(a.Hb(s.a),a.Hb(n.a))},t.\u0275cmp=a.Bb({type:t,selectors:[["app-heart-icon"]],inputs:{job:"job",favoriteJobs:"favoriteJobs"},decls:1,vars:2,consts:[["tappable","",2,"font-size","3em",3,"name","click"]],template:function(t,o){1&t&&(a.Mb(0,"ion-icon",0),a.Ub("click",function(){return o.toggleLikeState()}),a.Lb()),2&t&&a.Zb("@heart",o.favoriteState)("name",o.iconName)},directives:[r.v],styles:["ion-icon[_ngcontent-%COMP%]{float:right;z-index:9999;position:relative;right:10px;margin-right:20px}"],data:{animation:[Object(i.j)("heart",[Object(i.g)("unfavorited",Object(i.h)({color:"#999",opacity:"1",transform:"scale(0.9)"})),Object(i.g)("favorited",Object(i.h)({color:"#e4405f",opacity:"1",transform:"scale(1)"})),Object(i.i)("unfavorited <=> favorited",Object(i.e)("100ms ease-out"))])]}}),t})()},sgUz:function(t,o,e){"use strict";e.d(o,"a",function(){return a});var i=e("AytR"),s=e("fXoL"),n=e("tk/3");let a=(()=>{class t{constructor(t){this.http=t,this.BACKEND_URL=i.a.url}getJobs(){return console.log("Getting Jobs"),this.http.get(this.BACKEND_URL+"/api/jobs")}sendEmailApplication(t,o,e,i,s,n){return console.log("Sending email to "+n),this.http.post(this.BACKEND_URL+"/api/jobs/send-application",{user:t,age:o,phoneNumber:e,reason:i,jobTitle:s,jobCompanyEmail:n})}}return t.\u0275fac=function(o){return new(o||t)(s.Qb(n.b))},t.\u0275prov=s.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);