(window.webpackJsonp=window.webpackJsonp||[]).push([[22,67,68,69],{Aso2:function(t,e,o){"use strict";o.d(e,"a",function(){return p});var s=o("mrSG"),i=o("NuaS"),n=o("lGQG"),a=o("2Vo4"),r=o("JIr8"),h=o("AytR"),c=o("fXoL"),l=o("tk/3"),u=o("e8h1"),m=o("TEn/"),d=o("tyNb");let p=(()=>{class t{constructor(t,e,o,s,i,n,r){this.http=t,this.storage=e,this.alertController=o,this.helper=s,this.auth=i,this.router=n,this.toastController=r,this.BACKEND_URL=h.a.url,this.activeEmail="",this.fullName=new a.a(""),this.about=new a.a(""),this.city=new a.a(""),this.state=new a.a(""),this.zip=new a.a(""),this.gender=new a.a(""),this.dob=new a.a(""),this.school=new a.a(""),this.grade=new a.a(""),this.profilePicture=new a.a(""),this.resume=new a.a(""),this.email=new a.a(""),this.phone=new a.a(""),this.activeEmail=this.auth.user.email}getAllUsers(){return this.http.get(this.BACKEND_URL+"/api/home/user")}getUserDetails(){return this.http.post(this.BACKEND_URL+"/api/home/user",{email:this.activeEmail})}getTheirDetails(t){return this.http.post(this.BACKEND_URL+"/api/home/user/their-details",{email:t})}changeEmail(t,e){return this.http.post(this.BACKEND_URL+"/api/home/user/change-email",{oldEmail:this.activeEmail,email:t,password:e}).pipe(Object(r.a)(t=>{throw this.presentFailToast(this.activeEmail),new Error(t)})).subscribe(e=>{if(!0!==e)return this.presentFailToast(this.activeEmail),console.log("Passwords dont match");this.email.next(t),this.activeEmail=t,this.router.navigate(["/home/profile"]),this.presentSuccessToast()})}changePhone(t,e){return this.http.post(this.BACKEND_URL+"/api/home/user/change-phone",{email:this.email,newPhone:t,password:e}).pipe(Object(r.a)(t=>{throw this.presentFailToast(this.activeEmail),new Error(t)})).subscribe(e=>{if(!0!==e)return this.presentFailToast(this.activeEmail),console.log("Passwords dont match");this.phone.next(t),this.phone=t,this.router.navigate(["/home/profile"]),this.presentSuccessToast()})}presentSuccessToast(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())}presentFailToast(t){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of "+t,duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present())}changePassword(t,e,o,i){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-password",{oldPassword:e,email:t,newPassword:o,reTypeNewPassword:i}).subscribe(t=>{!0===t?(console.log("TRUE"),this.router.navigate([""]),this.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())):console.log("Passwords dont match!")})})}changeAbout(t,e,o){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-about",{email:t,newAbout:e,passsword:o}).subscribe()})}changeSchool(t,e,o,i){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:t,newSchool:e,newGrade:o,password:i}).subscribe(t=>{if(!0!==t)return this.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present()),console.log("Passwords dont match");this.school.next(e),this.grade.next(o),this.router.navigate(["/home/profile"]),this.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())})})}changeProfilePicture(t,e){return Object(s.a)(this,void 0,void 0,function*(){return this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",{imageForm:t,oldPhotoKey:e}).subscribe()})}changeResume(t,e,o){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:t,newResume:e,password:o}).subscribe(t=>{if(!0!==t)return console.log("Passwords dont match");console.log("Changing Resume..."),this.resume.next(e),this.router.navigate(["/home/user/change-school/:school/:grade/confirm"])})})}delete(){console.log("Deleted User")}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(l.b),c.Qb(u.b),c.Qb(m.a),c.Qb(i.b),c.Qb(n.a),c.Qb(d.f),c.Qb(m.eb))},t.\u0275prov=c.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},pRc2:function(t,e,o){"use strict";o.r(e),o.d(e,"ContactMentorPageModule",function(){return d});var s=o("ofXK"),i=o("3Pt+"),n=o("TEn/"),a=o("tyNb"),r=o("mrSG"),h=o("Aso2"),c=o("+DJb"),l=o("fXoL");const u=[{path:"",component:(()=>{class t{constructor(t,e,o,s,i,n){this.profile=t,this.mentors=e,this.activatedRoute=o,this.formBuilder=s,this.router=i,this.location=n}ngOnInit(){this.contactMenorForm=this.formBuilder.group({message:["",i.n.required]}),console.log("Valid: "+this.contactMenorForm.valid),this.contactMenorForm.get("message").valueChanges.subscribe(t=>{console.log("Subscribed message: "+t),setTimeout(()=>{this.messageValid=!!this.contactMenorForm.valid,console.log("Valid: "+this.contactMenorForm.valid)},100)}),this.message=this.contactMenorForm.value.message;const t=this.activatedRoute.snapshot.paramMap.get("id"),e=this.activatedRoute.snapshot.paramMap.get("email"),o=this.activatedRoute.snapshot.paramMap.get("name"),s=this.activatedRoute.snapshot.paramMap.get("photo");this.mentorId=t,this.mentorName=o,this.mentorEmail=e,this.mentorPhoto=s,this.userDetails()}confirm(t){return Object(r.a)(this,void 0,void 0,function*(){yield this.sendMessage(t),yield this.router.navigate(["/home/mentors/mentor-page/:name/:title/:email/:description/:photo/:city/:state/contact-mentor/:name/:email/:photo/confirm",this.mentorName,this.mentorEmail,this.mentorPhoto])})}userDetails(){this.profile.getUserDetails().subscribe(t=>{this.userEmail=t.email,this.userName=t.fullName,this.userCity=t.city,this.userState=t.state,this.userAge=t.age,this.userGrade=t.grade,this.userSchool=t.school,this.userProfilePicture=t.profilePicture,this.userResume=t.resume})}sendMessage(t){this.mentors.sendMentorAnEmail(t,this.mentorName,this.mentorEmail,this.userEmail,this.userName,this.userCity,this.userState,this.userAge,this.userGrade,this.userSchool,this.userProfilePicture,this.userResume).subscribe()}back(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(l.Hb(h.a),l.Hb(c.a),l.Hb(a.a),l.Hb(i.a),l.Hb(a.f),l.Hb(s.f))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-contact-mentor"]],decls:21,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"margin-top","100px"],["size-xs","11","size-sm","10","size-md","7","size-lg","6","size-xl","5"],["id","mentor-photo"],[1,"blue-button-small","ion-float-right",3,"click"],[1,"ion-justify-content-center"],[1,"ion-text-center"],["id","mentor-photo",1,"ion-hide-lg-up",3,"src"],[3,"formGroup","ngSubmit"],["formControlName","message","rows","10","autogrow","true","required","","spellcheck","true",1,"message-input",3,"placeholder","keydown.control.enter"],["type","submit","expand","block",1,"orange-button",3,"disabled"]],template:function(t,e){1&t&&(l.Mb(0,"ion-header",0),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-buttons",1),l.Ib(3,"ion-back-button"),l.Lb(),l.Mb(4,"ion-title"),l.nc(5,"Contact Mentor"),l.Lb(),l.Lb(),l.Lb(),l.Mb(6,"ion-content"),l.Mb(7,"ion-grid"),l.Mb(8,"ion-row",2),l.Mb(9,"ion-col",3),l.Ib(10,"div",4),l.Mb(11,"ion-button",5),l.Ub("click",function(){return e.back()}),l.nc(12,"Back"),l.Lb(),l.Lb(),l.Lb(),l.Mb(13,"ion-row",6),l.Mb(14,"ion-col",3),l.Mb(15,"div",7),l.Ib(16,"img",8),l.Lb(),l.Mb(17,"form",9),l.Ub("ngSubmit",function(){return e.confirm(e.contactMenorForm.value)}),l.Mb(18,"ion-textarea",10),l.Ub("keydown.control.enter",function(){return e.messageValid?e.confirm(e.contactMenorForm.value):null}),l.Lb(),l.Mb(19,"ion-button",11),l.nc(20," Send "),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.xb(16),l.ac("src",e.mentorPhoto,l.ic),l.xb(1),l.Zb("formGroup",e.contactMenorForm),l.xb(1),l.bc("placeholder","Have a question for a ",e.mentorName,"? Send them an email!"),l.xb(1),l.Zb("disabled",!e.messageValid))},directives:[n.u,n.S,n.h,n.e,n.f,n.R,n.o,n.t,n.I,n.n,n.g,i.o,i.j,i.c,n.Q,n.db,i.i,i.b,i.m],styles:["ion-content[_ngcontent-%COMP%]{--background:#f4f5f8}.blue-button-small[_ngcontent-%COMP%]{--background:#0055a5;opacity:1;height:24px;width:100px;font-size:.5em;font-weight:600}.name[_ngcontent-%COMP%]{display:block;font-size:1em;color:#999;opacity:0}.name[_ngcontent-%COMP%]:first-child{-webkit-animation:slide-in-left 1s cubic-bezier(.175,.885,.32,1.275) 1.3s forwards;animation:slide-in-left 1s cubic-bezier(.175,.885,.32,1.275) 1.3s forwards}#mentor-photo[_ngcontent-%COMP%]{height:100px;border-radius:100px;background-repeat:no-repeat;background-size:contain;background-position:50%;display:inline-block;opacity:1;margin:54px auto}@media screen and (min-width:992px){#mentor-photo[_ngcontent-%COMP%]{border-radius:100px;width:100px;height:100px;position:relative;top:-38px}}.message-input[_ngcontent-%COMP%]{padding:0 8px;border-radius:5px;font-size:1.2em;border:1px solid rgba(0,81,145,.4)}.orange-button[_ngcontent-%COMP%]{margin-top:40px}.blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset}@-webkit-keyframes slide-in-left{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes slide-in-left{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes slide-in-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(0)}}@keyframes slide-in-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(0)}}"]}),t})()},{path:"confirm/:name/:email/:phone",loadChildren:()=>o.e(41).then(o.bind(null,"p/Ua")).then(t=>t.ConfirmPageModule)}];let m=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(u)],a.j]}),t})(),d=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[s.b,i.d,i.l,n.T,m]]}),t})()}}]);