(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{PJsJ:function(o,s,n){"use strict";n.r(s),n.d(s,"NewPasswordPageModule",function(){return g});var t=n("ofXK"),e=n("3Pt+"),a=n("TEn/"),r=n("tyNb"),i=n("mrSG"),c=n("lGQG"),d=n("AytR"),w=n("fXoL");function b(o,s){1&o&&(w.Mb(0,"ion-button",12),w.Ib(1,"ion-icon",13),w.Lb())}function l(o,s){1&o&&(w.Mb(0,"ion-button",14),w.Ib(1,"ion-icon",15),w.Lb())}function u(o,s){1&o&&(w.Mb(0,"ion-button",12),w.Ib(1,"ion-icon",13),w.Lb())}function m(o,s){1&o&&(w.Mb(0,"ion-button",14),w.Ib(1,"ion-icon",15),w.Lb())}const p=[{path:"",component:(()=>{class o{constructor(o,s,n,t,e){this.formBuilder=o,this.router=s,this.auth=n,this.activatedRoute=t,this.toast=e,this.BACKEND_URL=d.a.url,this.passwordsMatch=!1,this.validationMessasges={password:[{type:"password",message:"Please enter a valid password."}]}}ngOnInit(){this.newPasswordForm=this.formBuilder.group({newPassword:["",e.n.required],reTypeNewPassword:["",e.n.required]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),console.log("Email: "+this.userEmail),this.formOnChanges()}formOnChanges(){console.log(this.newPasswordForm),this.newPasswordForm.valueChanges.subscribe(o=>{console.log(o),this.newPasswordForm.statusChanges.subscribe(o=>{console.log(o),"VALID"===o&&(console.log("you did it bruh"),this.passwordsMatch=!0)}),this.newPasswordForm.controls.newPassword.value===this.newPasswordForm.controls.reTypePassword.value&&this.newPasswordForm.controls.newPassword.touched&&console.log("Passwords Match"),this.newPasswordForm.controls.newPassword.value!==this.newPasswordForm.controls.reTypePassword.value&&(console.log("Passwords Match"),this.passwordsMatch=!1)})}goToConfirmPage(){return Object(i.a)(this,void 0,void 0,function*(){const o=this.userEmail;let s=this.newPasswordForm.value.newPassword;if(s!==this.newPasswordForm.value.reTypeNewPassword)return this.presentToast(),console.log("passwords do not match");yield this.auth.forgotPassword(o,s),yield console.log("Going to Confirm Password Change Page"),yield this.router.navigate(["/enter-email/enter-code/:email/new-password/:email/confirm"])})}presentToast(){return Object(i.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"The two passwords you entered do not match. Please try again.",duration:2e3})).present()})}cancel(){console.log("Forgotten password cancelled"),this.router.navigate([""])}}return o.\u0275fac=function(s){return new(s||o)(w.Hb(e.a),w.Hb(r.g),w.Hb(c.a),w.Hb(r.a),w.Hb(a.eb))},o.\u0275cmp=w.Bb({type:o,selectors:[["app-new-password"]],decls:22,vars:5,consts:[[2,"display","none"],[1,"ion-text-center",2,"margin-top","10%"],["size-lg","6","offset-lg","3"],[1,"text-header"],[3,"formGroup","ngSubmit"],[1,"line-input"],["placeholder","Password","formControlName","newPassword","type","password"],["class","badPassword","item-right","",4,"ngIf"],["class","goodPassword","item-right","",4,"ngIf"],["placeholder","Re-type Password","formControlName","reTypeNewPassword","type","password"],["type","submit",1,"orange-button"],["slot","end",1,"cancel-button",3,"click"],["item-right","",1,"badPassword"],["name","close",2,"color","#FF443B"],["item-right","",1,"goodPassword"],["name","checkmark",2,"color","#21df82"]],template:function(o,s){1&o&&(w.Ib(0,"ion-header",0),w.Mb(1,"ion-content"),w.Mb(2,"ion-grid",1),w.Mb(3,"ion-row"),w.Mb(4,"ion-col",2),w.Mb(5,"h6",3),w.nc(6,"Please enter your new password."),w.Lb(),w.Mb(7,"form",4),w.Ub("ngSubmit",function(){return s.goToConfirmPage()}),w.Mb(8,"ion-list",5),w.Mb(9,"ion-item"),w.Ib(10,"ion-input",6),w.mc(11,b,2,0,"ion-button",7),w.mc(12,l,2,0,"ion-button",8),w.Lb(),w.Mb(13,"ion-item"),w.Ib(14,"ion-input",9),w.mc(15,u,2,0,"ion-button",7),w.mc(16,m,2,0,"ion-button",8),w.Lb(),w.Mb(17,"ion-button",10),w.nc(18,"NEXT"),w.Lb(),w.Ib(19,"br"),w.Mb(20,"ion-button",11),w.Ub("click",function(){return s.cancel()}),w.nc(21," cancel "),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Lb()),2&o&&(w.xb(7),w.Zb("formGroup",s.newPasswordForm),w.xb(4),w.Zb("ngIf",!s.passwordsMatch),w.xb(1),w.Zb("ngIf",s.passwordsMatch),w.xb(3),w.Zb("ngIf",!s.passwordsMatch),w.xb(1),w.Zb("ngIf",s.passwordsMatch))},directives:[a.u,a.o,a.t,a.I,a.n,e.o,e.j,e.c,a.C,a.x,a.w,a.db,e.i,e.b,t.j,a.g,a.v],styles:["span[_ngcontent-%COMP%]{font-weight:900;font-size:1.2em;color:#005191}.badPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in .5s forwards;animation:password-icons 1s ease-in .5s forwards}.badPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in forwards;animation:password-icons 1s ease-in forwards}.goodPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in .5s forwards;animation:password-icons 1s ease-in .5s forwards}.goodPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in forwards;animation:password-icons 1s ease-in forwards}@-webkit-keyframes password-icons{0%{transform:translateX(50px)}to{transform:translateX(0);opacity:1}}@keyframes password-icons{0%{transform:translateX(50px)}to{transform:translateX(0);opacity:1}}"]}),o})()},{path:"confirm",loadChildren:()=>n.e(26).then(n.bind(null,"mDKk")).then(o=>o.ConfirmPageModule)}];let h=(()=>{class o{}return o.\u0275mod=w.Fb({type:o}),o.\u0275inj=w.Eb({factory:function(s){return new(s||o)},imports:[[r.k.forChild(p)],r.k]}),o})(),g=(()=>{class o{}return o.\u0275mod=w.Fb({type:o}),o.\u0275inj=w.Eb({factory:function(s){return new(s||o)},imports:[[t.b,e.d,e.l,a.T,h]]}),o})()}}]);