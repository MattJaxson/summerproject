(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{Wx8N:function(e,t,o){"use strict";o.r(t),o.d(t,"EnterCodePageModule",function(){return u});var n=o("ofXK"),i=o("3Pt+"),s=o("TEn/"),r=o("tyNb"),a=o("mrSG"),d=o("lGQG"),c=o("fXoL");const l=[{path:"",component:(()=>{class e{constructor(e,t,o,n,i){this.router=e,this.formBuilder=t,this.auth=o,this.activatedRoute=n,this.toast=i,this.disabled=!0,this.code="",this.userEmail=""}ngOnInit(){this.enterCodeForm=this.formBuilder.group({code:["",[i.n.required,i.n.maxLength(6)]]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),this.generateCode(6).then(e=>{console.log("Sent Email to "+this.userEmail),this.auth.sendEmailWithCode(e,this.userEmail)}),this.formOnChanges()}formOnChanges(){console.log(this.enterCodeForm),this.enterCodeForm.valueChanges.subscribe(e=>{console.log(e),e.code===this.code&&(console.log("codes match"),this.disabled=!1),e.code!==this.code&&(this.disabled=!0)})}generateCode(e){return Object(a.a)(this,void 0,void 0,function*(){let t="";const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=o.length;for(let i=0;i<e;i++)t+=o.charAt(Math.floor(Math.random()*n));return console.log("Generated Code: "+t),this.code=t})}sendNewCode(){return Object(a.a)(this,void 0,void 0,function*(){yield this.generateCode(6).then(e=>{console.log("Data: "+e),this.auth.sendEmailWithCode(e,this.userEmail)}),yield this.presentNewCodeToast(this.userEmail)})}thankYouPage(){this.enterCodeForm.controls.code.value!==this.code&&(this.presentErrorToast(),console.log("Codes do not match")),console.log("Thank you page"),this.auth.register(),this.router.navigate(["/personal-info/profile-picture/upload-resume/login-credentials/enter-code/:email/thank-you-page"])}presentCodesMatchedToast(){return Object(a.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"Codes Matched!",duration:2e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"})).present()})}presentErrorToast(){return Object(a.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"The codes do not match. Please try again.",duration:2e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"})).present()})}presentNewCodeToast(e){return Object(a.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"New Code sent to "+e,duration:2e3,cssClass:"success-toast",keyboardClose:!0,position:"top"})).present()})}cancel(){console.log("Sign up cancelled"),this.router.navigate([""])}}return e.\u0275fac=function(t){return new(t||e)(c.Hb(r.f),c.Hb(i.a),c.Hb(d.a),c.Hb(r.a),c.Hb(s.Z))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-enter-code"]],decls:19,vars:3,consts:[[2,"display","none"],[1,"ion-justify-content-center","header"],["size-lg","5","size-md","7","size-xs","11"],[1,"text-header"],[1,"ion-justify-content-center","ion-align-items-center"],[3,"formGroup","ngSubmit"],[1,"line-input"],["formControlName","code","type","email","placeholder","enter code"],[1,"send-new-code",3,"click"],["type","submit",1,"orange-button",3,"disabled"]],template:function(e,t){1&e&&(c.Ib(0,"ion-header",0),c.Mb(1,"ion-content"),c.Mb(2,"ion-grid"),c.Mb(3,"ion-row",1),c.Mb(4,"ion-col",2),c.Mb(5,"h6",3),c.mc(6,"Please enter the 6 character code that was sent to "),c.Mb(7,"span"),c.mc(8),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(9,"ion-row",4),c.Mb(10,"ion-col",2),c.Mb(11,"form",5),c.Ub("ngSubmit",function(){return t.thankYouPage()}),c.Mb(12,"ion-list",6),c.Mb(13,"ion-item"),c.Ib(14,"ion-input",7),c.Lb(),c.Mb(15,"ion-button",8),c.Ub("click",function(){return t.sendNewCode()}),c.mc(16," Send new code "),c.Lb(),c.Mb(17,"ion-button",9),c.mc(18," ENTER CODE "),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.xb(8),c.nc(t.userEmail),c.xb(3),c.Zb("formGroup",t.enterCodeForm),c.xb(6),c.Zb("disabled",t.disabled))},directives:[s.u,s.o,s.t,s.G,s.n,i.o,i.j,i.c,s.C,s.x,s.w,s.Y,i.i,i.b,s.g],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.cancel-button[_ngcontent-%COMP%]{margin:0 10px}.header[_ngcontent-%COMP%]{background:#edf3f8;height:200px}.text-header[_ngcontent-%COMP%]{font-size:1em;position:relative;top:50px;color:#666;z-index:999;text-align:justify}.orange-button[_ngcontent-%COMP%]{width:unset;display:block;margin:100px auto 200px;width:200px;-webkit-animation:none;animation:none;opacity:1}span[_ngcontent-%COMP%]{font-size:1.2em}.send-new-code[_ngcontent-%COMP%]{display:block;--background:none;color:#005191;--border-color:#005191;--border-width:1px;--border-style:solid;border:1px;width:150px;margin:50px auto;opacity:0;-webkit-animation:slide-from-right 1s ease-out 5s forwards;animation:slide-from-right 1s ease-out 5s forwards}span[_ngcontent-%COMP%]{font-weight:900;font-size:1em;color:#005191}@-webkit-keyframes slide-from-right{0%{transform:translateX(300px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slide-from-right{0%{transform:translateX(300px);opacity:0}to{transform:translateX(0);opacity:1}}"]}),e})()},{path:"thank-you-page",loadChildren:()=>o.e(31).then(o.bind(null,"oo7F")).then(e=>e.ThankYouPageModule)}];let h=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(l)],r.j]}),e})(),u=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[n.b,i.d,s.Q,i.l,h]]}),e})()}}]);