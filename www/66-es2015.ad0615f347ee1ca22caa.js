(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{e0Xu:function(e,t,o){"use strict";o.r(t),o.d(t,"UpdateResumePageModule",function(){return m});var n=o("ofXK"),i=o("3Pt+"),s=o("TEn/"),r=o("tyNb"),a=o("mrSG"),d=o("Aso2"),l=o("h8Q2"),b=o("fXoL");const c=[{path:"",component:(()=>{class e{constructor(e,t,o,n,i,s){this.resume=e,this.router=t,this.profile=o,this.alert=n,this.toast=i,this.loading=s,this.userProPicUrl=this.profile.resume.getValue(),this.awsPrefix=this.userProPicUrl.slice(-51)}ngOnInit(){this.profile.getUserDetails().subscribe(e=>{this.userEmail=e.email,console.log(this.userEmail)})}goBack(){this.router.navigate(["/home/profile/view-resume"])}getFormData(e){const t=document.querySelectorAll("form");t.forEach(e=>{"changeResumeForm"===e.id&&(console.log("Got Form: "+e),this.formData=new FormData(e),this.uploadedResume=!0)}),console.log(this.formData);let o=new FileReader;o.addEventListener("load",()=>{this.uploadedPhotoURL=o.result},!1),t&&o.readAsDataURL(e.target.files[0])}uploadResume(){document.querySelectorAll("form").forEach(e=>{"changeResumeForm"===e.id&&(console.log("Got Form: "+e),this.formData=new FormData(e),this.formData.append("oldResumeKey",this.awsPrefix),this.formData.append("email",this.userEmail))}),this.resume.changeResume(this.formData).subscribe(e=>Object(a.a)(this,void 0,void 0,function*(){console.log(e);let t=e.objectUrl;console.log(t),yield this.presentLoading(),yield this.profile.resume.next(t),yield this.presentToast(),yield this.router.navigate(["/home/profile/view-resume"])}))}presentToast(){return Object(a.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"Your Resume has been changed",animated:!0,cssClass:"updated-toast",duration:2e3})).present()})}presentLoading(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.loading.create({cssClass:"my-custom-class",message:"Updating Resume...",duration:1e3});yield e.present(),yield e.onDidDismiss(),console.log("Loading dismissed!")})}}return e.\u0275fac=function(t){return new(t||e)(b.Hb(l.a),b.Hb(r.f),b.Hb(d.a),b.Hb(s.a),b.Hb(s.eb),b.Hb(s.V))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-update-resume"]],decls:27,vars:1,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["slot","end"],[1,"back-button",3,"click"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","10","size-md","8","size-lg","6","size-xl","6",1,"ion-text-center"],[1,"text-header"],["size-xs","11","size-sm","10","size-md","8","size-lg","4",1,"ion-text-center"],["id","changeResumeForm",3,"ngSubmit"],["name","resume-update","placeholder","Upload Resume","type","file",3,"change"],["type","submit",1,"orange-button",3,"disabled"]],template:function(e,t){1&e&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-buttons",1),b.Ib(3,"ion-back-button"),b.Lb(),b.Mb(4,"ion-title"),b.nc(5,"Update Resume"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.Mb(7,"ion-grid"),b.Mb(8,"ion-row",2),b.Mb(9,"ion-col",3),b.Mb(10,"ion-toolbar",4),b.Mb(11,"ion-buttons",1),b.Mb(12,"h1"),b.nc(13,"Update Resume "),b.Lb(),b.Lb(),b.Mb(14,"ion-buttons",5),b.Mb(15,"ion-button",6),b.Ub("click",function(){return t.goBack()}),b.nc(16," Back "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(17,"ion-row",7),b.Mb(18,"ion-col",8),b.Mb(19,"h6",9),b.nc(20,"Please upload a resume from your phone<"),b.Lb(),b.Lb(),b.Lb(),b.Mb(21,"ion-row",7),b.Mb(22,"ion-col",10),b.Mb(23,"form",11),b.Ub("ngSubmit",function(){return t.uploadResume()}),b.Mb(24,"input",12),b.Ub("change",function(e){return t.getFormData(e)}),b.Lb(),b.Mb(25,"ion-button",13),b.nc(26,"Update "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&e&&(b.xb(25),b.Zb("disabled",!t.uploadedPhotoURL))},directives:[s.u,s.S,s.h,s.e,s.f,s.R,s.o,s.t,s.I,s.n,s.g,i.o,i.j,i.k],styles:[".desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid rgba(51,51,51,.14901960784313725)}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0d2e4d);height:24px;--border-radius:5px;width:100px;font-size:.5em;font-weight:600;display:block}.text-header[_ngcontent-%COMP%]{background:#e4ebf1}input[type=file][_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:600;border:1px solid #005191;background:linear-gradient(#0672c4,#005191);width:400px;height:50px;border-radius:5px;padding:20px 0 0 20px;text-align:center;cursor:pointer}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{visibility:hidden}"]}),e})()}];let u=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(c)],r.j]}),e})(),m=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[n.b,i.d,s.T,u]]}),e})()}}]);