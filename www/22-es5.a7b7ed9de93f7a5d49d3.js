!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22,64,65,66],{"723k":function(t,o,r){"use strict";r.r(o),r.d(o,"ProfilePageModule",function(){return P});var i,a,s,u=r("TEn/"),c=r("tyNb"),l=r("ofXK"),b=r("3Pt+"),p=r("mrSG"),h=r("lGQG"),f=r("Aso2"),d=r("fXoL"),m=r("e8h1"),g=((i=function(){function t(n,o,r,i,a,s,u){e(this,t),this.auth=n,this.profile=o,this.storage=r,this.router=i,this.toast=a,this.alert=s,this.loading=u,this.userObject={fullName:"",about:"",city:"",state:"",zip:"",gender:"",dob:"",school:"",grade:"",profilePicture:"",resume:"",email:""}}return n(t,[{key:"ngOnDestroy",value:function(){this.detailsSub.unsubscribe(),this.profile.fullName.unsubscribe(),this.profile.about.unsubscribe(),this.profile.city.unsubscribe(),this.profile.state.unsubscribe(),this.profile.zip.unsubscribe(),this.profile.gender.unsubscribe(),this.profile.school.unsubscribe(),this.profile.grade.unsubscribe(),this.profile.profilePicture.unsubscribe(),this.profile.email.unsubscribe(),this.profile.resume.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.detailsSub=this.profile.getUserDetails().subscribe(function(t){console.log(t);var n=t.about,o=t.city,r=t.state,i=t.zip,a=t.gender,s=t.dob,u=t.school,c=t.grade,l=t.profilePicture,b=t.resume,p=t.email;e.profile.fullName.next(t.fullName),e.profile.about.next(n),e.profile.city.next(o),e.profile.state.next(r),e.profile.zip.next(i),e.profile.gender.next(a),e.profile.dob.next(s),e.profile.school.next(u),e.profile.grade.next(c),e.profile.profilePicture.next(l),e.profile.resume.next(b),e.profile.email.next(p),e.profile.fullName.subscribe(function(t){e.userObject.fullName=t}),e.profile.about.subscribe(function(t){e.userObject.about=t}),e.profile.city.subscribe(function(t){e.userObject.city=t}),e.profile.state.subscribe(function(t){e.userObject.state=t}),e.profile.zip.subscribe(function(t){e.userObject.zip=t}),e.profile.gender.subscribe(function(t){e.userObject.gender=t}),e.profile.dob.subscribe(function(t){e.userObject.dob=t}),e.profile.school.subscribe(function(t){e.userObject.school=t}),e.profile.grade.subscribe(function(t){e.userObject.grade=t}),e.profile.profilePicture.subscribe(function(t){e.userObject.profilePicture=t}),e.profile.resume.subscribe(function(t){e.userObject.resume=t}),e.profile.email.subscribe(function(t){e.userObject.email=t})})}},{key:"clearToken",value:function(){this.storage.remove("access_token"),this.toast.create({message:"JWT removed",duration:3e3}).then(function(e){return e.present()})}},{key:"editPage",value:function(){this.router.navigate(["/home/profile/edit-profile-page"])}},{key:"changeProfilePicture",value:function(){console.log("Navigating to Change Profile Page"),this.router.navigate(["/home/profile/change-profile-picture",this.userObject.profilePicture])}},{key:"updateResume",value:function(){console.log("Navigating to Change Resume Page"),this.router.navigate(["/home/profile/view-resume"])}},{key:"confirmLogout",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.toast.create({message:"User has been logged out",duration:3e3}),e.next=3,this.loading.create({message:"Logging out...",duration:1e3});case 3:return n=e.sent,e.next=6,this.alert.create({header:"Logout",cssClass:"alert",message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",handler:function(){console.log("Canceling logout"),r.profile.fullName.next(""),r.profile.about.next(""),r.profile.city.next(""),r.profile.state.next(""),r.profile.zip.next(""),r.profile.gender.next(""),r.profile.dob.next(""),r.profile.school.next(""),r.profile.grade.next(""),r.profile.profilePicture.next(""),r.profile.resume.next(""),r.profile.email.next(""),r.router.navigate(["/home/profile"])}},{text:"Logout",handler:function(){console.log("Logging out"),r.auth.logout(),n.present(),t.then(function(e){return e.present()})}}]});case 6:return o=e.sent,e.next=9,o.present();case 9:case"end":return e.stop()}},e,this)}))}}]),t}()).\u0275fac=function(e){return new(e||i)(d.Hb(h.a),d.Hb(f.a),d.Hb(m.b),d.Hb(c.f),d.Hb(u.Z),d.Hb(u.a),d.Hb(u.S))},i.\u0275cmp=d.Bb({type:i,selectors:[["app-profile"]],decls:83,vars:13,consts:[[2,"display","none"],[1,"ion-text-center","ion-hide-md-up",2,"--ion-grid-padding","0px"],[1,"header-half","ion-justify-content-center"],["size","12"],["id","profile-picture","alt","User Profile Picture",3,"src"],["id","change-pro-pic-button",3,"click"],["size","6"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center"],["id","profile-info","size","9"],[2,"text-transform","capitalize"],[1,"logout-button",3,"click"],[1,"ion-hide-sm-down"],[2,"margin-top","5%"],["size","4"],["push","2","size","6"],[1,"blue-button",2,"display","inline-block","width","200px","margin-right","50px","animation-delay","2.5s",3,"click"],[1,"blue-button",2,"display","inline-block","width","200px","animation-delay","3s",3,"click"],["id","profile-info","push","1","size","10"],[2,"margin-bottom","10px"],[2,"margin-top","30px"]],template:function(e,t){1&e&&(d.Ib(0,"ion-header",0),d.Mb(1,"ion-content"),d.Mb(2,"ion-grid",1),d.Mb(3,"ion-row",2),d.Mb(4,"ion-col",3),d.Mb(5,"div"),d.Ib(6,"img",4),d.Mb(7,"button",5),d.Ub("click",function(){return t.changeProfilePicture()}),d.mc(8," + "),d.Lb(),d.Lb(),d.Lb(),d.Mb(9,"ion-col",6),d.Mb(10,"ion-button",7),d.Ub("click",function(){return t.editPage()}),d.mc(11," Edit Profile "),d.Lb(),d.Lb(),d.Mb(12,"ion-col",6),d.Mb(13,"ion-button",7),d.Ub("click",function(){return t.updateResume()}),d.mc(14," View Resume "),d.Lb(),d.Lb(),d.Lb(),d.Mb(15,"ion-row",8),d.Mb(16,"ion-col",9),d.Mb(17,"p"),d.Mb(18,"span"),d.mc(19,"Name:"),d.Lb(),d.mc(20),d.Lb(),d.Mb(21,"p"),d.Mb(22,"span"),d.mc(23,"Email:"),d.Lb(),d.mc(24),d.Lb(),d.Mb(25,"p",10),d.Mb(26,"span"),d.mc(27,"Gender:"),d.Lb(),d.mc(28),d.Lb(),d.Mb(29,"p"),d.Mb(30,"span"),d.mc(31,"School:"),d.Lb(),d.mc(32),d.Lb(),d.Mb(33,"p"),d.Mb(34,"span"),d.mc(35,"Grade:"),d.Lb(),d.mc(36),d.Lb(),d.Lb(),d.Lb(),d.Mb(37,"ion-row",8),d.Mb(38,"ion-col",6),d.Mb(39,"ion-button",11),d.Ub("click",function(){return t.confirmLogout()}),d.mc(40," Logout "),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Mb(41,"ion-grid",12),d.Mb(42,"ion-row",13),d.Mb(43,"ion-col",14),d.Mb(44,"div"),d.Ib(45,"img",4),d.Mb(46,"button",5),d.Ub("click",function(){return t.changeProfilePicture()}),d.mc(47," + "),d.Lb(),d.Lb(),d.Lb(),d.Mb(48,"ion-col",15),d.Mb(49,"ion-button",16),d.Ub("click",function(){return t.editPage()}),d.mc(50," Edit Profile "),d.Lb(),d.Mb(51,"ion-button",17),d.Ub("click",function(){return t.updateResume()}),d.mc(52," View Resume "),d.Lb(),d.Lb(),d.Lb(),d.Mb(53,"ion-row"),d.Mb(54,"ion-col",18),d.Mb(55,"h4"),d.mc(56,"Profile Information: "),d.Lb(),d.Ib(57,"br"),d.Mb(58,"p"),d.Mb(59,"span",19),d.mc(60,"About: "),d.Lb(),d.Ib(61,"br"),d.mc(62),d.Lb(),d.Mb(63,"p"),d.Mb(64,"span",20),d.mc(65,"Name:"),d.Lb(),d.mc(66),d.Lb(),d.Mb(67,"p"),d.Mb(68,"span"),d.mc(69,"Email:"),d.Lb(),d.mc(70),d.Lb(),d.Mb(71,"p",10),d.Mb(72,"span"),d.mc(73,"Gender:"),d.Lb(),d.mc(74),d.Lb(),d.Mb(75,"p"),d.Mb(76,"span"),d.mc(77,"School:"),d.Lb(),d.mc(78),d.Lb(),d.Mb(79,"p"),d.Mb(80,"span"),d.mc(81,"Grade:"),d.Lb(),d.mc(82),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&e&&(d.xb(6),d.ac("src",t.userObject.profilePicture,d.ic),d.xb(14),d.oc(" ",t.userObject.fullName,""),d.xb(4),d.oc(" ",t.userObject.email,""),d.xb(4),d.oc(" ",t.userObject.gender,""),d.xb(4),d.oc(" ",t.userObject.school,""),d.xb(4),d.oc(" ",t.userObject.grade,""),d.xb(9),d.ac("src",t.userObject.profilePicture,d.ic),d.xb(17),d.oc(" ",t.userObject.about,""),d.xb(4),d.oc(" ",t.userObject.fullName,""),d.xb(4),d.oc(" ",t.userObject.email,""),d.xb(4),d.oc(" ",t.userObject.gender,""),d.xb(4),d.oc(" ",t.userObject.school,""),d.xb(4),d.oc(" ",t.userObject.grade,""))},directives:[u.u,u.o,u.t,u.G,u.n,u.g],styles:["ion-header[_ngcontent-%COMP%]{display:none}ion-header[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#fff}ion-toolbar[_ngcontent-%COMP%]{--color:#0055a5}ion-alert[_ngcontent-%COMP%]{--background:#e4405f}#profile-info[_ngcontent-%COMP%]{height:auto;margin-top:20px;text-align:left;padding:25px}h4[_ngcontent-%COMP%]{color:#000;font-size:1.9em;-webkit-animation:header-slide-right .5s cubic-bezier(.175,.885,.32,1.275) 1s forwards;animation:header-slide-right .5s cubic-bezier(.175,.885,.32,1.275) 1s forwards}h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{opacity:0}p[_ngcontent-%COMP%]{font-size:1em;transition:.5s;-webkit-animation:text-slide-up .5s cubic-bezier(.175,.885,.32,1.275) 1.5s forwards;animation:text-slide-up .5s cubic-bezier(.175,.885,.32,1.275) 1.5s forwards}.header-half[_ngcontent-%COMP%]{height:auto;background:#edf3f8;padding:50px 0}.header-half[_ngcontent-%COMP%]   .blue-button[_ngcontent-%COMP%]{--background:#0055a5;opacity:0;-webkit-animation:buttons-slide-right .5s cubic-bezier(.175,.885,.32,1.275) .9s forwards;animation:buttons-slide-right .5s cubic-bezier(.175,.885,.32,1.275) .9s forwards}span[_ngcontent-%COMP%]{color:#0055a5;font-weight:600;width:120px;display:inline-block}#profile-picture[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:100px;margin:0 auto;display:block;opacity:0;border:2px solid #0055a5;-webkit-animation:pic-slide-right .5s cubic-bezier(.175,.885,.32,1.275) .5s forwards;animation:pic-slide-right .5s cubic-bezier(.175,.885,.32,1.275) .5s forwards}#change-pro-pic-button[_ngcontent-%COMP%]{width:40px;height:40px;background:#faa71b;color:#fff;padding:0;font-size:1.5em;font-weight:400;border-radius:100px;display:inline-block;position:relative;top:-20px;left:25px;opacity:0;-webkit-animation:pic-slide-right .5s cubic-bezier(.175,.885,.32,1.275) .75s forwards;animation:pic-slide-right .5s cubic-bezier(.175,.885,.32,1.275) .75s forwards}.back-button[_ngcontent-%COMP%]{opacity:0;-webkit-animation:buttons-slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:buttons-slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards}#edit-profile-button[_ngcontent-%COMP%]{--background:#d3d3d3;--color:#333;font-size:.6em}.logout-button[_ngcontent-%COMP%]{color:#fff;--background:#e4405f;--background-hover:#dd3252;height:45px;width:120px;font-weight:600;box-shadow:1px 1px 10px rgba(0,0,0,.1);margin-bottom:52px auto;-webkit-animation:buttons-slide-right .5s cubic-bezier(.175,.885,.32,1.275) 1.3s forwards;animation:buttons-slide-right .5s cubic-bezier(.175,.885,.32,1.275) 1.3s forwards}@-webkit-keyframes text-slide-up{0%{transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes text-slide-up{0%{transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes pic-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes pic-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes header-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes header-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes buttons-slide-up{0%{transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes buttons-slide-up{0%{transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes buttons-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes buttons-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@media screen and (max-width:992px){p[_ngcontent-%COMP%]{font-size:1em}span[_ngcontent-%COMP%]{color:#0055a5;font-weight:600;width:64px;display:inline-block;text-align:left;margin-right:10px}}@media screen and (min-width:768px){#change-pro-pic-button[_ngcontent-%COMP%]{position:absolute;top:75px;left:188px}}"]}),i),w=r("zAgk"),x=[{path:"",component:g},{path:"change-email",loadChildren:function(){return r.e(50).then(r.bind(null,"SmxB")).then(function(e){return e.ChangeEmailPageModule})}},{path:"change-password",loadChildren:function(){return r.e(52).then(r.bind(null,"2uJy")).then(function(e){return e.ChangePasswordPageModule})}},{path:"change-school/:school/:grade",loadChildren:function(){return r.e(57).then(r.bind(null,"UWje")).then(function(e){return e.ChangeSchoolPageModule})}},{path:"change-profile-picture/:profilePicture",loadChildren:function(){return Promise.all([r.e(4),r.e(0),r.e(54)]).then(r.bind(null,"aGP+")).then(function(e){return e.ChangeProfilePicturePageModule})}},{path:"resume",loadChildren:function(){return r.e(62).then(r.bind(null,"wgOD")).then(function(e){return e.ResumePageModule})}},{path:"logout",loadChildren:function(){return r.e(60).then(r.bind(null,"GWPF")).then(function(e){return e.LogoutPageModule})}},{path:"view-resume",loadChildren:function(){return r.e(0).then(r.bind(null,"bUUK")).then(function(e){return e.ViewResumePageModule})}},{path:"update-resume",loadChildren:function(){return Promise.all([r.e(0),r.e(63)]).then(r.bind(null,"e0Xu")).then(function(e){return e.UpdateResumePageModule})}},{path:"confirm-photo",loadChildren:function(){return r.e(55).then(r.bind(null,"RA/u")).then(function(e){return e.ConfirmPhotoPageModule})}},{path:"change-about/:about",loadChildren:function(){return r.e(9).then(r.bind(null,"s+QV")).then(function(e){return e.ChangeAboutPageModule})}},{path:"edit-profile-page",loadChildren:function(){return r.e(59).then(r.bind(null,"J2g1")).then(function(e){return e.EditProfilePagePageModule})}},{path:"change-about",loadChildren:function(){return r.e(9).then(r.bind(null,"s+QV")).then(function(e){return e.ChangeAboutPageModule})}}],y=((s=function t(){e(this,t)}).\u0275mod=d.Fb({type:s}),s.\u0275inj=d.Eb({factory:function(e){return new(e||s)},imports:[[c.j.forChild(x)],c.j]}),s),P=((a=function t(){e(this,t)}).\u0275mod=d.Fb({type:a}),a.\u0275inj=d.Eb({factory:function(e){return new(e||a)},imports:[[u.Q,l.b,b.d,y,w.a,c.j.forChild([{path:"",component:g}])]]}),a)},Aso2:function(t,o,r){"use strict";r.d(o,"a",function(){return m});var i=r("mrSG"),a=r("NuaS"),s=r("lGQG"),u=r("2Vo4"),c=r("JIr8"),l=r("AytR"),b=r("fXoL"),p=r("tk/3"),h=r("e8h1"),f=r("TEn/"),d=r("tyNb"),m=function(){var t=function(){function t(n,o,r,i,a,s,c){e(this,t),this.http=n,this.storage=o,this.alertController=r,this.helper=i,this.auth=a,this.router=s,this.toastController=c,this.BACKEND_URL=l.a.url,this.activeEmail="",this.fullName=new u.a(""),this.about=new u.a(""),this.city=new u.a(""),this.state=new u.a(""),this.zip=new u.a(""),this.gender=new u.a(""),this.dob=new u.a(""),this.school=new u.a(""),this.grade=new u.a(""),this.profilePicture=new u.a(""),this.resume=new u.a(""),this.email=new u.a(""),this.activeEmail=this.auth.user.email}return n(t,[{key:"getAllUsers",value:function(){return this.http.get(this.BACKEND_URL+"/api/home/user")}},{key:"getUserDetails",value:function(){return this.http.post(this.BACKEND_URL+"/api/home/user",{email:this.activeEmail})}},{key:"getTheirDetails",value:function(e){return this.http.post(this.BACKEND_URL+"/api/home/user/their-details",{email:e})}},{key:"changeEmail",value:function(e,t,n){var o=this;return this.http.post(this.BACKEND_URL+"/api/home/user/change-email",{oldEmail:this.activeEmail,email:t,password:n}).pipe(Object(c.a)(function(e){throw o.presentFailToast(o.activeEmail),new Error(e)})).subscribe(function(e){if(!0!==e)return o.presentFailToast(o.activeEmail),console.log("Passwords dont match");o.email.next(t),o.activeEmail=t,o.router.navigate(["/home/profile"]),o.presentSuccessToast()})}},{key:"presentSuccessToast",value:function(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(e){return e.present()})}},{key:"presentFailToast",value:function(e){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of "+e,duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(function(e){return e.present()})}},{key:"changePassword",value:function(e,t,n,o){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var i=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-password",{oldPassword:t,email:e,newPassword:n,reTypeNewPassword:o}).subscribe(function(e){!0===e?(console.log("TRUE"),i.router.navigate([""]),i.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(e){return e.present()})):console.log("Passwords dont match!")});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}))}},{key:"changeAbout",value:function(e,t,n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-about",{email:e,newAbout:t,passsword:n}).subscribe();case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},o,this)}))}},{key:"changeSchool",value:function(e,t,n,o){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var i=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:e,newSchool:t,newGrade:n,password:o}).subscribe(function(e){if(!0!==e)return i.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(function(e){return e.present()}),console.log("Passwords dont match");i.school.next(t),i.grade.next(n),i.router.navigate(["/home/profile"]),i.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(e){return e.present()})});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}))}},{key:"changeProfilePicture",value:function(e,t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",{imageForm:e,oldPhotoKey:t}).subscribe());case 1:case"end":return n.stop()}},n,this)}))}},{key:"changeResume",value:function(e,t,n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var r=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:e,newResume:t,password:n}).subscribe(function(e){if(!0!==e)return console.log("Passwords dont match");console.log("Changing Resume..."),r.resume.next(t),r.router.navigate(["/home/user/change-school/:school/:grade/confirm"])});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},o,this)}))}},{key:"delete",value:function(){console.log("Deleted User")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b.Qb(p.b),b.Qb(h.b),b.Qb(f.a),b.Qb(a.b),b.Qb(s.a),b.Qb(d.f),b.Qb(f.Z))},t.\u0275prov=b.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();