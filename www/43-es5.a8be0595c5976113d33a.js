!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{E2mU:function(n,o,i){"use strict";i.r(o),i.d(o,"AddPostPageModule",function(){return w});var a=i("ofXK"),r=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),l=i("mrSG"),h=i("ENZJ"),u=i("Aso2"),b=i("fXoL"),g=["postChars"],d=["titleChars"],p=["hashtagRef"];function f(t,e){if(1&t){var n=b.Nb();b.Mb(0,"div",25),b.Mb(1,"p"),b.nc(2),b.Lb(),b.Mb(3,"img",26),b.Ub("click",function(){b.gc(n);var t=e.index;return b.Wb().deleteTag(t)}),b.Lb(),b.Lb()}if(2&t){var o=e.$implicit;b.xb(2),b.oc(o)}}var m,x,M,v=[{path:"",component:(m=function(){function n(e,o,i,a,r){t(this,n),this.router=e,this.loading=o,this.posts=i,this.profile=a,this.formBuilder=r,this.hashtags=[],this.validationMessages={}}var o,i,a;return o=n,(i=[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){var t=this;this.textPostForm=this.formBuilder.group({title:["",r.n.required],hashtags:["",r.n.required],post:["",r.n.required]}),this.profile.getUserDetails().subscribe(function(e){console.log(e),t.creatorEmail=e.email,t.creatorName=e.fullName,t.creatorProfilePicture=e.profilePicture})}},{key:"back",value:function(){this.router.navigate(["/home/posts"])}},{key:"post",value:function(t,e,n,o,i,a){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.presentLoading();case 2:return r.next=4,this.posts.addPost(t,e,n,o,i,a).subscribe(function(t){console.log(t)});case 4:return r.next=6,this.router.navigate(["home/posts/add-post/verification"]);case 6:case"end":return r.stop()}},r,this)}))}},{key:"presentLoading",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loading.create({message:"Sending post to be Verified...",spinner:"bubbles",duration:2e3});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.next=7,e.onDidDismiss();case 7:console.log("Loading dismissed!");case 8:case"end":return t.stop()}},t,this)}))}},{key:"addHashTag",value:function(t){console.log(t);var e=this.textPostForm.get("hashtags");"Enter"===t.code&&(console.log("ENTER button pressed."),console.log("Value: "),console.log(e.value),console.log("Hashtags: "),this.hashtags.push(e.value),console.log(this.hashtags))}},{key:"deleteTag",value:function(t){console.log(t);var e=this.hashtags.indexOf(t);console.log(e),(e=-1)&&(this.hashtags.splice(e,1),console.log(this.hashtags))}}])&&e(o.prototype,i),a&&e(o,a),n}(),m.\u0275fac=function(t){return new(t||m)(b.Hb(c.f),b.Hb(s.V),b.Hb(h.a),b.Hb(u.a),b.Hb(r.a))},m.\u0275cmp=b.Bb({type:m,selectors:[["app-add-post"]],viewQuery:function(t,e){var n;1&t&&(b.tc(g,!0),b.tc(d,!0),b.tc(p,!0)),2&t&&(b.ec(n=b.Vb())&&(e.postChars=n.first),b.ec(n=b.Vb())&&(e.titleChars=n.first),b.ec(n=b.Vb())&&(e.hashtagRef=n.first))},decls:51,vars:3,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"header","ion-hide-md-down","ion-justify-content-center",2,"margin","4% 0% 1% 0%"],["size-xs","11","size-sm","10","size-md","9","size-lg","6","size-xl","6"],[1,"blue-button-small","ion-float-right",3,"click"],[1,"ion-justify-content-center",2,"margin-top","1%"],["size-xs","11","size-sm","10","size-md","9","size-lg","7","size-xl","6",1,"ion-text-center"],[1,"message","ion-hide-md-up"],[1,"message","ion-hide-md-down"],[2,"border-top","#9993 solid 2px","margin-bottom","50px"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[3,"formGroup","ngSubmit"],[1,"line-input"],["autocapitalize","on","required","","inputmode","text","maxlength","100","formControlName","title","placeholder","Title"],["titleChars",""],["class","hashtag",4,"ngFor","ngForOf"],["autocapitalize","on","required","","inputmode","text","maxlength","100","clearInput","true","formControlName","hashtags","placeholder","Type tag then press Enter",3,"keydown"],["hashtagRef",""],[2,"height","auto"],["rows","10","auto-grow","true","spellcheck","true","maxlength","1000","formControlName","post","placeholder","What do you have to say?",3,"keydown.control.enter"],["postChars",""],[1,"char-limit"],[1,"ion-text-center"],["type","submit",1,"orange-button"],[1,"hashtag"],["src","../../../../assets/icon/close-icon.svg","alt","","srcset","",3,"click"]],template:function(t,e){if(1&t&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-buttons",1),b.Ib(3,"ion-back-button"),b.Lb(),b.Mb(4,"ion-title"),b.nc(5,"Add Post"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.Mb(7,"ion-grid"),b.Mb(8,"ion-row",2),b.Mb(9,"ion-col",3),b.Mb(10,"h1"),b.nc(11,"New Post"),b.Lb(),b.Mb(12,"ion-button",4),b.Ub("click",function(){return e.back()}),b.nc(13," Back "),b.Lb(),b.Lb(),b.Lb(),b.Mb(14,"ion-row",5),b.Mb(15,"ion-col",6),b.Mb(16,"p",7),b.nc(17,"Please keep your content clean. In order to maintain a high standard of content, each post will have to be verified before they are added to the Posts feed. Happy posting, and be inspired!"),b.Lb(),b.Mb(18,"p",8),b.nc(19,"Please keep your content clean. In order to maintain a high standard of content, each post will have to be verified before they are added to the Posts feed. Happy posting, and be inspired!"),b.Lb(),b.Ib(20,"hr",9),b.Lb(),b.Lb(),b.Mb(21,"ion-row",10),b.Mb(22,"ion-col",11),b.Mb(23,"form",12),b.Ub("ngSubmit",function(){return e.textPostForm.value.post.length>0?e.post(e.creatorName,e.creatorEmail,e.creatorProfilePicture,e.hashtags,e.textPostForm.controls.post.value,e.textPostForm.controls.title.value):null}),b.Mb(24,"ion-list",13),b.Mb(25,"ion-label"),b.nc(26,"Title"),b.Lb(),b.Mb(27,"ion-item"),b.Ib(28,"ion-input",14,15),b.Lb(),b.Mb(30,"ion-label"),b.nc(31,"Hashtags"),b.Lb(),b.Mb(32,"h5"),b.nc(33,"Please seperate each tag with a comma ( , ). You can add up to 5 hashtags."),b.Lb(),b.mc(34,f,4,1,"div",16),b.Mb(35,"ion-item"),b.Mb(36,"ion-input",17,18),b.Ub("keydown",function(t){return e.addHashTag(t)}),b.nc(38,"#"),b.Lb(),b.Lb(),b.Mb(39,"ion-label"),b.nc(40,"Post"),b.Lb(),b.Mb(41,"h5"),b.nc(42,"Keep your content clean. There is a filter for profane language. Administrative action will be taken against posts with too much profanity."),b.Lb(),b.Mb(43,"ion-item",19),b.Mb(44,"ion-textarea",20,21),b.Ub("keydown.control.enter",function(){return e.textPostForm.value.textPost.length>0?e.post(e.hashtags,e.creatorName,e.creatorEmail,e.creatorProfilePicture,e.textPostForm.value.textPost,e.textPostForm.value.title):null}),b.Lb(),b.Lb(),b.Mb(46,"p",22),b.nc(47),b.Lb(),b.Mb(48,"div",23),b.Mb(49,"ion-button",24),b.nc(50," Submit "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&t){var n=b.fc(45);b.xb(23),b.Zb("formGroup",e.textPostForm),b.xb(11),b.Zb("ngForOf",e.hashtags),b.xb(13),b.pc("",n.value.length," / 3000 character limit")}},directives:[s.u,s.S,s.h,s.e,s.f,s.R,s.o,s.t,s.I,s.n,s.g,r.o,r.j,r.c,s.C,s.B,s.x,s.w,s.db,r.m,r.e,r.i,r.b,a.i,s.Q],styles:[".blue-button-small[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;height:24px;width:100px;font-size:.5em;font-weight:600;display:block}h1[_ngcontent-%COMP%]{font-size:3em;color:#46c9a3;display:inline}h1[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{font-weight:600}ion-label[_ngcontent-%COMP%]{font-size:2em;color:#0055a5}h5[_ngcontent-%COMP%]{color:#222;margin-bottom:25px}.hashtag[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-size:1em}.hashtag[_ngcontent-%COMP%]{background:#e1f0fc;width:300px;padding:.1px 10px;margin-bottom:14px;border-radius:5px;color:#005191}.hashtag[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .hashtag[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block}.hashtag[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;float:right;position:relative;top:14px}.line-input[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{margin-bottom:88px}.char-limit[_ngcontent-%COMP%]{position:relative;top:-35px;text-align:right}ion-title[_ngcontent-%COMP%]{margin:0}.message[_ngcontent-%COMP%]{font-size:1.05em;text-align:left;font-weight:500;line-height:1.5em;color:#555}.char-limit[_ngcontent-%COMP%]{color:#e4405f;margin-bottom:50px}@media only screen and (max-width:576px){.text-input[_ngcontent-%COMP%]{box-shadow:none;background:#edf3f8}}.item-interactive[_ngcontent-%COMP%]{--border-width:0px;--show-full-highlight:0}h6[_ngcontent-%COMP%]{padding:15px;line-height:35px;font-weight:400}"]}),m)},{path:"verification",loadChildren:function(){return i.e(44).then(i.bind(null,"Wtw0")).then(function(t){return t.VerificationPageModule})}}],P=((M=function e(){t(this,e)}).\u0275mod=b.Fb({type:M}),M.\u0275inj=b.Eb({factory:function(t){return new(t||M)},imports:[[c.j.forChild(v)],c.j]}),M),w=((x=function e(){t(this,e)}).\u0275mod=b.Fb({type:x}),x.\u0275inj=b.Eb({factory:function(t){return new(t||x)},imports:[[a.b,r.d,r.d,r.l,s.T,P]]}),x)}}])}();