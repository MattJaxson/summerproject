!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{Wx8N:function(n,o,r){"use strict";r.r(o),r.d(o,"EnterCodePageModule",function(){return g});var i,a,s,c=r("ofXK"),u=r("3Pt+"),d=r("TEn/"),l=r("tyNb"),h=r("mrSG"),b=r("lGQG"),p=r("fXoL"),m=[{path:"",component:(i=function(){function n(t,o,r,i,a){e(this,n),this.router=t,this.formBuilder=o,this.auth=r,this.activatedRoute=i,this.toast=a,this.disabled=!0,this.code="",this.userEmail=""}var o,r,i;return o=n,(r=[{key:"ngOnInit",value:function(){var e=this;this.enterCodeForm=this.formBuilder.group({code:["",[u.n.required,u.n.maxLength(6)]]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),this.generateCode(6).then(function(t){console.log("Sent Email to "+e.userEmail),e.auth.sendEmailWithCode(t,e.userEmail)}),this.formOnChanges()}},{key:"formOnChanges",value:function(){var e=this;console.log(this.enterCodeForm),this.enterCodeForm.valueChanges.subscribe(function(t){console.log(t),t.code===e.code&&(console.log("codes match"),e.disabled=!1),t.code!==e.code&&(e.disabled=!0)})}},{key:"generateCode",value:function(e){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n="",r=(o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length,i=0;i<e;i++)n+=o.charAt(Math.floor(Math.random()*r));return t.abrupt("return",(console.log("Generated Code: "+n),this.code=n));case 4:case"end":return t.stop()}},t,this)}))}},{key:"sendNewCode",value:function(){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.generateCode(6).then(function(e){console.log("Data: "+e),t.auth.sendEmailWithCode(e,t.userEmail)});case 2:return e.next=4,this.presentNewCodeToast(this.userEmail);case 4:case"end":return e.stop()}},e,this)}))}},{key:"thankYouPage",value:function(){this.enterCodeForm.controls.code.value!==this.code&&(this.presentErrorToast(),console.log("Codes do not match")),console.log("Thank you page"),this.auth.register(),this.router.navigate(["/personal-info/profile-picture/upload-resume/login-credentials/enter-code/:email/thank-you-page"])}},{key:"presentErrorToast",value:function(){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toast.create({message:"The codes do not match. Please try again.",duration:2e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"presentNewCodeToast",value:function(e){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({message:"New Code sent to "+e,duration:2e3,cssClass:"success-toast",keyboardClose:!0,position:"top"});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"cancel",value:function(){console.log("Sign up cancelled"),this.router.navigate([""])}}])&&t(o.prototype,r),i&&t(o,i),n}(),i.\u0275fac=function(e){return new(e||i)(p.Hb(l.f),p.Hb(u.a),p.Hb(b.a),p.Hb(l.a),p.Hb(d.Z))},i.\u0275cmp=p.Bb({type:i,selectors:[["app-enter-code"]],decls:19,vars:3,consts:[[2,"display","none"],[1,"ion-justify-content-center","header"],["size-lg","5","size-md","7","size-xs","11"],[1,"text-header"],[1,"ion-justify-content-center","ion-align-items-center"],[3,"formGroup","ngSubmit"],[1,"line-input"],["formControlName","code","type","email","placeholder","enter code"],[1,"send-new-code",3,"click"],["type","submit",1,"orange-button",3,"disabled"]],template:function(e,t){1&e&&(p.Ib(0,"ion-header",0),p.Mb(1,"ion-content"),p.Mb(2,"ion-grid"),p.Mb(3,"ion-row",1),p.Mb(4,"ion-col",2),p.Mb(5,"h6",3),p.mc(6,"Please enter the 6 character code that was sent to "),p.Mb(7,"span"),p.mc(8),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Mb(9,"ion-row",4),p.Mb(10,"ion-col",2),p.Mb(11,"form",5),p.Ub("ngSubmit",function(){return t.thankYouPage()}),p.Mb(12,"ion-list",6),p.Mb(13,"ion-item"),p.Ib(14,"ion-input",7),p.Lb(),p.Mb(15,"ion-button",8),p.Ub("click",function(){return t.sendNewCode()}),p.mc(16," Send new code "),p.Lb(),p.Mb(17,"ion-button",9),p.mc(18," ENTER CODE "),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Lb()),2&e&&(p.xb(8),p.nc(t.userEmail),p.xb(3),p.Zb("formGroup",t.enterCodeForm),p.xb(6),p.Zb("disabled",t.disabled))},directives:[d.u,d.o,d.t,d.G,d.n,u.o,u.j,u.c,d.C,d.x,d.w,d.Y,u.i,u.b,d.g],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.cancel-button[_ngcontent-%COMP%]{margin:0 10px}.header[_ngcontent-%COMP%]{background:#edf3f8;height:200px}.text-header[_ngcontent-%COMP%]{font-size:1em;position:relative;top:50px;color:#666;z-index:999;text-align:justify}.orange-button[_ngcontent-%COMP%]{width:unset;display:block;margin:100px auto 200px;width:200px;-webkit-animation:none;animation:none;opacity:1}span[_ngcontent-%COMP%]{font-size:1.2em}.send-new-code[_ngcontent-%COMP%]{display:block;--background:none;color:#005191;--border-color:#005191;--border-width:1px;--border-style:solid;border:1px;width:150px;margin:50px auto;opacity:0;-webkit-animation:slide-from-right 1s ease-out 5s forwards;animation:slide-from-right 1s ease-out 5s forwards}span[_ngcontent-%COMP%]{font-weight:900;font-size:1em;color:#005191}@-webkit-keyframes slide-from-right{0%{transform:translateX(300px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slide-from-right{0%{transform:translateX(300px);opacity:0}to{transform:translateX(0);opacity:1}}"]}),i)},{path:"thank-you-page",loadChildren:function(){return r.e(31).then(r.bind(null,"oo7F")).then(function(e){return e.ThankYouPageModule})}}],f=((s=function t(){e(this,t)}).\u0275mod=p.Fb({type:s}),s.\u0275inj=p.Eb({factory:function(e){return new(e||s)},imports:[[l.j.forChild(m)],l.j]}),s),g=((a=function t(){e(this,t)}).\u0275mod=p.Fb({type:a}),a.\u0275inj=p.Eb({factory:function(e){return new(e||a)},imports:[[c.b,u.d,d.Q,u.l,f]]}),a)}}])}();