function _defineProperties(n,l){for(var e=0;e<l.length;e++){var s=l[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function _createClass(n,l,e){return l&&_defineProperties(n.prototype,l),e&&_defineProperties(n,e),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{wQpE:function(n,l,e){"use strict";e.r(l);var s=e("8Y7J"),u=function n(){_classCallCheck(this,n)},o=e("pMnS"),a=e("oBZk"),t=e("ZZ/e"),r=e("s7LF"),i=e("SVse"),c=e("mrSG"),b=e("lGQG"),d=e("AytR"),p=function(){function n(l,e,s,u,o){_classCallCheck(this,n),this.formBuilder=l,this.router=e,this.auth=s,this.activatedRoute=u,this.toast=o,this.BACKEND_URL=d.a.url,this.passwordsMatch=!1,this.validationMessasges={password:[{type:"password",message:"Please enter a valid password."}]}}return _createClass(n,[{key:"ngOnInit",value:function(){this.newPasswordForm=this.formBuilder.group({newPassword:["",r.p.required],reTypeNewPassword:["",r.p.required]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),console.log("Email: "+this.userEmail),this.formOnChanges()}},{key:"formOnChanges",value:function(){var n=this;console.log(this.newPasswordForm),this.newPasswordForm.valueChanges.subscribe((function(l){console.log(l),n.newPasswordForm.statusChanges.subscribe((function(l){console.log(l),"VALID"===l&&(console.log("you did it bruh"),n.passwordsMatch=!0)})),n.newPasswordForm.controls.newPassword.value===n.newPasswordForm.controls.reTypePassword.value&&n.newPasswordForm.controls.newPassword.touched&&console.log("Passwords Match"),n.newPasswordForm.controls.newPassword.value!==n.newPasswordForm.controls.reTypePassword.value&&(console.log("Passwords Match"),n.passwordsMatch=!1)}))}},{key:"goToConfirmPage",value:function(){return c.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=this.userEmail,(e=this.newPasswordForm.value.newPassword)===this.newPasswordForm.value.reTypeNewPassword){n.next=4;break}return n.abrupt("return",(this.presentToast(),console.log("passwords do not match")));case 4:return n.next=6,this.auth.forgotPassword(l,e);case 6:return n.next=8,console.log("Going to Confirm Password Change Page");case 8:return n.next=10,this.router.navigate(["/enter-email/enter-code/:email/new-password/:email/confirm"]);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"presentToast",value:function(){return c.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toast.create({message:"The two passwords you entered do not match. Please try again.",duration:2e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"cancel",value:function(){console.log("Forgotten password cancelled"),this.router.navigate([""])}}]),n}(),g=e("iInd"),w=s.zb({encapsulation:0,styles:[["span[_ngcontent-%COMP%]{font-weight:900;font-size:1.2em;color:#005191}.badPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:1s ease-in .5s forwards password-icons;animation:1s ease-in .5s forwards password-icons}.badPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:1s ease-in forwards password-icons;animation:1s ease-in forwards password-icons}.goodPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:1s ease-in .5s forwards password-icons;animation:1s ease-in .5s forwards password-icons}.goodPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:1s ease-in forwards password-icons;animation:1s ease-in forwards password-icons}@-webkit-keyframes password-icons{0%{transform:translateX(50px)}100%{transform:translateX(0);opacity:1}}@keyframes password-icons{0%{transform:translateX(50px)}100%{transform:translateX(0);opacity:1}}"]],data:{}});function m(n){return s.Vb(0,[(n()(),s.Bb(0,0,null,null,3,"ion-button",[["class","badPassword"],["item-right",""]],null,null,null,a.O,a.d)),s.Ab(1,49152,null,0,t.k,[s.j,s.p,s.F],null,null),(n()(),s.Bb(2,0,null,0,1,"ion-icon",[["name","close"],["style","color: #FF443B;"]],null,null,null,a.db,a.s)),s.Ab(3,49152,null,0,t.C,[s.j,s.p,s.F],{name:[0,"name"]},null)],(function(n,l){n(l,3,0,"close")}),null)}function h(n){return s.Vb(0,[(n()(),s.Bb(0,0,null,null,3,"ion-button",[["class","goodPassword"],["item-right",""]],null,null,null,a.O,a.d)),s.Ab(1,49152,null,0,t.k,[s.j,s.p,s.F],null,null),(n()(),s.Bb(2,0,null,0,1,"ion-icon",[["name","checkmark"],["style","color: #21df82;"]],null,null,null,a.db,a.s)),s.Ab(3,49152,null,0,t.C,[s.j,s.p,s.F],{name:[0,"name"]},null)],(function(n,l){n(l,3,0,"checkmark")}),null)}function f(n){return s.Vb(0,[(n()(),s.Bb(0,0,null,null,3,"ion-button",[["class","badPassword"],["item-right",""]],null,null,null,a.O,a.d)),s.Ab(1,49152,null,0,t.k,[s.j,s.p,s.F],null,null),(n()(),s.Bb(2,0,null,0,1,"ion-icon",[["name","close"],["style","color: #FF443B;"]],null,null,null,a.db,a.s)),s.Ab(3,49152,null,0,t.C,[s.j,s.p,s.F],{name:[0,"name"]},null)],(function(n,l){n(l,3,0,"close")}),null)}function P(n){return s.Vb(0,[(n()(),s.Bb(0,0,null,null,3,"ion-button",[["class","goodPassword"],["item-right",""]],null,null,null,a.O,a.d)),s.Ab(1,49152,null,0,t.k,[s.j,s.p,s.F],null,null),(n()(),s.Bb(2,0,null,0,1,"ion-icon",[["name","checkmark"],["style","color: #21df82;"]],null,null,null,a.db,a.s)),s.Ab(3,49152,null,0,t.C,[s.j,s.p,s.F],{name:[0,"name"]},null)],(function(n,l){n(l,3,0,"checkmark")}),null)}function C(n){return s.Vb(0,[(n()(),s.Bb(0,0,null,null,1,"ion-header",[["style","display: none;"]],null,null,null,a.cb,a.r)),s.Ab(1,49152,null,0,t.B,[s.j,s.p,s.F],null,null),(n()(),s.Bb(2,0,null,null,49,"ion-content",[],null,null,null,a.W,a.l)),s.Ab(3,49152,null,0,t.u,[s.j,s.p,s.F],null,null),(n()(),s.Bb(4,0,null,0,47,"ion-grid",[["class","ion-text-center"],["style","margin-top: 10%;"]],null,null,null,a.bb,a.q)),s.Ab(5,49152,null,0,t.A,[s.j,s.p,s.F],null,null),(n()(),s.Bb(6,0,null,0,45,"ion-row",[],null,null,null,a.kb,a.z)),s.Ab(7,49152,null,0,t.jb,[s.j,s.p,s.F],null,null),(n()(),s.Bb(8,0,null,0,43,"ion-col",[["offset-lg","3"],["size-lg","6"]],null,null,null,a.V,a.k)),s.Ab(9,49152,null,0,t.t,[s.j,s.p,s.F],null,null),(n()(),s.Bb(10,0,null,0,1,"h6",[["class","text-header"]],null,null,null,null,null)),(n()(),s.Tb(-1,null,["Please enter your new password."])),(n()(),s.Bb(12,0,null,0,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,e){var u=!0,o=n.component;return"submit"===l&&(u=!1!==s.Nb(n,14).onSubmit(e)&&u),"reset"===l&&(u=!1!==s.Nb(n,14).onReset()&&u),"ngSubmit"===l&&(u=!1!==o.goToConfirmPage()&&u),u}),null,null)),s.Ab(13,16384,null,0,r.t,[],null,null),s.Ab(14,540672,null,0,r.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),s.Qb(2048,null,r.a,null,[r.d]),s.Ab(16,16384,null,0,r.l,[[4,r.a]],null,null),(n()(),s.Bb(17,0,null,null,34,"ion-list",[["class","line-input"]],null,null,null,a.hb,a.w)),s.Ab(18,49152,null,0,t.O,[s.j,s.p,s.F],null,null),(n()(),s.Bb(19,0,null,0,12,"ion-item",[],null,null,null,a.fb,a.u)),s.Ab(20,49152,null,0,t.H,[s.j,s.p,s.F],null,null),(n()(),s.Bb(21,0,null,0,6,"ion-input",[["formControlName","newPassword"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0;return"ionBlur"===l&&(u=!1!==s.Nb(n,22)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==s.Nb(n,22)._handleInputEvent(e.target)&&u),u}),a.eb,a.t)),s.Ab(22,16384,null,0,t.Ob,[s.p],null,null),s.Qb(1024,null,r.i,(function(n){return[n]}),[t.Ob]),s.Ab(24,671744,null,0,r.c,[[3,r.a],[8,null],[8,null],[6,r.i],[2,r.s]],{name:[0,"name"]},null),s.Qb(2048,null,r.j,null,[r.c]),s.Ab(26,16384,null,0,r.k,[[4,r.j]],null,null),s.Ab(27,49152,null,0,t.G,[s.j,s.p,s.F],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(n()(),s.qb(16777216,null,0,1,null,m)),s.Ab(29,16384,null,0,i.j,[s.W,s.S],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(16777216,null,0,1,null,h)),s.Ab(31,16384,null,0,i.j,[s.W,s.S],{ngIf:[0,"ngIf"]},null),(n()(),s.Bb(32,0,null,0,12,"ion-item",[],null,null,null,a.fb,a.u)),s.Ab(33,49152,null,0,t.H,[s.j,s.p,s.F],null,null),(n()(),s.Bb(34,0,null,0,6,"ion-input",[["formControlName","reTypeNewPassword"],["placeholder","Re-type Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0;return"ionBlur"===l&&(u=!1!==s.Nb(n,35)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==s.Nb(n,35)._handleInputEvent(e.target)&&u),u}),a.eb,a.t)),s.Ab(35,16384,null,0,t.Ob,[s.p],null,null),s.Qb(1024,null,r.i,(function(n){return[n]}),[t.Ob]),s.Ab(37,671744,null,0,r.c,[[3,r.a],[8,null],[8,null],[6,r.i],[2,r.s]],{name:[0,"name"]},null),s.Qb(2048,null,r.j,null,[r.c]),s.Ab(39,16384,null,0,r.k,[[4,r.j]],null,null),s.Ab(40,49152,null,0,t.G,[s.j,s.p,s.F],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(n()(),s.qb(16777216,null,0,1,null,f)),s.Ab(42,16384,null,0,i.j,[s.W,s.S],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(16777216,null,0,1,null,P)),s.Ab(44,16384,null,0,i.j,[s.W,s.S],{ngIf:[0,"ngIf"]},null),(n()(),s.Bb(45,0,null,0,2,"ion-button",[["class","orange-button"],["type","submit"]],null,null,null,a.O,a.d)),s.Ab(46,49152,null,0,t.k,[s.j,s.p,s.F],{type:[0,"type"]},null),(n()(),s.Tb(-1,0,["NEXT"])),(n()(),s.Bb(48,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),s.Bb(49,0,null,0,2,"ion-button",[["class","cancel-button"],["slot","end"]],null,[[null,"click"]],(function(n,l,e){var s=!0;return"click"===l&&(s=!1!==n.component.cancel()&&s),s}),a.O,a.d)),s.Ab(50,49152,null,0,t.k,[s.j,s.p,s.F],null,null),(n()(),s.Tb(-1,0,[" cancel "]))],(function(n,l){var e=l.component;n(l,14,0,e.newPasswordForm),n(l,24,0,"newPassword"),n(l,27,0,"Password","password"),n(l,29,0,!e.passwordsMatch),n(l,31,0,e.passwordsMatch),n(l,37,0,"reTypeNewPassword"),n(l,40,0,"Re-type Password","password"),n(l,42,0,!e.passwordsMatch),n(l,44,0,e.passwordsMatch),n(l,46,0,"submit")}),(function(n,l){n(l,12,0,s.Nb(l,16).ngClassUntouched,s.Nb(l,16).ngClassTouched,s.Nb(l,16).ngClassPristine,s.Nb(l,16).ngClassDirty,s.Nb(l,16).ngClassValid,s.Nb(l,16).ngClassInvalid,s.Nb(l,16).ngClassPending),n(l,21,0,s.Nb(l,26).ngClassUntouched,s.Nb(l,26).ngClassTouched,s.Nb(l,26).ngClassPristine,s.Nb(l,26).ngClassDirty,s.Nb(l,26).ngClassValid,s.Nb(l,26).ngClassInvalid,s.Nb(l,26).ngClassPending),n(l,34,0,s.Nb(l,39).ngClassUntouched,s.Nb(l,39).ngClassTouched,s.Nb(l,39).ngClassPristine,s.Nb(l,39).ngClassDirty,s.Nb(l,39).ngClassValid,s.Nb(l,39).ngClassInvalid,s.Nb(l,39).ngClassPending)}))}var y=s.xb("app-new-password",p,(function(n){return s.Vb(0,[(n()(),s.Bb(0,0,null,null,1,"app-new-password",[],null,null,null,C,w)),s.Ab(1,114688,null,0,p,[r.b,g.m,b.a,g.a,t.Pb],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),v=function(){return e.e(27).then(e.bind(null,"F170")).then((function(n){return n.ConfirmPageModuleNgFactory}))},k=function n(){_classCallCheck(this,n)};e.d(l,"NewPasswordPageModuleNgFactory",(function(){return F}));var F=s.yb(u,[],(function(n){return s.Kb([s.Lb(512,s.m,s.jb,[[8,[o.a,y]],[3,s.m],s.D]),s.Lb(4608,i.l,i.k,[s.z,[2,i.s]]),s.Lb(4608,r.r,r.r,[]),s.Lb(4608,r.b,r.b,[]),s.Lb(4608,t.b,t.b,[s.F,s.g]),s.Lb(4608,t.Hb,t.Hb,[t.b,s.m,s.w]),s.Lb(4608,t.Lb,t.Lb,[t.b,s.m,s.w]),s.Lb(1073742336,i.c,i.c,[]),s.Lb(1073742336,r.q,r.q,[]),s.Lb(1073742336,r.e,r.e,[]),s.Lb(1073742336,r.n,r.n,[]),s.Lb(1073742336,t.Eb,t.Eb,[]),s.Lb(1073742336,g.q,g.q,[[2,g.v],[2,g.m]]),s.Lb(1073742336,k,k,[]),s.Lb(1073742336,u,u,[]),s.Lb(1024,g.k,(function(){return[[{path:"",component:p},{path:"confirm",loadChildren:v}]]}),[])])}))}}]);