!function(){function o(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function n(o,n){for(var e=0;e<n.length;e++){var s=n[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{PJsJ:function(e,s,t){"use strict";t.r(s),t.d(s,"NewPasswordPageModule",function(){return M});var r=t("ofXK"),a=t("3Pt+"),i=t("TEn/"),c=t("tyNb"),d=t("mrSG"),u=t("lGQG"),w=t("AytR"),b=t("fXoL");function l(o,n){1&o&&(b.Mb(0,"ion-button",12),b.Ib(1,"ion-icon",13),b.Lb())}function m(o,n){1&o&&(b.Mb(0,"ion-button",14),b.Ib(1,"ion-icon",15),b.Lb())}function p(o,n){1&o&&(b.Mb(0,"ion-button",12),b.Ib(1,"ion-icon",13),b.Lb())}function f(o,n){1&o&&(b.Mb(0,"ion-button",14),b.Ib(1,"ion-icon",15),b.Lb())}var h,g,P,y=[{path:"",component:(h=function(){function e(n,s,t,r,a){o(this,e),this.formBuilder=n,this.router=s,this.auth=t,this.activatedRoute=r,this.toast=a,this.BACKEND_URL=w.a.url,this.passwordsMatch=!1,this.validationMessasges={password:[{type:"password",message:"Please enter a valid password."}]}}var s,t,r;return s=e,(t=[{key:"ngOnInit",value:function(){this.newPasswordForm=this.formBuilder.group({newPassword:["",a.n.required],reTypeNewPassword:["",a.n.required]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),console.log("Email: "+this.userEmail),this.formOnChanges()}},{key:"formOnChanges",value:function(){var o=this;console.log(this.newPasswordForm),this.newPasswordForm.valueChanges.subscribe(function(n){console.log(n),o.newPasswordForm.statusChanges.subscribe(function(n){console.log(n),"VALID"===n&&(console.log("you did it bruh"),o.passwordsMatch=!0)}),o.newPasswordForm.controls.newPassword.value===o.newPasswordForm.controls.reTypePassword.value&&o.newPasswordForm.controls.newPassword.touched&&console.log("Passwords Match"),o.newPasswordForm.controls.newPassword.value!==o.newPasswordForm.controls.reTypePassword.value&&(console.log("Passwords Match"),o.passwordsMatch=!1)})}},{key:"goToConfirmPage",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var n,e;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=this.userEmail,(e=this.newPasswordForm.value.newPassword)===this.newPasswordForm.value.reTypeNewPassword){o.next=4;break}return o.abrupt("return",(this.presentToast(),console.log("passwords do not match")));case 4:return o.next=6,this.auth.forgotPassword(n,e);case 6:return o.next=8,console.log("Going to Confirm Password Change Page");case 8:return o.next=10,this.router.navigate(["/enter-email/enter-code/:email/new-password/:email/confirm"]);case 10:case"end":return o.stop()}},o,this)}))}},{key:"presentToast",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.toast.create({message:"The two passwords you entered do not match. Please try again.",duration:2e3});case 2:o.sent.present();case 3:case"end":return o.stop()}},o,this)}))}},{key:"cancel",value:function(){console.log("Forgotten password cancelled"),this.router.navigate([""])}}])&&n(s.prototype,t),r&&n(s,r),e}(),h.\u0275fac=function(o){return new(o||h)(b.Hb(a.a),b.Hb(c.f),b.Hb(u.a),b.Hb(c.a),b.Hb(i.eb))},h.\u0275cmp=b.Bb({type:h,selectors:[["app-new-password"]],decls:22,vars:5,consts:[[2,"display","none"],[1,"ion-text-center",2,"margin-top","10%"],["size-lg","6","offset-lg","3"],[1,"text-header"],[3,"formGroup","ngSubmit"],[1,"line-input"],["placeholder","Password","formControlName","newPassword","type","password"],["class","badPassword","item-right","",4,"ngIf"],["class","goodPassword","item-right","",4,"ngIf"],["placeholder","Re-type Password","formControlName","reTypeNewPassword","type","password"],["type","submit",1,"orange-button"],["slot","end",1,"cancel-button",3,"click"],["item-right","",1,"badPassword"],["name","close",2,"color","#FF443B"],["item-right","",1,"goodPassword"],["name","checkmark",2,"color","#21df82"]],template:function(o,n){1&o&&(b.Ib(0,"ion-header",0),b.Mb(1,"ion-content"),b.Mb(2,"ion-grid",1),b.Mb(3,"ion-row"),b.Mb(4,"ion-col",2),b.Mb(5,"h6",3),b.nc(6,"Please enter your new password."),b.Lb(),b.Mb(7,"form",4),b.Ub("ngSubmit",function(){return n.goToConfirmPage()}),b.Mb(8,"ion-list",5),b.Mb(9,"ion-item"),b.Ib(10,"ion-input",6),b.mc(11,l,2,0,"ion-button",7),b.mc(12,m,2,0,"ion-button",8),b.Lb(),b.Mb(13,"ion-item"),b.Ib(14,"ion-input",9),b.mc(15,p,2,0,"ion-button",7),b.mc(16,f,2,0,"ion-button",8),b.Lb(),b.Mb(17,"ion-button",10),b.nc(18,"NEXT"),b.Lb(),b.Ib(19,"br"),b.Mb(20,"ion-button",11),b.Ub("click",function(){return n.cancel()}),b.nc(21," cancel "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&o&&(b.xb(7),b.Zb("formGroup",n.newPasswordForm),b.xb(4),b.Zb("ngIf",!n.passwordsMatch),b.xb(1),b.Zb("ngIf",n.passwordsMatch),b.xb(3),b.Zb("ngIf",!n.passwordsMatch),b.xb(1),b.Zb("ngIf",n.passwordsMatch))},directives:[i.u,i.o,i.t,i.I,i.n,a.o,a.j,a.c,i.C,i.x,i.w,i.db,a.i,a.b,r.j,i.g,i.v],styles:["span[_ngcontent-%COMP%]{font-weight:900;font-size:1.2em;color:#005191}.badPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in .5s forwards;animation:password-icons 1s ease-in .5s forwards}.badPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in forwards;animation:password-icons 1s ease-in forwards}.goodPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in .5s forwards;animation:password-icons 1s ease-in .5s forwards}.goodPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in forwards;animation:password-icons 1s ease-in forwards}@-webkit-keyframes password-icons{0%{transform:translateX(50px)}to{transform:translateX(0);opacity:1}}@keyframes password-icons{0%{transform:translateX(50px)}to{transform:translateX(0);opacity:1}}"]}),h)},{path:"confirm",loadChildren:function(){return t.e(25).then(t.bind(null,"mDKk")).then(function(o){return o.ConfirmPageModule})}}],v=((P=function n(){o(this,n)}).\u0275mod=b.Fb({type:P}),P.\u0275inj=b.Eb({factory:function(o){return new(o||P)},imports:[[c.j.forChild(y)],c.j]}),P),M=((g=function n(){o(this,n)}).\u0275mod=b.Fb({type:g}),g.\u0275inj=b.Eb({factory:function(o){return new(o||g)},imports:[[r.b,a.d,a.l,i.T,v]]}),g)}}])}();