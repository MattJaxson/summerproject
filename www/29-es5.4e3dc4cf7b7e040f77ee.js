!function(){function o(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function n(o,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{PJsJ:function(e,t,s){"use strict";s.r(t),s.d(t,"NewPasswordPageModule",function(){return v});var r=s("ofXK"),a=s("3Pt+"),i=s("TEn/"),c=s("tyNb"),d=s("mrSG"),b=s("lGQG"),u=s("AytR"),l=s("fXoL");function w(o,n){1&o&&(l.Mb(0,"ion-button",24),l.Ib(1,"ion-icon",25),l.Lb())}function p(o,n){1&o&&(l.Mb(0,"ion-button",26),l.Ib(1,"ion-icon",27),l.Lb())}function m(o,n){1&o&&(l.Mb(0,"ion-button",24),l.Ib(1,"ion-icon",25),l.Lb())}function h(o,n){1&o&&(l.Mb(0,"ion-button",26),l.Ib(1,"ion-icon",27),l.Lb())}var f,g,P,M=[{path:"",component:(f=function(){function e(n,t,s,r,a){o(this,e),this.formBuilder=n,this.router=t,this.auth=s,this.activatedRoute=r,this.toast=a,this.BACKEND_URL=u.a.url,this.passwordsMatch=!1,this.validationMessasges={password:[{type:"password",message:"Please enter a valid password."}]}}var t,s,r;return t=e,(s=[{key:"ngOnInit",value:function(){this.newPasswordForm=this.formBuilder.group({newPassword:["",a.n.required],reTypeNewPassword:["",a.n.required]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),console.log("Email: "+this.userEmail),this.formOnChanges()}},{key:"formOnChanges",value:function(){var o=this;console.log(this.newPasswordForm),this.newPasswordForm.valueChanges.subscribe(function(n){console.log(n),o.newPasswordForm.statusChanges.subscribe(function(o){console.log(o)}),console.log(o.newPasswordForm.controls.newPassword.value),console.log(o.newPasswordForm.controls.reTypeNewPassword.value),o.newPasswordForm.controls.newPassword.value===o.newPasswordForm.controls.reTypeNewPassword.value&&o.newPasswordForm.controls.newPassword.touched&&(o.passwordsMatch=!0,console.log("Passwords Match"),o.passwordMatchToast()),o.newPasswordForm.controls.newPassword.value!==o.newPasswordForm.controls.reTypeNewPassword.value&&(console.log("Passwords DONT Match"),o.passwordsMatch=!1)})}},{key:"goToConfirmPage",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var n,e;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=this.userEmail,(e=this.newPasswordForm.value.newPassword)===this.newPasswordForm.value.reTypeNewPassword){o.next=4;break}return o.abrupt("return",(this.presentToast(),console.log("passwords do not match")));case 4:return o.next=6,this.auth.forgotPassword(n,e);case 6:return o.next=8,console.log("Going to Confirm Password Change Page");case 8:return o.next=10,this.router.navigate(["/enter-email/enter-code/:email/new-password/:email/confirm"]);case 10:case"end":return o.stop()}},o,this)}))}},{key:"presentToast",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.toast.create({message:"The two passwords you entered do not match. Please try again.",duration:2e3});case 2:o.sent.present();case 3:case"end":return o.stop()}},o,this)}))}},{key:"passwordMatchToast",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.toast.create({message:"Passwords Match!",cssClass:"success-toast",duration:2e3});case 2:o.sent.present();case 3:case"end":return o.stop()}},o,this)}))}},{key:"cancel",value:function(){console.log("Forgotten password cancelled"),this.router.navigate([""])}},{key:"back",value:function(){this.router.navigate(["/enter-email/enter-code"])}}])&&n(t.prototype,s),r&&n(t,r),e}(),f.\u0275fac=function(o){return new(o||f)(l.Hb(a.a),l.Hb(c.g),l.Hb(b.a),l.Hb(c.a),l.Hb(i.eb))},f.\u0275cmp=l.Bb({type:f,selectors:[["app-new-password"]],decls:39,vars:6,consts:[[1,"ion-hide-lg-up"],["mode","md"],["slot","start"],["size","small"],[1,"spacer","ion-hide-lg-down"],[1,"ion-text-center"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["height","50","src","../../../../../assets/icon/Logo 2.0.svg","alt","","srcset",""],["slot","end"],[1,"back-button",3,"click"],[1,"ion-justify-content-center"],["size","12"],[1,"text-header"],["size-xs","11","size-sm","10","size-md","10","size-lg","6","size-xl","4"],[3,"formGroup","ngSubmit"],[1,"line-input"],["placeholder","Password","formControlName","newPassword","type","password"],["class","badPassword","item-right","",4,"ngIf"],["class","goodPassword","item-right","",4,"ngIf"],["placeholder","Re-type Password","formControlName","reTypeNewPassword","type","password"],["type","submit",1,"orange-button",3,"disabled"],["slot","end",1,"cancel-button",3,"click"],["item-right","",1,"badPassword"],["name","close",2,"color","#FF443B"],["item-right","",1,"goodPassword"],["name","checkmark",2,"color","#21df82"]],template:function(o,n){1&o&&(l.Mb(0,"ion-header",0),l.Mb(1,"ion-toolbar",1),l.Mb(2,"ion-buttons",2),l.Ib(3,"ion-back-button"),l.Lb(),l.Mb(4,"ion-title",3),l.nc(5,"Create New Password"),l.Lb(),l.Lb(),l.Lb(),l.Mb(6,"ion-content"),l.Ib(7,"div",4),l.Mb(8,"ion-grid",5),l.Mb(9,"ion-row",6),l.Mb(10,"ion-col",7),l.Mb(11,"ion-toolbar",8),l.Mb(12,"ion-buttons",2),l.Ib(13,"img",9),l.Lb(),l.Mb(14,"ion-buttons",10),l.Mb(15,"ion-button",11),l.Ub("click",function(){return n.back()}),l.nc(16," Back "),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(17,"ion-row",12),l.Mb(18,"ion-col",13),l.Mb(19,"h6",14),l.nc(20,"Please enter your new password. Your password needs to be "),l.Mb(21,"span"),l.nc(22,"at least 8 characters long, with at least 1 uppercase letter and one number."),l.Lb(),l.Lb(),l.Lb(),l.Mb(23,"ion-col",15),l.Mb(24,"form",16),l.Ub("ngSubmit",function(){return n.goToConfirmPage()}),l.Mb(25,"ion-list",17),l.Mb(26,"ion-item"),l.Ib(27,"ion-input",18),l.mc(28,w,2,0,"ion-button",19),l.mc(29,p,2,0,"ion-button",20),l.Lb(),l.Mb(30,"ion-item"),l.Ib(31,"ion-input",21),l.mc(32,m,2,0,"ion-button",19),l.mc(33,h,2,0,"ion-button",20),l.Lb(),l.Mb(34,"ion-button",22),l.nc(35,"NEXT"),l.Lb(),l.Ib(36,"br"),l.Mb(37,"ion-button",23),l.Ub("click",function(){return n.cancel()}),l.nc(38," cancel "),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&o&&(l.xb(24),l.Zb("formGroup",n.newPasswordForm),l.xb(4),l.Zb("ngIf",!n.passwordsMatch),l.xb(1),l.Zb("ngIf",n.passwordsMatch),l.xb(3),l.Zb("ngIf",!n.passwordsMatch),l.xb(1),l.Zb("ngIf",n.passwordsMatch),l.xb(1),l.Zb("disabled",!n.passwordsMatch))},directives:[i.u,i.S,i.h,i.e,i.f,i.R,i.o,i.t,i.I,i.n,i.g,a.o,a.j,a.c,i.C,i.x,i.w,i.db,a.i,a.b,r.j,i.v],styles:[".desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid rgba(51,51,51,.14901960784313725)}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0c375f);height:24px;--border-radius:5px;width:100px;font-size:.5em;font-weight:600;display:block}span[_ngcontent-%COMP%]{font-weight:900;color:#e4405f}.cancel-button[_ngcontent-%COMP%]{color:#e4405f;--background:none;--background-hover:linear-gradient(#f15b77,#e4405f);height:40px;width:200px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.badPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in .5s forwards;animation:password-icons 1s ease-in .5s forwards}.badPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in forwards;animation:password-icons 1s ease-in forwards}.goodPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in .5s forwards;animation:password-icons 1s ease-in .5s forwards}.goodPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in forwards;animation:password-icons 1s ease-in forwards}@-webkit-keyframes password-icons{0%{transform:translateX(50px)}to{transform:translateX(0);opacity:1}}@keyframes password-icons{0%{transform:translateX(50px)}to{transform:translateX(0);opacity:1}}"]}),f)},{path:"confirm",loadChildren:function(){return s.e(27).then(s.bind(null,"mDKk")).then(function(o){return o.ConfirmPageModule})}}],k=((P=function n(){o(this,n)}).\u0275mod=l.Fb({type:P}),P.\u0275inj=l.Eb({factory:function(o){return new(o||P)},imports:[[c.k.forChild(M)],c.k]}),P),v=((g=function n(){o(this,n)}).\u0275mod=l.Fb({type:g}),g.\u0275inj=l.Eb({factory:function(o){return new(o||g)},imports:[[r.b,a.d,a.l,i.T,k]]}),g)}}])}();