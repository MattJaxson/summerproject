function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Aso2:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r("mrSG"),s=(r("EThc"),r("ZZ/e")),o=r("lGQG"),a=r("2Vo4"),i=r("JIr8"),c=r("vkgz"),u=r("AytR"),h=r("8Y7J"),l=r("IheW"),d=r("xgBC"),p=r("gFH1"),m=r("iInd"),b=function(){var e=function(){function e(t,r,n,s,o,i,c){_classCallCheck(this,e),this.http=t,this.storage=r,this.alertController=n,this.helper=s,this.auth=o,this.router=i,this.toastController=c,this.BACKEND_URL=u.a.url,this.activeEmail="",this.user={},this.fullName=new a.a(""),this.addressOne=new a.a(""),this.addressTwo=new a.a(""),this.phone=new a.a(""),this.city=new a.a(""),this.state=new a.a(""),this.zip=new a.a(""),this.gender=new a.a(""),this.dob=new a.a(""),this.school=new a.a(""),this.grade=new a.a(""),this.profilePicture=new a.a(""),this.resume=new a.a(""),this.email=new a.a(""),this.activeEmail=this.auth.user.email}return _createClass(e,[{key:"getUserDetails",value:function(){return this.http.post("".concat(this.BACKEND_URL,"/api/home/user"),{email:this.activeEmail})}},{key:"changeEmail",value:function(e,t,r){var n=this;return this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-email"),{oldEmail:this.activeEmail,email:t,password:r}).pipe(Object(i.a)((function(e){throw n.presentFailToast(n.activeEmail),new Error(e)}))).subscribe((function(e){if(!0!==e)return n.presentFailToast(n.activeEmail),console.log("Passwords dont match");n.email.next(t),n.activeEmail=t,n.router.navigate(["/home/profile"]),n.presentSuccessToast()}))}},{key:"presentSuccessToast",value:function(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))}},{key:"presentFailToast",value:function(e){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of ".concat(e),duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then((function(e){return e.present()}))}},{key:"changePassword",value:function(e,t,r,s){return n.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-password"),{oldPassword:t,email:e,newPassword:r,reTypeNewPassword:s}).subscribe((function(e){!0===e?(console.log("TRUE"),o.router.navigate([""]),o.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))):console.log("Passwords dont match!")}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"changePhone",value:function(e,t,r){return n.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-phone"),{newNumber:t,password:r,email:e}).subscribe((function(e){!0===e?(console.log("Changing phone number..."),s.phone.next(t),s.router.navigate(["/home/profile"]),s.toastController.create({message:"Your phone number has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))):(console.log("Passwords dont match!"),s.toastController.create({message:"Password was incorrect",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then((function(e){return e.present()})))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"changeAddress",value:function(e,t,r,s,o,a,u){return n.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var h=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-address"),{email:e,addressOne:t,addressTwo:r,city:s,state:o,zip:a,password:u}).pipe(Object(c.a)((function(e){e||console.log("There was no response. There might be a bad password")})),Object(i.a)((function(e){throw new Error(e)}))).subscribe((function(e){if(!0!==e)return h.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then((function(e){return e.present()})),console.log("Passwords dont match");h.addressOne.next(t),h.addressTwo.next(r),h.city.next(s),h.state.next(o),h.zip.next(a),h.router.navigate(["/home/profile"]),h.toastController.create({message:"Your address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"changeSchool",value:function(e,t,r,s){return n.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-school"),{email:e,newSchool:t,newGrade:r,password:s}).subscribe((function(e){if(!0!==e)return o.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then((function(e){return e.present()})),console.log("Passwords dont match");o.school.next(t),o.grade.next(r),o.router.navigate(["/home/profile"]),o.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"changeProfilePicture",value:function(e,t){return n.b(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.http.post("".concat(this.BACKEND_URL,"/api/photo/change-profile-picture"),{imageForm:e,oldPhotoKey:t}).subscribe());case 1:case"end":return r.stop()}}),r,this)})))}},{key:"changeResume",value:function(e,t,r){return n.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.http.post("".concat(this.BACKEND_URL,"/api/home/user/change-school"),{email:e,newResume:t,password:r}).subscribe((function(e){if(!0!==e)return console.log("Passwords dont match");console.log("Changing Resume..."),s.resume.next(t),s.router.navigate(["/home/user/change-school/:school/:grade/confirm"])}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"delete",value:function(){console.log("Deleted User")}}]),e}();return e.ngInjectableDef=h.Yb({factory:function(){return new e(h.Zb(l.c),h.Zb(d.b),h.Zb(s.b),h.Zb(p.a),h.Zb(o.a),h.Zb(m.m),h.Zb(s.Qb))},token:e,providedIn:"root"}),e}()},NziY:function(e,t,r){"use strict";r.r(t),r.d(t,"EditPostPageModuleNgFactory",(function(){return p}));var n=r("8Y7J"),s=r("9CtM"),o=r("pMnS"),a=r("7E5L"),i=r("SVse"),c=r("s7LF"),u=r("ZZ/e"),h=r("iInd"),l=r("OHV1"),d=r("VPH/"),p=n.yb(s.a,[],(function(e){return n.Kb([n.Lb(512,n.m,n.jb,[[8,[o.a,a.a]],[3,n.m],n.D]),n.Lb(4608,i.l,i.k,[n.z,[2,i.s]]),n.Lb(4608,c.r,c.r,[]),n.Lb(4608,c.b,c.b,[]),n.Lb(4608,u.c,u.c,[n.F,n.g]),n.Lb(4608,u.Ib,u.Ib,[u.c,n.m,n.w]),n.Lb(4608,u.Mb,u.Mb,[u.c,n.m,n.w]),n.Lb(1073742336,i.c,i.c,[]),n.Lb(1073742336,c.q,c.q,[]),n.Lb(1073742336,c.e,c.e,[]),n.Lb(1073742336,c.n,c.n,[]),n.Lb(1073742336,u.Fb,u.Fb,[]),n.Lb(1073742336,h.q,h.q,[[2,h.v],[2,h.m]]),n.Lb(1073742336,l.a,l.a,[]),n.Lb(1073742336,s.a,s.a,[]),n.Lb(1024,h.k,(function(){return[[{path:"",component:d.a}]]}),[])])}))}}]);