!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{SmxB:function(t,i,o){"use strict";o.r(i),o.d(i,"ChangeEmailPageModule",function(){return M});var a=o("ofXK"),r=o("3Pt+"),s=o("TEn/"),l=o("tyNb"),c=o("mrSG"),b=o("lGQG"),u=o("Aso2"),m=o("fXoL");function d(e,n){if(1&e&&(m.Mb(0,"div",20),m.nc(1),m.Lb()),2&e){var t=m.Wb().$implicit;m.xb(1),m.pc(" ",t.message," ")}}function h(e,n){if(1&e&&(m.Kb(0),m.mc(1,d,2,1,"div",19),m.Jb()),2&e){var t=n.$implicit,i=m.Wb();m.xb(1),m.Zb("ngIf",i.changeEmail.get("email").hasError(t.type)&&(i.changeEmail.get("email").dirty||i.changeEmail.get("email").touched))}}var p,g,f,v=[{path:"",component:(p=function(){function t(n,i,o,a,r,s){e(this,t),this.formBuilder=n,this.router=i,this.auth=o,this.toast=a,this.alertController=r,this.profile=s,this.activeEmail="",this.validationMessasges={email:[{type:"email",message:"Must be a valid email address"}],password:[{type:"pattern",message:"Password must be at least 6 characters with at least one lowercase character, one uppercase character, and one number."}]},this.activeEmail=this.profile.email.getValue(),console.log("Active Email: "+this.activeEmail)}var i,o,a;return i=t,(o=[{key:"ngOnInit",value:function(){var e=this;this.changeEmail=this.formBuilder.group({email:["",[r.n.required,r.n.email]],password:["",r.n.compose([r.n.minLength(8),r.n.required,r.n.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")])]}),this.changeEmail.valueChanges.subscribe(function(n){setTimeout(function(){e.formValid=!!e.changeEmail.valid},100)})}},{key:"presentToast",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toast.create({message:"There was an error with your password or email. Please try again.",duration:5e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"presentAlert",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"danger-alert",header:"Invalid Email",message:"New Email cannot be the same as the current one.",buttons:[{text:"OK"}]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"confirmChangedEmail",value:function(e,n){e==this.activeEmail?this.presentAlert():this.profile.changeEmail(e,n)}},{key:"goBack",value:function(){this.router.navigate(["/home/profile"])}}])&&n(i.prototype,o),a&&n(i,a),t}(),p.\u0275fac=function(e){return new(e||p)(m.Hb(r.a),m.Hb(l.g),m.Hb(b.a),m.Hb(s.eb),m.Hb(s.a),m.Hb(u.a))},p.\u0275cmp=m.Bb({type:p,selectors:[["app-change-email"]],decls:33,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-text-center"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["slot","end"],[1,"back-button",3,"click"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","10","size-md","8","size-lg","6","size-xl","6",1,"ion-text-center"],[1,"text-header",2,"width","unset"],["size-xs","11","size-sm","10","size-md","8","size-lg","6","size-xl","4"],[3,"formGroup","ngSubmit"],[1,"line-input"],["required","","placeholder","new email","formControlName","email","type","email",3,"keyup.enter"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["required","","placeholder","password","formControlName","password","minlength","8","type","password",3,"keyup.enter"],["type","submit",1,"orange-button",2,"width","unset",3,"disabled"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,n){1&e&&(m.Mb(0,"ion-header",0),m.Mb(1,"ion-toolbar"),m.Mb(2,"ion-buttons",1),m.Ib(3,"ion-back-button"),m.Lb(),m.Mb(4,"ion-title"),m.nc(5,"Change Email"),m.Lb(),m.Lb(),m.Lb(),m.Mb(6,"ion-content"),m.Mb(7,"ion-grid",2),m.Mb(8,"ion-row",3),m.Mb(9,"ion-col",4),m.Mb(10,"ion-toolbar",5),m.Mb(11,"ion-buttons",1),m.Mb(12,"h1"),m.nc(13,"Change Email"),m.Lb(),m.Lb(),m.Mb(14,"ion-buttons",6),m.Mb(15,"ion-button",7),m.Ub("click",function(){return n.goBack()}),m.nc(16," Back "),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(17,"ion-row",8),m.Mb(18,"ion-col",9),m.Mb(19,"h6",10),m.nc(20),m.Lb(),m.Lb(),m.Lb(),m.Mb(21,"ion-row",8),m.Mb(22,"ion-col",11),m.Mb(23,"form",12),m.Ub("ngSubmit",function(){return n.confirmChangedEmail(n.changeEmail.controls.email.value,n.changeEmail.controls.password.value)}),m.Mb(24,"ion-list",13),m.Mb(25,"ion-item"),m.Mb(26,"ion-input",14),m.Ub("keyup.enter",function(){return n.formValid?n.confirmChangedEmail(n.changeEmail.controls.email.value,n.changeEmail.controls.password.value):null}),m.Lb(),m.Lb(),m.Mb(27,"div",15),m.mc(28,h,2,1,"ng-container",16),m.Lb(),m.Mb(29,"ion-item"),m.Mb(30,"ion-input",17),m.Ub("keyup.enter",function(){return n.formValid?n.confirmChangedEmail(n.changeEmail.controls.email.value,n.changeEmail.controls.password.value):null}),m.Lb(),m.Lb(),m.Lb(),m.Mb(31,"ion-button",18),m.nc(32,"CHANGE EMAIL"),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb()),2&e&&(m.xb(20),m.oc(n.activeEmail),m.xb(3),m.Zb("formGroup",n.changeEmail),m.xb(5),m.Zb("ngForOf",n.validationMessasges.email),m.xb(3),m.Zb("disabled",!n.formValid))},directives:[s.u,s.S,s.h,s.e,s.f,s.R,s.o,s.t,s.I,s.n,s.g,r.o,r.j,r.c,s.C,s.x,s.w,s.db,r.m,r.i,r.b,a.i,r.f,a.j],styles:[".desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid rgba(51,51,51,.14901960784313725)}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0d2e4d);height:24px;--border-radius:5px;width:100px;font-size:.5em;font-weight:600;display:block}.text-header[_ngcontent-%COMP%]{background:#e4ebf1}"]}),p)},{path:"confirm",loadChildren:function(){return o.e(54).then(o.bind(null,"QGQF")).then(function(e){return e.ConfirmPageModule})}}],w=((f=function n(){e(this,n)}).\u0275mod=m.Fb({type:f}),f.\u0275inj=m.Eb({factory:function(e){return new(e||f)},imports:[[l.k.forChild(v)],l.k]}),f),M=((g=function n(){e(this,n)}).\u0275mod=m.Fb({type:g}),g.\u0275inj=m.Eb({factory:function(e){return new(e||g)},imports:[[a.b,r.d,s.T,r.l,w]]}),g)}}])}();