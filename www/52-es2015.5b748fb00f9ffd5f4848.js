(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{SmxB:function(e,t,n){"use strict";n.r(t),n.d(t,"ChangeEmailPageModule",function(){return g});var i=n("ofXK"),o=n("3Pt+"),a=n("TEn/"),r=n("tyNb"),s=n("mrSG"),l=n("lGQG"),b=n("Aso2"),c=n("fXoL");function m(e,t){if(1&e&&(c.Mb(0,"div",20),c.nc(1),c.Lb()),2&e){const e=c.Wb().$implicit;c.xb(1),c.pc(" ",e.message," ")}}function d(e,t){if(1&e&&(c.Kb(0),c.mc(1,m,2,1,"div",19),c.Jb()),2&e){const e=t.$implicit,n=c.Wb();c.xb(1),c.Zb("ngIf",n.changeEmail.get("email").hasError(e.type)&&(n.changeEmail.get("email").dirty||n.changeEmail.get("email").touched))}}const u=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,a){this.formBuilder=e,this.router=t,this.auth=n,this.toast=i,this.alertController=o,this.profile=a,this.activeEmail="",this.validationMessasges={email:[{type:"email",message:"Must be a valid email address"}],password:[{type:"pattern",message:"Password must be at least 6 characters with at least one lowercase character, one uppercase character, and one number."}]},this.activeEmail=this.profile.email.getValue(),console.log("Active Email: "+this.activeEmail)}ngOnInit(){this.changeEmail=this.formBuilder.group({email:["",[o.n.required,o.n.email]],password:["",o.n.compose([o.n.minLength(8),o.n.required,o.n.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")])]}),this.changeEmail.valueChanges.subscribe(e=>{setTimeout(()=>{this.formValid=!!this.changeEmail.valid},100)})}presentToast(){return Object(s.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"There was an error with your password or email. Please try again.",duration:5e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"})).present()})}presentAlert(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"danger-alert",header:"Invalid Email",message:"New Email cannot be the same as the current one.",buttons:[{text:"OK"}]});yield e.present()})}confirmChangedEmail(e,t){e==this.activeEmail?this.presentAlert():this.profile.changeEmail(e,t)}goBack(){this.router.navigate(["/home/profile"])}}return e.\u0275fac=function(t){return new(t||e)(c.Hb(o.a),c.Hb(r.f),c.Hb(l.a),c.Hb(a.eb),c.Hb(a.a),c.Hb(b.a))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-change-email"]],decls:33,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-text-center"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["slot","end"],[1,"back-button",3,"click"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","10","size-md","8","size-lg","6","size-xl","6",1,"ion-text-center"],[1,"text-header",2,"width","unset"],["size-xs","11","size-sm","10","size-md","8","size-lg","6","size-xl","4"],[3,"formGroup","ngSubmit"],[1,"line-input"],["required","","placeholder","new email","formControlName","email","type","email",3,"keyup.enter"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["required","","placeholder","password","formControlName","password","minlength","8","type","password",3,"keyup.enter"],["type","submit",1,"orange-button",2,"width","unset",3,"disabled"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,t){1&e&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-buttons",1),c.Ib(3,"ion-back-button"),c.Lb(),c.Mb(4,"ion-title"),c.nc(5,"Change Email"),c.Lb(),c.Lb(),c.Lb(),c.Mb(6,"ion-content"),c.Mb(7,"ion-grid",2),c.Mb(8,"ion-row",3),c.Mb(9,"ion-col",4),c.Mb(10,"ion-toolbar",5),c.Mb(11,"ion-buttons",1),c.Mb(12,"h1"),c.nc(13,"Change Email"),c.Lb(),c.Lb(),c.Mb(14,"ion-buttons",6),c.Mb(15,"ion-button",7),c.Ub("click",function(){return t.goBack()}),c.nc(16," Back "),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(17,"ion-row",8),c.Mb(18,"ion-col",9),c.Mb(19,"h6",10),c.nc(20),c.Lb(),c.Lb(),c.Lb(),c.Mb(21,"ion-row",8),c.Mb(22,"ion-col",11),c.Mb(23,"form",12),c.Ub("ngSubmit",function(){return t.confirmChangedEmail(t.changeEmail.controls.email.value,t.changeEmail.controls.password.value)}),c.Mb(24,"ion-list",13),c.Mb(25,"ion-item"),c.Mb(26,"ion-input",14),c.Ub("keyup.enter",function(){return t.formValid?t.confirmChangedEmail(t.changeEmail.controls.email.value,t.changeEmail.controls.password.value):null}),c.Lb(),c.Lb(),c.Mb(27,"div",15),c.mc(28,d,2,1,"ng-container",16),c.Lb(),c.Mb(29,"ion-item"),c.Mb(30,"ion-input",17),c.Ub("keyup.enter",function(){return t.formValid?t.confirmChangedEmail(t.changeEmail.controls.email.value,t.changeEmail.controls.password.value):null}),c.Lb(),c.Lb(),c.Lb(),c.Mb(31,"ion-button",18),c.nc(32,"CHANGE EMAIL"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.xb(20),c.oc(t.activeEmail),c.xb(3),c.Zb("formGroup",t.changeEmail),c.xb(5),c.Zb("ngForOf",t.validationMessasges.email),c.xb(3),c.Zb("disabled",!t.formValid))},directives:[a.u,a.S,a.h,a.e,a.f,a.R,a.o,a.t,a.I,a.n,a.g,o.o,o.j,o.c,a.C,a.x,a.w,a.db,o.m,o.i,o.b,i.i,o.f,i.j],styles:[".desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid rgba(51,51,51,.14901960784313725)}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0d2e4d);height:24px;--border-radius:5px;width:100px;font-size:.5em;font-weight:600;display:block}.text-header[_ngcontent-%COMP%]{background:#e4ebf1}"]}),e})()},{path:"confirm",loadChildren:()=>n.e(53).then(n.bind(null,"QGQF")).then(e=>e.ConfirmPageModule)}];let h=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(u)],r.j]}),e})(),g=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[i.b,o.d,a.T,o.l,h]]}),e})()}}]);