(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{qgNS:function(t,e,o){"use strict";o.r(e),o.d(e,"PostPagePageModule",function(){return et});var n=o("ofXK"),i=o("3Pt+"),s=o("zAgk"),r=o("TEn/"),c=o("tyNb"),l=o("mrSG"),a=o("ENZJ"),m=o("Aso2"),b=o("7xvl"),u=o("DtjX"),d=o("fXoL");let p=(()=>{class t{constructor(t,e,o,n,i,s,r){this.formBuilder=t,this.modal=e,this.navParams=o,this.loading=n,this.alert=i,this.posts=s,this.postEmitterService=r}ngOnInit(){this.replyCommentForm=this.formBuilder.group({reply:[""]}),this.commentID=this.navParams.get("commentID"),this.postID=this.navParams.get("postID"),this.userFullName=this.navParams.get("userFullName"),this.userEmail=this.navParams.get("userEmail"),this.userProfilePicture=this.navParams.get("userProfilePicture"),this.commentUserFullName=this.navParams.get("commentUserFullName"),this.commentUserEmail=this.navParams.get("commentUserEmail"),this.comment=this.navParams.get("comment"),console.log(this.commentUserEmail),console.log(this.userEmail)}reply(t){return Object(l.a)(this,void 0,void 0,function*(){yield console.log("replying to comment..."),yield this.posts.replyComment(this.commentID,this.postID,t.reply,this.userFullName,this.userEmail,this.userProfilePicture,this.commentUserFullName,this.commentUserEmail).subscribe(t=>{console.log(t);let e=t.comments,o=t.userEmail;for(const n of e){n.repliesLength=n.replies.length,n.isUser=!1,n.canDeleteComment=!1,n.canReport=!0,n.date=Object(b.a)(new Date(n.date),{includeSeconds:!1,addSuffix:!1}),n.userEmail===o&&(n.isUser=!0,n.canDeleteComment=!0,n.canReport=!1);for(let t=0;n.replies.length>t;t++)n.replies[t].date=Object(b.a)(new Date(n.replies[t].date),{addSuffix:!1})}this.posts.commentsSubject$.next(e.reverse())}),yield this.replyLoading()})}replyLoading(){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Replying to Comment...",duration:2e3});yield t.present(),yield t.onDidDismiss(),yield this.modal.dismiss(),yield this.confirmAlert(),console.log("Loading dismissed!")})}confirmAlert(){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.alert.create({cssClass:"success-alert",message:"Your comment has been added.",buttons:["OK"]});yield t.present()})}cancel(){console.log("cancelling reply..."),this.modal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(i.a),d.Hb(r.W),d.Hb(r.X),d.Hb(r.V),d.Hb(r.a),d.Hb(a.a),d.Hb(u.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-reply-post"]],decls:23,vars:3,consts:[[1,"ion-hide-md-down"],["slot","start"],[3,"click"],["slot","end"],[1,"ion-hide-lg-up"],["id","back-arrow-icons","name","arrow-back",3,"click"],[1,"ion-justify-content-center"],["size","10"],["id","userfullname"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","15","spellcheck","true","wrap","soft","type","text","formControlName","reply",1,"reply-input",3,"placeholder","keydown.control.enter"],[2,"text-align","center","width","100%","margin-top","20px"],["type","submit",1,"orange-button",2,"margin","0 auto"]],template:function(t,e){1&t&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-toolbar"),d.Mb(2,"ion-buttons",1),d.Mb(3,"ion-buttons",1),d.Mb(4,"ion-button",2),d.Ub("click",function(){return e.cancel()}),d.nc(5," cancel "),d.Lb(),d.Lb(),d.Lb(),d.Mb(6,"ion-title",3),d.nc(7,"Reply to Comment"),d.Lb(),d.Lb(),d.Lb(),d.Mb(8,"ion-header",4),d.Mb(9,"ion-toolbar"),d.Mb(10,"ion-icon",5),d.Ub("click",function(){return e.cancel()}),d.Lb(),d.Mb(11,"ion-title",3),d.nc(12,"Reply to Comment"),d.Lb(),d.Lb(),d.Lb(),d.Mb(13,"ion-content"),d.Mb(14,"ion-row",6),d.Mb(15,"ion-col",7),d.Mb(16,"p",8),d.nc(17),d.Lb(),d.Mb(18,"form",9),d.Ub("ngSubmit",function(){return e.replyCommentForm.value.reply.length>0?e.reply(e.replyCommentForm.value):null}),d.Mb(19,"ion-textarea",10),d.Ub("keydown.control.enter",function(){return e.replyCommentForm.value.reply.length>0?e.reply(e.replyCommentForm.value):null}),d.Lb(),d.Mb(20,"div",11),d.Mb(21,"ion-button",12),d.nc(22," Reply "),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t&&(d.xb(17),d.oc(e.comment),d.xb(1),d.Zb("formGroup",e.replyCommentForm),d.xb(1),d.bc("placeholder","Replying to: ",e.userFullName,""))},directives:[r.u,r.S,r.h,r.g,r.R,r.v,r.o,r.I,r.n,i.o,i.j,i.c,r.Q,r.db,i.i,i.b],styles:["ion-icon[_ngcontent-%COMP%]{color:#fff}.reply-input[_ngcontent-%COMP%]{background:#fff;margin:20px 0 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.reply-input[_ngcontent-%COMP%], .reply-input[_ngcontent-%COMP%]:hover{height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.reply-input[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}#comment[_ngcontent-%COMP%], #date[_ngcontent-%COMP%], #userfullname[_ngcontent-%COMP%]{font-size:1em}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]}),t})(),h=(()=>{class t{constructor(t,e,o,n,i,s){this.formBuilder=t,this.modal=e,this.navParams=o,this.loading=n,this.posts=i,this.alert=s}ngOnInit(){this.reportCommentForm=this.formBuilder.group({reportedReason:[""]}),this.commentID=this.navParams.get("commentID"),this.commentContents=this.navParams.get("commentContents"),this.post=this.navParams.get("post"),this.postID=this.navParams.get("postID"),this.commentUserFullName=this.navParams.get("commentUserFullName"),this.commentUserProfilePicture=this.navParams.get("commentUserProfilePicture"),this.commentUserEmail=this.navParams.get("commentUserEmail"),this.commentDate=this.navParams.get("commentDate"),this.userEmail=this.navParams.get("userEmail"),this.userFullName=this.navParams.get("userFullName")}report(){return Object(l.a)(this,void 0,void 0,function*(){yield console.log("reporting comment..."),yield console.log(this.reportCommentForm.value.reportedReason),yield this.reportLoading(),yield this.posts.reportComment(this.commentID,this.commentContents,this.post,this.postID,this.commentUserFullName,this.commentUserProfilePicture,this.commentUserEmail,this.commentDate,this.userEmail,this.userFullName,this.reportCommentForm.value.reportedReason).subscribe()})}reportLoading(){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Reporting comment...",duration:2e3});yield t.present(),yield t.onDidDismiss(),yield this.modal.dismiss(),yield this.confirmAlert(),console.log("Loading dismissed!")})}confirmAlert(){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.alert.create({header:"Report Sent",cssClass:"success-alert",message:"Thank you for reporting this user. Find Your Future will notifiy the user and take futher actions if necessary.",buttons:["OK"]});yield t.present()})}cancel(){console.log("cancelling comment..."),this.modal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(i.a),d.Hb(r.W),d.Hb(r.X),d.Hb(r.V),d.Hb(a.a),d.Hb(r.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-report-comment"]],decls:27,vars:3,consts:[[1,"ion-hide-md-down"],["slot","end"],[3,"click"],["slot","start"],[1,"ion-hide-lg-up"],["id","back-arrow-icons","name","arrow-back",3,"click"],[1,"ion-justify-content-center",2,"margin-top","50px"],["size","10"],["id","userfullname"],[2,"background","#999"],["id","comment"],[1,"ion-justify-content-center"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","8","spellcheck","true","wrap","soft","type","text","placeholder","Why are you reporting this post?","formControlName","reportedReason",1,"report-input",3,"keyup.enter"],[2,"text-align","center","width","100%","margin-top","20px"],["type","submit",1,"orange-button",2,"margin","0 auto"]],template:function(t,e){1&t&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-toolbar"),d.Mb(2,"ion-buttons",1),d.Mb(3,"ion-button",2),d.Ub("click",function(){return e.cancel()}),d.nc(4," cancel "),d.Lb(),d.Lb(),d.Mb(5,"ion-title",3),d.nc(6,"Report Post"),d.Lb(),d.Lb(),d.Lb(),d.Mb(7,"ion-header",4),d.Mb(8,"ion-toolbar"),d.Mb(9,"ion-icon",5),d.Ub("click",function(){return e.cancel()}),d.Lb(),d.Mb(10,"ion-title",1),d.nc(11,"Report Post"),d.Lb(),d.Lb(),d.Lb(),d.Mb(12,"ion-content"),d.Mb(13,"ion-row",6),d.Mb(14,"ion-col",7),d.Mb(15,"p",8),d.nc(16),d.Lb(),d.Ib(17,"hr",9),d.Mb(18,"p",10),d.nc(19),d.Lb(),d.Lb(),d.Lb(),d.Mb(20,"ion-row",11),d.Mb(21,"ion-col",7),d.Mb(22,"form",12),d.Ub("ngSubmit",function(){return e.report()}),d.Mb(23,"ion-textarea",13),d.Ub("keyup.enter",function(){return e.report()}),d.Lb(),d.Mb(24,"div",14),d.Mb(25,"ion-button",15),d.nc(26," Report "),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t&&(d.xb(16),d.pc("User being Reported: ",e.commentUserFullName,""),d.xb(3),d.pc("Comment: ",e.commentContents,""),d.xb(3),d.Zb("formGroup",e.reportCommentForm))},directives:[r.u,r.S,r.h,r.g,r.R,r.v,r.o,r.I,r.n,i.o,i.j,i.c,r.Q,r.db,i.i,i.b],styles:[".report-input[_ngcontent-%COMP%]{background:#fff;margin:20px 0 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.report-input[_ngcontent-%COMP%], .report-input[_ngcontent-%COMP%]:hover{height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.report-input[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}#comment[_ngcontent-%COMP%]{color:#e4405f}#comment[_ngcontent-%COMP%], #date[_ngcontent-%COMP%], #userfullname[_ngcontent-%COMP%]{font-size:1em}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]}),t})(),g=(()=>{class t{constructor(t,e,o,n,i,s,r){this.formBuilder=t,this.modal=e,this.navParams=o,this.loading=n,this.posts=i,this.alert=s,this.postEmitterService=r}ngOnInit(){this.commentID=this.navParams.get("commentID"),this.commentContents=this.navParams.get("commentCotents"),this.postID=this.navParams.get("postID"),this.userEmail=this.navParams.get("userEmail"),console.log("post_id: "+this.postID),console.log(this.commentID),console.log(this.commentContents),console.log(this.userEmail),this.editCommentForm=this.formBuilder.group({newComment:this.commentContents})}cancel(){console.log("cancelling"),this.modal.dismiss()}refreshComment(){this.postEmitterService.postPageRefresh()}edit(t){console.log("editting"),console.log(t),this.posts.editComment(this.commentID,this.postID,t.newComment).subscribe(t=>{this.posts.getPostInfo(this.postID).subscribe(t=>{for(let e of t.comments)e.isUser=!1,e.canDeleteComment=!1,e.canReport=!0,e.userEmail===this.userEmail&&(e.isUser=!0,e.canDeleteComment=!0,e.canReport=!1),e.repliesLength=e.replies.length,e.date=Object(b.a)(new Date(e.date),{includeSeconds:!0,addSuffix:!1});this.posts.commentsSubject$.next(t.comments.reverse())}),this.editLoading(t.newComment)})}editLoading(t){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Editing your comment...",duration:2e3});yield t.present(),yield t.onDidDismiss(),yield this.modal.dismiss(),yield this.confirmAlert(),console.log("Loading dismissed!")})}confirmAlert(){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.alert.create({cssClass:"success-alert",message:"Your comment has been edited.",buttons:["OK"]});yield t.present()})}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(i.a),d.Hb(r.W),d.Hb(r.X),d.Hb(r.V),d.Hb(a.a),d.Hb(r.a),d.Hb(u.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-edit-comment"]],decls:20,vars:1,consts:[[1,"ion-hide-md-down"],["slot","end"],[3,"click"],["slot","start"],[1,"ion-hide-lg-up"],["id","back-arrow-icons","name","arrow-back",3,"click"],[1,"ion-justify-content-center"],["size","10"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","15","spellcheck","true","wrap","soft","type","text","formControlName","newComment",1,"comment-input",3,"keyup.enter"],[2,"text-align","center","width","100%","margin-top","20px"],["type","submit",1,"orange-button",2,"margin","0 auto"]],template:function(t,e){1&t&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-toolbar"),d.Mb(2,"ion-buttons",1),d.Mb(3,"ion-button",2),d.Ub("click",function(){return e.cancel()}),d.nc(4," cancel "),d.Lb(),d.Lb(),d.Mb(5,"ion-title",3),d.nc(6,"Edit Comment"),d.Lb(),d.Lb(),d.Lb(),d.Mb(7,"ion-header",4),d.Mb(8,"ion-toolbar"),d.Mb(9,"ion-icon",5),d.Ub("click",function(){return e.cancel()}),d.Lb(),d.Mb(10,"ion-title",1),d.nc(11,"Edit Comment"),d.Lb(),d.Lb(),d.Lb(),d.Mb(12,"ion-content"),d.Mb(13,"ion-row",6),d.Mb(14,"ion-col",7),d.Mb(15,"form",8),d.Ub("ngSubmit",function(){return e.edit(e.editCommentForm.value)}),d.Mb(16,"ion-textarea",9),d.Ub("keyup.enter",function(){return e.edit(e.editCommentForm.value)}),d.Lb(),d.Mb(17,"div",10),d.Mb(18,"ion-button",11),d.nc(19," Edit "),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t&&(d.xb(15),d.Zb("formGroup",e.editCommentForm))},directives:[r.u,r.S,r.h,r.g,r.R,r.v,r.o,r.I,r.n,i.o,i.j,i.c,r.Q,r.db,i.i,i.b],styles:[".comment-input[_ngcontent-%COMP%]{background:#fff;margin:30px 0 60px;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input[_ngcontent-%COMP%], .comment-input[_ngcontent-%COMP%]:hover{height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]}),t})();var f=o("VPH/"),x=o("nfbU"),M=o("wbj2"),v=o("u6v2"),w=o("2Vo4");function y(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",4),d.Ub("click",function(){return d.gc(t),d.Wb().upVoteComment()}),d.Ib(1,"ion-icon",5),d.nc(2),d.Lb()}if(2&t){const t=d.Wb();d.xb(2),d.pc(" ",t.upVoteLength," ")}}function C(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",4),d.Ub("click",function(){return d.gc(t),d.Wb().upVoteComment()}),d.Ib(1,"ion-icon",6),d.nc(2),d.Lb()}if(2&t){const t=d.Wb();d.xb(2),d.pc(" ",t.upVoteLength," ")}}function P(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",7),d.Ub("click",function(){return d.gc(t),d.Wb().downVoteComment()}),d.Ib(1,"ion-icon",8),d.nc(2),d.Lb()}if(2&t){const t=d.Wb();d.xb(2),d.pc(" ",t.downVoteLength," ")}}function L(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",7),d.Ub("click",function(){return d.gc(t),d.Wb().downVoteComment()}),d.Ib(1,"ion-icon",9),d.nc(2),d.Lb()}if(2&t){const t=d.Wb();d.xb(2),d.pc(" ",t.downVoteLength," ")}}let k=(()=>{class t{constructor(t,e,o,n){this.posts=t,this.profile=e,this.toast=o,this.postEmitterService=n,this.upVoteCount$=new w.a(0),this.downVoteCount$=new w.a(0),this.currentUserUpvoted=!1,this.currentUserDownvoted=!1}ngOnInit(){return Object(l.a)(this,void 0,void 0,function*(){this.posts.getPostInfo(this.postID).subscribe(t=>{t.comments.find(t=>{if(t._id===this.commentID)return this.upVoters=t.upvoters,this.downVoters=t.downvoters,this.upVotes=t.upvotes,this.downVotes=t.downvotes,this.upVoteCount$.next(this.upVotes),this.downVoteCount$.next(this.downVotes),this.upVoteLength=this.upVoteCount$.getValue(),void(this.downVoteLength=this.downVoteCount$.getValue())}),this.profile.getUserDetails().subscribe(t=>{let e=t.email,o=!1,n=!1;this.upVoters.find(function(t){if(t===e)return o=!0;console.log(t)}),this.downVoters.find(function(t){if(t===e)return n=!0}),console.log("Current user: ",e),this.userEmail=e,this.currentUserUpvoted=o,this.currentUserDownvoted=n})})})}refreshAfterComment(){this.postEmitterService.postPageRefresh()}upVoteComment(){this.posts.upVoteComment(this.postID,this.commentID,this.userEmail).subscribe(t=>{const e=t.upvotes,o=t.downvotes;if(console.log(t),this.upVoteCount$.next(e),this.downVoteCount$.next(o),this.currentUserUpvoted=!0,this.upVoteLength=this.upVoteCount$.getValue(),this.downVoteLength=this.downVoteCount$.getValue(),!0===this.currentUserUpvoted)return this.currentUserDownvoted=!1}),this.upVoteCommentToast(),this.refreshAfterComment()}upVoteCommentToast(){return Object(l.a)(this,void 0,void 0,function*(){(yield this.toast.create({cssClass:"upvoted-toast",message:"You have UPVOTED this comment.",duration:2e3})).present()})}downVoteComment(){this.posts.downVoteComment(this.postID,this.commentID,this.userEmail).subscribe(t=>{const e=t.upvotes,o=t.downvotes;if(console.log(t),this.upVoteCount$.next(e),this.downVoteCount$.next(o),this.currentUserDownvoted=!0,this.upVoteLength=this.upVoteCount$.getValue(),this.downVoteLength=this.downVoteCount$.getValue(),!0===this.currentUserDownvoted)return this.currentUserUpvoted=!1}),this.downVoteCommentToast(),this.refreshAfterComment()}downVoteCommentToast(){return Object(l.a)(this,void 0,void 0,function*(){(yield this.toast.create({cssClass:"downvoted-toast",message:"You have DOWNVOTED this comment.",duration:2e3})).present()})}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(a.a),d.Hb(m.a),d.Hb(r.eb),d.Hb(u.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-comment-vote-bar"]],inputs:{postID:"postID",commentID:"commentID"},decls:6,vars:4,consts:[[2,"--background","none"],["slot","start"],["class","upvote",3,"click",4,"ngIf"],["class","downvote",3,"click",4,"ngIf"],[1,"upvote",3,"click"],["size","large","src","../assets/icon/caret-up-outline.svg"],["size","large","src","../assets/icon/caret-up-outline-active.svg"],[1,"downvote",3,"click"],["size","large","src","../assets/icon/caret-down-outline.svg"],["size","large","src","../assets/icon/caret-down-outline-active.svg"]],template:function(t,e){1&t&&(d.Mb(0,"ion-toolbar",0),d.Mb(1,"ion-buttons",1),d.mc(2,y,3,1,"ion-button",2),d.mc(3,C,3,1,"ion-button",2),d.mc(4,P,3,1,"ion-button",3),d.mc(5,L,3,1,"ion-button",3),d.Lb(),d.Lb()),2&t&&(d.xb(2),d.Zb("ngIf",!e.currentUserUpvoted),d.xb(1),d.Zb("ngIf",e.currentUserUpvoted),d.xb(1),d.Zb("ngIf",!e.currentUserDownvoted),d.xb(1),d.Zb("ngIf",e.currentUserDownvoted))},directives:[r.S,r.h,n.j,r.g,r.v],styles:[".upvote[_ngcontent-%COMP%]{border-radius:5px;width:60px;position:relative;--color:#005191}.upvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#005191;font-size:40px}.downvote[_ngcontent-%COMP%]{border-radius:5px;width:60px;padding-left:0;--color:#005191}.downvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#005191;--font-size:40px}.upvoted-toast[_ngcontent-%COMP%]{--background:#005191}.downvoted-toast[_ngcontent-%COMP%]{--background:#ffb351}.followed-toast[_ngcontent-%COMP%]{--background:#24d8a8}.unfollowed-toast[_ngcontent-%COMP%]{--background:#ffb351}"]}),t})();const O=["footerCommentInput"];function I(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-fab",50),d.Mb(1,"ion-fab-button",51),d.Ub("click",function(){return d.gc(t),d.Wb().fabScrollTop()}),d.Ib(2,"ion-icon",52),d.Lb(),d.Lb()}}function D(t,e){if(1&t&&(d.Mb(0,"p",53),d.nc(1),d.Lb()),2&t){const t=e.$implicit;d.xb(1),d.pc(" #",t," ")}}function z(t,e){1&t&&(d.Mb(0,"ion-button",54),d.nc(1,"Post "),d.Lb())}function _(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",55),d.Ub("click",function(){d.gc(t);const e=d.Wb();return e.deletePost(e.postID)}),d.nc(1," Delete "),d.Lb()}}function U(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",56),d.Ub("click",function(){d.gc(t);const e=d.Wb();return e.editPost(e.postID,e.post)}),d.nc(1," Edit "),d.Lb()}}function E(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",57),d.Ub("click",function(){d.gc(t);const e=d.Wb();return e.follow(e.postID)}),d.nc(1," Follow "),d.Lb()}}function S(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",58),d.Ub("click",function(){d.gc(t);const e=d.Wb();return e.unFollow(e.postID)}),d.nc(1," Unfollow "),d.Lb()}}function F(t,e){1&t&&(d.Mb(0,"ion-col",59),d.Mb(1,"p",60),d.nc(2,"This post has no comments"),d.Lb(),d.Lb())}function j(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-col",61),d.Mb(1,"ion-toolbar",62),d.Mb(2,"p",63),d.nc(3),d.Lb(),d.Mb(4,"ion-buttons",3),d.Mb(5,"ion-button",51),d.Ub("click",function(){return d.gc(t),d.Wb().filterComments()}),d.Ib(6,"ion-icon",64),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&t){const t=d.Wb();d.xb(3),d.pc("Comments - ",t.comments.length,"")}}function V(t,e){if(1&t){const t=d.Nb();d.Mb(0,"p",81),d.Ub("click",function(){d.gc(t);const e=d.Wb().$implicit,o=d.Wb();return o.repliesModal(o.postID,e.replies,e.comment,e._id,e.userFullName,e.userEmail,e.date,e.userProfilePicture,o.userFullName,o.userEmail)}),d.nc(1),d.Lb()}if(2&t){const t=d.Wb().$implicit;d.xb(1),d.pc("Replies - ",t.repliesLength,"")}}function N(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",82),d.Ub("click",function(){d.gc(t);const e=d.Wb().$implicit,o=d.Wb();return o.report(e._id,e.comment,o.post,o.postID,e.userFullName,e.userProfilePicture,e.userEmail,e.date)}),d.nc(1," Report "),d.Lb()}}function R(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",83),d.Ub("click",function(){d.gc(t);const e=d.Wb().$implicit,o=d.Wb();return o.editComment(e._id,e.comment,o.postID,o.userEmail)}),d.nc(1," Edit "),d.Lb()}}function H(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-button",55),d.Ub("click",function(){d.gc(t);const e=d.Wb().$implicit;return d.Wb().deleteComment(e._id)}),d.nc(1," Delete "),d.Lb()}}function W(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-col",65),d.Mb(1,"ion-row"),d.Mb(2,"ion-col"),d.Mb(3,"ion-item",66),d.Mb(4,"ion-avatar",67),d.Ib(5,"img",68),d.Lb(),d.Mb(6,"ion-label"),d.Mb(7,"h6",69),d.nc(8),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Mb(9,"ion-row",11),d.Mb(10,"ion-col",70),d.Mb(11,"p",71),d.nc(12),d.Lb(),d.Lb(),d.Lb(),d.Mb(13,"ion-row",11),d.Mb(14,"ion-col",70),d.mc(15,V,2,1,"p",72),d.Lb(),d.Lb(),d.Mb(16,"ion-row",73),d.Mb(17,"ion-col",74),d.Ib(18,"app-comment-vote-bar",75),d.Lb(),d.Mb(19,"ion-col",76),d.Mb(20,"ion-toolbar",77),d.Mb(21,"ion-buttons",3),d.Mb(22,"ion-button",78),d.Ub("click",function(){d.gc(t);const o=e.$implicit,n=d.Wb();return n.repliesModal(n.postID,o.replies,o.comment,o._id,o.userFullName,o.userEmail,o.date,o.userProfilePicture,n.userFullName,n.userEmail)}),d.nc(23," Reply "),d.Lb(),d.mc(24,N,2,0,"ion-button",79),d.mc(25,R,2,0,"ion-button",80),d.mc(26,H,2,0,"ion-button",36),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&t){const t=e.$implicit,o=d.Wb();d.xb(5),d.ac("src",t.userProfilePicture,d.ic),d.xb(3),d.qc("",t.userFullName," - ",t.date," ago"),d.xb(4),d.pc("",t.comment," "),d.xb(3),d.Zb("ngIf",t.repliesLength>=1),d.xb(3),d.Zb("postID",o.postID)("commentID",t._id),d.xb(6),d.Zb("ngIf",!0===t.canReport),d.xb(1),d.Zb("ngIf",!0===t.isUser),d.xb(1),d.Zb("ngIf",!0===t.canDeleteComment)}}const A=[{path:"",component:(()=>{class t{constructor(t,e,o,n,i,s,r,c,l,a,m,b,u){this.activatedRoute=t,this.postEmitterService=e,this.singlePostEmitterService=o,this.router=n,this.changeDetectorRef=i,this.posts=s,this.profile=r,this.formBuilder=c,this.toast=l,this.modal=a,this.alert=m,this.loading=b,this.location=u,this.tabBar=document.getElementById("myTabBar"),this.votes=document.getElementById("votes"),this.showFab=!1,this.following=!1,this.isUser=!1,this.scroll=""}ngOnDestroy(){this.singlePostEmitterService.subsVar.unsubscribe(),this.commentsSub.unsubscribe(),this.postsSub.unsubscribe(),this.userDetailsSub.unsubscribe(),this.postInfoSub.unsubscribe()}ngOnInit(){this.location.onPopState(()=>{this.postEmitterService.onBackAction()});const t=this.activatedRoute.snapshot.paramMap.get("_id");this.postID=t,this.getPostInfo(),null==this.singlePostEmitterService.subsVar&&(this.singlePostEmitterService.subsVar=this.singlePostEmitterService.invokeSinglePostPageRefresh.subscribe(()=>{this.getPostInfo(),console.log("Refreshing Replies")})),this.commentForm=this.formBuilder.group({comment:[""]}),this.commentsSub=this.posts.commentsSubject$.subscribe(t=>{this.comments=t}),this.postsSub=this.posts.postsSubject$.subscribe(t=>{let e;console.log(t);for(const o of t)o._id==this.postID&&(e=o);this.post=e.post})}back(){this.postEmitterService.onBackAction(),this.router.navigate(["/home/posts"])}refreshAfterComment(){this.postEmitterService.postPageRefresh()}refreshAfterDelete(){this.postEmitterService.postPageRefresh()}refreshAfterFollow(){this.postEmitterService.postPageRefresh()}follow(t){return Object(l.a)(this,void 0,void 0,function*(){this.followPostSub=this.posts.followPost(t,this.userEmail),this.following=!0,yield this.followToast()})}followToast(){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.toast.create({cssClass:"followed-toast",message:"You are FOLLOWING this post",duration:2e3});yield this.refreshAfterDelete(),yield t.present()})}unFollow(t){return Object(l.a)(this,void 0,void 0,function*(){this.unfollowPostSub=this.posts.unFollowPost(t,this.userEmail),this.following=!1,yield this.unFollowToast()})}unFollowToast(){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.toast.create({cssClass:"unfollowed-toast",message:"You are UNFOLLOWING this post",duration:2e3});yield this.refreshAfterDelete(),yield t.present()})}logScrolling(t){t.detail.currentY>=480&&(this.showFab=!0),t.detail.currentY<=480&&(this.showFab=!1)}ScrollToTop(){this.content.scrollToPoint(0,200,100),this.tabBar.style.height="0px",this.votes.style.height="0px"}fabScrollTop(){this.content.scrollToTop()}ScrollToPostedComment(){this.content.scrollToPoint(0,600,100),this.textarea.getInputElement().then(t=>{t.blur()})}onBlur(){this.textarea.getInputElement().then(t=>{this.tabBar.style.height="70px"})}blur(){this.textarea.getInputElement().then(t=>{t.blur(),this.tabBar.style.height="70px"})}filterComments(){}commentInput(t){console.log(t.detail.value),this.commentInputValue=t.detail.value}comment(t,e,o,n,i,s){return Object(l.a)(this,void 0,void 0,function*(){let r;r=s?i:i.comment,console.log(this.footerCommentInput),this.footerCommentInput.value=null,this.commentLoading(t,e,o,n,r),this.toast.create({message:"Your comment has been added.",duration:1500}).then(t=>t.present())})}commentLoading(t,e,o,n,i){return Object(l.a)(this,void 0,void 0,function*(){console.log(i),this.postsSub=this.posts.comment(t,e,o,n,i).subscribe(t=>{this.postInfoSub=this.posts.getPostInfo(this.postID).subscribe(t=>{for(let e of t.comments)console.log(e),e.isUser=!1,e.canDeleteComment=!1,e.canReport=!0,e.userEmail===this.userEmail&&(e.isUser=!0,e.canDeleteComment=!0,e.canReport=!1),e.repliesLength=e.replies.length,e.date=Object(b.a)(new Date(e.date),{includeSeconds:!0,addSuffix:!1}),console.log(e.comment);this.posts.commentsSubject$.next(t.comments.reverse())})});const s=yield this.loading.create({message:"Adding Comment...",duration:1e3});yield this.refreshAfterComment(),yield s.present(),yield s.onDidDismiss()})}report(t,e,o,n,i,s,r,c){return Object(l.a)(this,void 0,void 0,function*(){yield console.log("Attemping to report comment"),yield this.reportModal(t,e,o,n,i,s,r,c,this.userEmail,this.userFullName)})}reportModal(t,e,o,n,i,s,r,c,a,m){return Object(l.a)(this,void 0,void 0,function*(){const l=yield this.modal.create({component:h,componentProps:{commentID:t,commentContents:e,post:o,postID:n,commentUserFullName:i,commentUserProfilePicture:s,commentUserEmail:r,commentDate:c,userEmail:a,userFullName:m}});yield l.present()})}reply(t,e,o,n,i,s,r){return Object(l.a)(this,void 0,void 0,function*(){yield console.log("Attemping to reply to comment"),yield this.replyModal(t,this.postID,e,o,n,i,s,r)})}replyModal(t,e,o,n,i,s,r,c){return Object(l.a)(this,void 0,void 0,function*(){const l=yield this.modal.create({component:p,componentProps:{commentID:t,postID:e,userFullName:o,userProfilePicture:i,userEmail:n,commentUserEmail:r,commentUserFullName:s,comment:c},cssClass:"reply-modal"});yield l.present()})}repliesModal(t,e,o,n,i,s,r,c,a,m){return Object(l.a)(this,void 0,void 0,function*(){const l=yield this.modal.create({component:x.a,componentProps:{postID:t,replies:e,comment:o,commentID:n,commentUserFullName:i,commentUserEmail:s,commentDate:r,userProfilePicture:c,userFullName:a,userEmail:m},cssClass:"reply-modal"});yield l.present()})}editComment(t,e,o,n){return Object(l.a)(this,void 0,void 0,function*(){yield console.log(t),yield console.log("Attemping to edit comment"),yield this.editCommentModal(t,e,o,n)})}editCommentModal(t,e,o,n){return Object(l.a)(this,void 0,void 0,function*(){const i=yield this.modal.create({component:g,componentProps:{commentID:t,commentCotents:e,postID:o,userEmail:n}});yield i.present()})}editPost(t,e){return Object(l.a)(this,void 0,void 0,function*(){yield console.log("Attemping to edit comment"),yield this.editPostModal(t,e)})}editPostModal(t,e){return Object(l.a)(this,void 0,void 0,function*(){const o=yield this.modal.create({component:f.a,componentProps:{postID:t,post:e}});yield o.present()})}deleteComment(t){return Object(l.a)(this,void 0,void 0,function*(){console.log("deleting comment.."),console.log(this.postID),console.log(t),this.deleteCommentAlert(this.postID,t)})}deleteCommentAlert(t,e){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.alert.create({header:"Are you sure you want to delete this comment? This cannot be undone.",cssClass:"danger-alert",buttons:[{text:"Cancel",role:"cancel",handler:t=>{console.log("Confirm Cancel")}},{text:"Delete",handler:()=>{this.deleteCommentLoading(this.postID,e).catch(t=>{console.log(t)})}}]});yield t.present()})}deleteCommentLoading(t,e){return Object(l.a)(this,void 0,void 0,function*(){this.deleteCommentSub=this.posts.deleteComment(this.postID,e).subscribe(t=>{let e=t.comments;for(const o of e)o.repliesLength=o.replies.length,o.isUser=!1,o.canDeleteComment=!1,o.canReport=!0,o.date=Object(b.a)(new Date(o.date),{includeSeconds:!1,addSuffix:!1}),o.userEmail===this.userEmail&&(console.log("true"),o.isUser=!0,o.canDeleteComment=!0,o.canReport=!1);this.posts.commentsSubject$.next(e.reverse())});const t=yield this.loading.create({message:"Deleting Comment...",duration:2e3});yield t.present(),yield t.onDidDismiss(),console.log("Loading dismissed!"),this.changeDetectorRef.detectChanges()})}deletePost(t){return Object(l.a)(this,void 0,void 0,function*(){console.log("deleting post.."),console.log(t),this.deletePostAlert(t)})}deletePostAlert(t){return Object(l.a)(this,void 0,void 0,function*(){const e=yield this.alert.create({header:"Are you sure you want to delete this post? This cannot be undone.",cssClass:"danger-alert",buttons:[{text:"Cancel",role:"cancel",handler:t=>{console.log("Confirm Cancel")}},{text:"Delete",handler:()=>Object(l.a)(this,void 0,void 0,function*(){yield this.deletePostLoading(t)})}]});yield e.present()})}deletePostLoading(t){return Object(l.a)(this,void 0,void 0,function*(){console.log(t),this.deletePostSub=this.posts.deletePost(t).subscribe(t=>{this.posts.postsSubject$.next(Object.values(t).reverse()),console.log(this.posts.postsSubject$.getValue())}),this.postEmitterService.onBackAction(),this.router.navigate(["/home/posts"]),console.log("Loading dismissed!");const e=yield this.loading.create({message:"Deleting Comment...",duration:2e3});yield e.present(),yield e.onDidDismiss()})}getPostInfo(){this.userDetailsSub=this.profile.getUserDetails().subscribe(t=>{let e=t.email;this.userEmail=e;let o=t.fullName,n=t.profilePicture;this.postInfoSub=this.posts.getPostInfo(this.postID).subscribe(t=>{const i=t.creatorEmail,s=t.creatorName,r=t.creatorProfilePicture,c=t.title,l=t.post,a=t.followers,m=t.hashtags;let u=t.comments,d=!1,p=Object(b.a)(new Date(t.date),{includeSeconds:!0,addSuffix:!1});i===this.userEmail&&(this.isUser=!0),a.find(function(t){t===e&&(d=!0)});for(const e of u){console.log(e),e.repliesLength=e.replies.length,e.isUser=!1,e.canDeleteComment=!1,e.canReport=!0,e.date=Object(b.a)(new Date(e.date),{includeSeconds:!1,addSuffix:!1}),e.userEmail===this.userEmail&&(e.isUser=!0,e.canDeleteComment=!0,e.canReport=!1);for(let t=0;e.replies.length>t;t++)e.replies[t].date=Object(b.a)(new Date(e.replies[t].date),{addSuffix:!1})}this.creatorName=s,this.creatorEmail=i,this.creatorProfilePicture=r,this.date=p,this.followers=a,this.hashtags=m,this.comments=u,this.following=d,this.post=l,this.title=c,this.userProfilePicture=n,this.userFullName=o})})}filterLanguage(t){const e=t;return e.replace("fuck","****"),e}doRefresh(t){return Object(l.a)(this,void 0,void 0,function*(){this.userDetailsSub=this.profile.getUserDetails().subscribe(t=>{let e=t.email;this.userEmail=e;let o=t.fullName,n=t.profilePicture;this.postInfoSub=this.posts.getPostInfo(this.postID).subscribe(t=>{const i=t.creatorEmail,s=t.creatorName,r=t.post,c=t.title,l=t.followers;let a=t.comments,m=!1,u=Object(b.a)(new Date(t.date),{includeSeconds:!0,addSuffix:!1});l.find(function(t){t===e&&(m=!0)});for(const e of a){e.repliesLength=e.replies.length,e.isUser=!1,e.canDeleteComment=!1,e.canReport=!0,e.date=Object(b.a)(new Date(e.date),{includeSeconds:!0,addSuffix:!1}),e.userEmail===this.userEmail&&(e.isUser=!0,e.canDeleteComment=!0,e.canReport=!1);for(let t=0;e.replies.length>t;t++)e.replies[t].date=Object(b.a)(new Date(e.replies[t].date),{addSuffix:!1});e.comment=this.filterLanguage(e.comment)}this.creatorName=s,this.creatorEmail=i,this.date=u,this.followers=l,this.comments=a,this.following=m,this.post=r,this.title=c,this.userProfilePicture=n,this.userFullName=o,this.posts.commentsSubject$.next(a.reverse())})}),yield setTimeout(()=>{const e=this.toast.create({message:"Page has been refreshed",duration:3e3});t.target.complete(),e.then(t=>t.present())},2e3)})}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(c.a),d.Hb(u.a),d.Hb(M.a),d.Hb(c.g),d.Hb(d.i),d.Hb(a.a),d.Hb(m.a),d.Hb(i.a),d.Hb(r.eb),d.Hb(r.W),d.Hb(r.a),d.Hb(r.V),d.Hb(n.l))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-post-page"]],viewQuery:function(t,e){if(1&t&&(d.kc(r.o,!0),d.kc(r.Q,!0),d.kc(O,!0)),2&t){let t;d.ec(t=d.Vb())&&(e.content=t.first),d.ec(t=d.Vb())&&(e.textarea=t.first),d.ec(t=d.Vb())&&(e.footerCommentInput=t.first)}},decls:64,vars:22,consts:[["no-border","",1,"ion-hide-lg-up"],[1,"toolbar"],["slot","start"],["slot","end"],["height","30",1,"user-profile-picture",3,"src"],[3,"scrollEvents","ionScroll"],["slot","fixed",3,"ionRefresh"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"post","ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6.5",1,"ion-hide-lg-down"],[1,"spacer"],[1,"ion-justify-content-center"],["pull-xl","0.5","pull-lg","0.5","size","0.75",1,"ion-text-center"],[2,"border-radius","100px","height","35xpx","width","35px",3,"src"],["pull-xl","0.4","pull-lg","0.4","size","9"],[1,"post-name"],[1,"post-date"],["size","1"],[1,"blue-button-small","ion-float-right",3,"click"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","5",1,"ion-hide-lg-up"],[1,"profile-picture",3,"src"],[2,"display","inline-block","margin-left","10px"],[2,"position","relative","top","-16px"],["class","hashtag",4,"ngFor","ngForOf"],[1,"hashtags"],[1,"header-hr"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6.5",2,"position","relative","top","-40px"],[1,"post-title"],[1,"post-content"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6.5"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input",3,"ionBlur","onfocusout","keydown.control.enter"],["style","float: right;","class","comment-post-button","type","submit","name","send",4,"ngIf"],["size-xs","11","size-sm","10","size-md","10","size-lg","4","push-xl","1.5","size-xl","6"],[3,"postID"],["size-xs","11","size-sm","10","size-md","10","size-lg","4","pull-xl","1.4","size-xl","3"],["class","delete ion-float-right",3,"click",4,"ngIf"],["class","edit ion-float-right","style","--background: none;",3,"click",4,"ngIf"],["class","follow ion-float-right",3,"click",4,"ngIf"],["class","delete ion-float-right","style","width: 80px",3,"click",4,"ngIf"],["class","ion-text-center","style","margin: 100px 0;","size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",4,"ngIf"],["style","margin-bottom: 24px;","size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",4,"ngIf"],["class","comment","size-xs","12","size-sm","10","size-md","10","size-lg","8","size-xl","6",4,"ngFor","ngForOf"],[1,"ion-hide-lg-up","add-comment-footer"],["size","10",2,"display","inline-block","height","40px"],["autocapitalize","true","rows","1","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment",2,"display","inline",3,"ionChange"],["footerCommentInput",""],["size","1",2,"display","inline-block","height","50px"],[2,"--background","none",3,"click"],["slot","start","name","send",2,"font-size","1.8em","color","#0055a5"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","arrow-up","size","large"],[1,"hashtag"],["type","submit","name","send",1,"comment-post-button",2,"float","right"],[1,"delete","ion-float-right",3,"click"],[1,"edit","ion-float-right",2,"--background","none",3,"click"],[1,"follow","ion-float-right",3,"click"],[1,"delete","ion-float-right",2,"width","80px",3,"click"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",1,"ion-text-center",2,"margin","100px 0"],[2,"color","#888"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",2,"margin-bottom","24px"],[1,"comments-toolbar-mobile","ion-hide-lg-up"],[1,"comments-header"],["slot","start","name","filter"],["size-xs","12","size-sm","10","size-md","10","size-lg","8","size-xl","6",1,"comment"],["lines","none"],["slot","start",1,"comment-avatar"],[3,"src"],[2,"opacity","0.5"],["size","11"],[1,"comment-text",2,"margin-top","40px"],["id","replies-link",3,"click",4,"ngIf"],[2,"margin-top","20px"],["size","4"],[3,"postID","commentID"],["push","1","size","6"],[2,"--background","none"],[1,"reply","ion-float-right",3,"click"],["class","report ion-float-right",3,"click",4,"ngIf"],["class","edit ion-float-right",3,"click",4,"ngIf"],["id","replies-link",3,"click"],[1,"report","ion-float-right",3,"click"],[1,"edit","ion-float-right",3,"click"]],template:function(t,e){1&t&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-toolbar",1),d.Mb(2,"ion-buttons",2),d.Ib(3,"ion-back-button"),d.Lb(),d.Mb(4,"ion-buttons",3),d.Ib(5,"img",4),d.Lb(),d.Lb(),d.Lb(),d.Mb(6,"ion-content",5),d.Ub("ionScroll",function(t){return e.logScrolling(t)}),d.Mb(7,"ion-refresher",6),d.Ub("ionRefresh",function(t){return e.doRefresh(t)}),d.Ib(8,"ion-refresher-content"),d.Lb(),d.mc(9,I,3,0,"ion-fab",7),d.Mb(10,"ion-grid"),d.Mb(11,"ion-row",8),d.Mb(12,"ion-col",9),d.Ib(13,"div",10),d.Mb(14,"ion-row",11),d.Mb(15,"ion-col",12),d.Ib(16,"img",13),d.Lb(),d.Mb(17,"ion-col",14),d.Mb(18,"p",15),d.nc(19),d.Lb(),d.Mb(20,"p",16),d.nc(21),d.Lb(),d.Lb(),d.Mb(22,"ion-col",17),d.Mb(23,"ion-button",18),d.Ub("click",function(){return e.back()}),d.nc(24," Back "),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Mb(25,"ion-col",19),d.Ib(26,"img",20),d.Mb(27,"div",21),d.Mb(28,"p",15),d.nc(29),d.Lb(),d.Mb(30,"p",16),d.nc(31),d.Lb(),d.Mb(32,"div",22),d.mc(33,D,2,1,"p",23),d.Lb(),d.Lb(),d.Ib(34,"div",24),d.Ib(35,"hr",25),d.Lb(),d.Mb(36,"ion-col",26),d.Mb(37,"p",27),d.nc(38),d.Lb(),d.Mb(39,"p",28),d.nc(40),d.Lb(),d.Lb(),d.Mb(41,"ion-col",29),d.Mb(42,"form",30),d.Ub("ngSubmit",function(){return e.comment(e.postID,e.userFullName,e.userEmail,e.userProfilePicture,e.commentForm.value,e.commentInputValue)}),d.Mb(43,"ion-textarea",31),d.Ub("ionBlur",function(){return e.onBlur()})("onfocusout",function(){return e.blur()})("keydown.control.enter",function(){return e.comment(e.postID,e.userFullName,e.userEmail,e.userProfilePicture,e.commentForm.value.comment,!1)&&e.ScrollToPostedComment()}),d.Lb(),d.mc(44,z,2,0,"ion-button",32),d.Lb(),d.Lb(),d.Mb(45,"ion-col",33),d.Ib(46,"app-up-down-vote-buttons",34),d.Lb(),d.Mb(47,"ion-col",35),d.mc(48,_,2,0,"ion-button",36),d.mc(49,U,2,0,"ion-button",37),d.mc(50,E,2,0,"ion-button",38),d.mc(51,S,2,0,"ion-button",39),d.Lb(),d.Lb(),d.Mb(52,"ion-row",11),d.mc(53,F,3,0,"ion-col",40),d.mc(54,j,7,1,"ion-col",41),d.mc(55,W,27,10,"ion-col",42),d.Lb(),d.Lb(),d.Lb(),d.Mb(56,"ion-footer",43),d.Mb(57,"ion-row",11),d.Mb(58,"ion-col",44),d.Mb(59,"ion-textarea",45,46),d.Ub("ionChange",function(t){return e.commentInput(t)}),d.Lb(),d.Lb(),d.Mb(61,"ion-col",47),d.Mb(62,"ion-button",48),d.Ub("click",function(){return e.comment(e.postID,e.userFullName,e.userEmail,e.userProfilePicture,e.commentInputValue,!0)&&e.ScrollToPostedComment()}),d.Ib(63,"ion-icon",49),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t&&(d.xb(5),d.Zb("src",e.userProfilePicture,d.ic),d.xb(1),d.Zb("scrollEvents",!0),d.xb(3),d.Zb("ngIf",e.showFab),d.xb(7),d.ac("src",e.creatorProfilePicture,d.ic),d.xb(3),d.oc(e.creatorName),d.xb(2),d.oc(e.date),d.xb(5),d.ac("src",e.creatorProfilePicture,d.ic),d.xb(3),d.oc(e.creatorName),d.xb(2),d.pc("Posted ",e.date," ago"),d.xb(2),d.Zb("ngForOf",e.hashtags),d.xb(5),d.oc(e.title),d.xb(2),d.oc(e.post),d.xb(2),d.Zb("formGroup",e.commentForm),d.xb(2),d.Zb("ngIf",!e.commentForm.get("comment").pristine&&e.commentForm.value.comment.length>=3),d.xb(2),d.Zb("postID",e.postID),d.xb(2),d.Zb("ngIf",!0===e.isUser),d.xb(1),d.Zb("ngIf",!0===e.isUser),d.xb(1),d.Zb("ngIf",!1===e.isUser&&!e.following),d.xb(1),d.Zb("ngIf",!1===e.isUser&&e.following),d.xb(2),d.Zb("ngIf",0===e.comments.length),d.xb(1),d.Zb("ngIf",e.comments.length>0),d.xb(1),d.Zb("ngForOf",e.comments))},directives:[r.u,r.S,r.h,r.e,r.f,r.o,r.F,r.G,n.j,r.t,r.I,r.n,r.g,n.i,i.o,i.j,i.c,r.Q,r.db,i.i,i.b,v.a,r.s,r.v,r.q,r.r,r.x,r.d,r.B,k],styles:[".header-hr[_ngcontent-%COMP%]{border-top:1px solid #666;opacity:.3;margin-top:10px}.user-profile-picture[_ngcontent-%COMP%]{height:40px;width:40px;margin-right:8px;border-radius:50px}.post[_ngcontent-%COMP%]{margin-bottom:40px;background:#0055a5;padding:20px 0}.comments-header[_ngcontent-%COMP%]{color:#0055a5;font-size:1.4em;font-weight:600}.add-comment-footer[_ngcontent-%COMP%]{background:rgba(213,232,236,.3);height:80px;font-size:1.3em;border-top:6px solid #0055a5;padding-top:4px}.post-title[_ngcontent-%COMP%]{color:#67b5ff;padding-top:24px;margin-bottom:64px;font-size:1.4em;font-weight:600;border-top:3px solid #fff}.profile-picture[_ngcontent-%COMP%]{border-radius:100px;height:35px;width:35px;position:relative;top:-18px;display:inline-block}.post-name[_ngcontent-%COMP%]{font-size:1.6em;display:inline-block}.post-date[_ngcontent-%COMP%], .post-name[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin:0}.post-date[_ngcontent-%COMP%]{opacity:.8;font-size:1em;display:block}.blue-button-small[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0055a2);height:24px;width:100px;font-size:.5em;font-weight:600;display:block}.hashtags[_ngcontent-%COMP%]{position:relative;top:-32px}.hashtag[_ngcontent-%COMP%]{font-size:1.3em;font-weight:600;display:inline-block;margin-right:5px;color:#ea8400}.post-mobile[_ngcontent-%COMP%]{margin-bottom:90px;box-shadow:none}.post-mobile[_ngcontent-%COMP%], .post-mobile[_ngcontent-%COMP%]:hover{transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275);background:#fff}.post-mobile[_ngcontent-%COMP%]:hover{margin-bottom:120px;box-shadow:1px 1px 3px #999;border-radius:5px}@media only screen and (max-width:576px){.profile-picture[_ngcontent-%COMP%]{height:65px;width:65px}}x[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]{font-size:1.15em;line-height:28px;color:#fff}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#0672c4,#0055a5);font-weight:800;display:inline-block;width:100px;margin-top:20px}.comment-post-button[_ngcontent-%COMP%]{--background:#00c400;--background-hover:red;height:54px;margin-top:10px;opacity:0;font-size:1.4em;font-weight:600;width:100%;transform:.2s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275);-webkit-animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards}.unfollow-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#faa71b,#e99b14);font-weight:900;display:inline-block;width:100px;margin-top:20px}.comments-toolbar-mobile[_ngcontent-%COMP%]{--background:none}.comments-toolbar-mobile[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0055a5;font-size:2.2em}.comment[_ngcontent-%COMP%]{background:#fff;height:auto;opacity:0;margin:0 8px;box-shadow:1px 10px 10px rgba(0,0,0,.05);border-top:3px solid #d7d7d7;border-radius:5px;padding-left:10px;transition:.5s;-webkit-animation:post-button-slide-up .5s cubic-bezier(.175,.885,.32,1.275) .5s forwards;animation:post-button-slide-up .5s cubic-bezier(.175,.885,.32,1.275) .5s forwards}.follow-button[_ngcontent-%COMP%]{height:36px;opacity:0;--background:#24d8a8;--color:#fff;--border-style:solid;--border-width:1px;--border-color:linear-gradient(#797,#799);-webkit-animation:post-button-slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:post-button-slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;font-weight:900;width:100px}.delete-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#ff443b,#ce3028);font-weight:800;display:inline-block;width:100px;margin-top:20px}.upvote[_ngcontent-%COMP%]{border-radius:5px;width:80px;padding-left:0;--color:#fff}.upvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--color:#fff;font-size:48px}.downvote[_ngcontent-%COMP%]{border-radius:5px;width:50px;padding-left:0;--color:#0055a5}.downvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0055a5;--font-size:40px}.reply[_ngcontent-%COMP%]{--border-color:#0055a5;--color:#0055a5}.reply[_ngcontent-%COMP%], .report[_ngcontent-%COMP%]{width:60px;--border-width:3px;--border-style:solid;border-radius:5px;font-size:.7em;font-weight:900;margin-right:10px}.report[_ngcontent-%COMP%]{--border-color:#666;--color:#888}.edit[_ngcontent-%COMP%]{--border-width:3px;--border-color:#faa71b;--border-style:solid;--color:#faa71b}.delete[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{width:60px;border-radius:5px;font-size:.7em;font-weight:900;margin-right:10px}.delete[_ngcontent-%COMP%]{--background:#faa71b;--color:#fff}.follow[_ngcontent-%COMP%]{--border-width:3px;width:80px;--border-color:linear-gradient(#24d8a8,#1baf88);--border-style:solid;border-radius:5px;--color:#fff;--background:linear-gradient(#5ad8b2,#40c59d);font-size:.7em;font-weight:900;margin-right:10px}ion-title[_ngcontent-%COMP%]{color:#0055a5}.toolbar[_ngcontent-%COMP%]{--background:#0055a5}ion-item[_ngcontent-%COMP%]{--background:none}ion-fab[_ngcontent-%COMP%]{opacity:0;padding-right:2%;-webkit-animation:fab-slide-up .5s ease-out forwards;animation:fab-slide-up .5s ease-out forwards}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--color-activated:#fff;--background-activated:#ffb351;--background:#fff}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0055a5}@-webkit-keyframes fab-slide-up{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(-30px)}}@keyframes fab-slide-up{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(-30px)}}.post-header[_ngcontent-%COMP%]{background:hsla(0,0%,95.7%,.8);padding:10px 0}.header-avatar[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50px}.comment-form[_ngcontent-%COMP%]{background:none;margin-bottom:20px;padding:20px 0}.comment-text[_ngcontent-%COMP%]{color:#222;font-size:1.2em}.reply-wrapper[_ngcontent-%COMP%]{position:relative;top:10px;margin-bottom:5px}.reply-text[_ngcontent-%COMP%]{color:#222;font-size:1em;margin:0 0 20px}.reply-link[_ngcontent-%COMP%]{color:#0055a5}.comment-avatar[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50px}.comment-input[_ngcontent-%COMP%]{background:rgba(213,232,236,.3);height:auto;margin:20px 0 10px;box-shadow:none;padding-left:10px;border:3px solid #faa71b;color:#fff;font-size:1.3em;border-radius:2px;transition:1s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:focus{background:rgba(250,167,27,.04);height:auto;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px;padding-left:10px;transition:.5s}#reply-date[_ngcontent-%COMP%]{font-size:.7em;color:#999}#replies-link[_ngcontent-%COMP%]{color:#0055a5;font-weight:500}form[_ngcontent-%COMP%]{width:100%}@-webkit-keyframes send-icon-slide-in{0%{transform:translateX(10px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes send-icon-slide-in{0%{transform:translateX(10px);opacity:0}to{transform:translateX(0);opacity:1}}@-webkit-keyframes post-button-slide-up{0%{transform:translateY(0);opacity:0}to{transform:translateY(-20px);opacity:1}}@keyframes post-button-slide-up{0%{transform:translateY(0);opacity:0}to{transform:translateY(-20px);opacity:1}}@-webkit-keyframes comment-slide-up{0%{transform:translateY(0);opacity:0}to{transform:translateY(-20px);opacity:1}}@keyframes comment-slide-up{0%{transform:translateY(0);opacity:0}to{transform:translateY(-20px);opacity:1}}"]}),t})()}];let T=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},imports:[[c.k.forChild(A)],c.k]}),t})();const $=[{path:"",component:p}];let B=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},imports:[[c.k.forChild($)],c.k]}),t})(),Z=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},imports:[[n.b,i.d,i.l,r.T,B]]}),t})();const Y=[{path:"",component:h}];let G=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},imports:[[c.k.forChild(Y)],c.k]}),t})(),X=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},imports:[[n.b,i.d,i.l,r.T,G]]}),t})();const Q=[{path:"",component:g}];let K=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},imports:[[c.k.forChild(Q)],c.k]}),t})(),q=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},imports:[[n.b,i.d,i.l,r.T,K]]}),t})();var J=o("9CtM"),tt=o("fU57");let et=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},imports:[[n.b,i.d,i.l,r.T,T,s.a,Z,X,q,J.EditPostPageModule,tt.RepliesPagePageModule]]}),t})()}}]);