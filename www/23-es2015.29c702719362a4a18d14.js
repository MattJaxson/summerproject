(window.webpackJsonp=window.webpackJsonp||[]).push([[23,67,68,69],{"723k":function(e,t,o){"use strict";o.r(t),o.d(t,"ProfilePageModule",function(){return m});var i=o("TEn/"),n=o("tyNb"),s=o("ofXK"),r=o("3Pt+"),a=o("mrSG"),l=o("lGQG"),h=o("Aso2"),c=o("fXoL"),u=o("e8h1");let b=(()=>{class e{constructor(e,t,o,i,n,s,r){this.auth=e,this.profile=t,this.storage=o,this.router=i,this.toast=n,this.alert=s,this.loading=r,this.userObject={fullName:"",about:"",city:"",state:"",zip:"",gender:"",dob:"",school:"",grade:"",profilePicture:"",resume:"",email:"",phone:""}}ngOnDestroy(){this.detailsSub.unsubscribe(),this.profile.fullName.unsubscribe(),this.profile.about.unsubscribe(),this.profile.city.unsubscribe(),this.profile.state.unsubscribe(),this.profile.zip.unsubscribe(),this.profile.gender.unsubscribe(),this.profile.school.unsubscribe(),this.profile.grade.unsubscribe(),this.profile.profilePicture.unsubscribe(),this.profile.email.unsubscribe(),this.profile.phone.unsubscribe(),this.profile.resume.unsubscribe()}ngOnInit(){this.detailsSub=this.profile.getUserDetails().subscribe(e=>{console.log(e);const t=e.about,o=e.city,i=e.state,n=e.zip,s=e.gender,r=e.dob,a=e.school,l=e.grade,h=e.profilePicture,c=e.resume,u=e.email,b=e.phone;this.profile.fullName.next(e.fullName),this.profile.about.next(t),this.profile.city.next(o),this.profile.state.next(i),this.profile.zip.next(n),this.profile.gender.next(s),this.profile.dob.next(r),this.profile.school.next(a),this.profile.grade.next(l),this.profile.profilePicture.next(h),this.profile.resume.next(c),this.profile.email.next(u),this.profile.phone.next(b),this.profile.fullName.subscribe(e=>{this.userObject.fullName=e}),this.profile.about.subscribe(e=>{this.userObject.about=e}),this.profile.city.subscribe(e=>{this.userObject.city=e}),this.profile.state.subscribe(e=>{this.userObject.state=e}),this.profile.zip.subscribe(e=>{this.userObject.zip=e}),this.profile.gender.subscribe(e=>{this.userObject.gender=e}),this.profile.dob.subscribe(e=>{this.userObject.dob=e}),this.profile.school.subscribe(e=>{this.userObject.school=e}),this.profile.grade.subscribe(e=>{this.userObject.grade=e}),this.profile.profilePicture.subscribe(e=>{this.userObject.profilePicture=e}),this.profile.resume.subscribe(e=>{this.userObject.resume=e}),this.profile.email.subscribe(e=>{this.userObject.email=e}),this.profile.phone.subscribe(e=>{this.userObject.phone=e})})}clearToken(){this.storage.remove("access_token"),this.toast.create({message:"JWT removed",duration:3e3}).then(e=>e.present())}editPage(){this.router.navigate(["/home/profile/edit-profile-page"])}changeProfilePicture(){console.log("Navigating to Change Profile Page"),this.router.navigate(["/home/profile/change-profile-picture",this.userObject.profilePicture])}updateResume(){console.log("Navigating to Change Resume Page"),this.router.navigate(["/home/profile/view-resume"])}confirmLogout(){return Object(a.a)(this,void 0,void 0,function*(){const e=this.toast.create({message:"User has been logged out",duration:3e3}),t=yield this.loading.create({message:"Logging out...",duration:1e3}),o=yield this.alert.create({header:"Logout",cssClass:"alert",message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",handler:()=>{console.log("Canceling logout"),this.profile.fullName.next(""),this.profile.about.next(""),this.profile.city.next(""),this.profile.state.next(""),this.profile.zip.next(""),this.profile.gender.next(""),this.profile.dob.next(""),this.profile.school.next(""),this.profile.grade.next(""),this.profile.profilePicture.next(""),this.profile.resume.next(""),this.profile.email.next(""),this.router.navigate(["/home/profile"])}},{text:"Logout",handler:()=>{console.log("Logging out"),this.auth.logout(),t.present(),e.then(e=>e.present())}}]});yield o.present()})}changeEmail(){console.log("Navigating to Change Email Page"),this.router.navigate(["/home/profile/change-email"])}changePhone(){console.log("Navigating to Change Phone Page"),this.router.navigate(["/home/profile/change-phone"])}changeAbout(){console.log("Navigating to Change About Page"),this.router.navigate(["/home/profile/change-about/",this.userObject.about])}changePassword(){console.log("Navigating to Change Password Page"),this.router.navigate(["/home/profile/change-password"])}changePhoneNumber(){console.log("Navigating to Change Phone Number Page"),this.router.navigate(["/home/profile/change-phone",this.userObject.phone])}changeSchool(){console.log("Navigating to Change School Page"),this.router.navigate(["/home/profile/change-school",this.userObject.school,this.userObject.grade])}}return e.\u0275fac=function(t){return new(t||e)(c.Hb(l.a),c.Hb(h.a),c.Hb(u.b),c.Hb(n.f),c.Hb(i.eb),c.Hb(i.a),c.Hb(i.V))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-profile"]],decls:76,vars:7,consts:[["no-border","",1,"ion-hide-lg-up"],[2,"--background","#0055a5"],["slot","start"],["height","50","src","../../../assets/icon/profile-icon.svg",2,"border-radius","80px"],[2,"font-size","1.2em","color","white"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["height","50","src","../../../assets/icon/profile-icon-blue.svg","alt","","srcset",""],[1,"profile-wrapper","ion-justify-content-center","ion-align-items-center"],[2,"background","rgb(228, 235, 241)","padding","1em","border-radius","5px"],["size-xs","11","size-sm","3","size-md","2","size-lg","1.5"],[1,"ion-justify-content-center"],["size","12"],["id","profile-picture","alt","User Profile Picture",3,"src"],["size","12",1,"ion-text-center"],[1,"blue-button",3,"click"],["size-xs","11","size-sm","6","size-md","5","size-lg","10"],["id","profile-info","size","12"],[2,"text-transform","capitalize"],["detail","true","lines","none",3,"click"],["detail","true","lines","none",2,"--background","#e3405f","--color","white",3,"click"]],template:function(e,t){1&e&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-item",1),c.Mb(3,"ion-avatar",2),c.Ib(4,"img",3),c.Lb(),c.Mb(5,"ion-label",4),c.nc(6,"Profile"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(7,"ion-content"),c.Mb(8,"ion-grid"),c.Mb(9,"ion-row",5),c.Mb(10,"ion-col",6),c.Mb(11,"ion-toolbar",7),c.Mb(12,"ion-buttons",2),c.Ib(13,"img",8),c.Mb(14,"h1"),c.nc(15,"Profile"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(16,"ion-row",9),c.Mb(17,"ion-col",6),c.Mb(18,"ion-row",10),c.Mb(19,"ion-col",11),c.Mb(20,"ion-row",12),c.Mb(21,"ion-col",13),c.Ib(22,"img",14),c.Lb(),c.Mb(23,"ion-col",15),c.Mb(24,"ion-button",16),c.Ub("click",function(){return t.changeProfilePicture()}),c.nc(25," Change Picture "),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(26,"ion-col",17),c.Mb(27,"ion-row"),c.Mb(28,"ion-col",18),c.Mb(29,"p"),c.Mb(30,"span"),c.nc(31,"About"),c.Lb(),c.nc(32),c.Lb(),c.Mb(33,"p"),c.Mb(34,"span"),c.nc(35,"Name:"),c.Lb(),c.nc(36),c.Lb(),c.Mb(37,"p"),c.Mb(38,"span"),c.nc(39,"Email:"),c.Lb(),c.nc(40),c.Lb(),c.Mb(41,"p",19),c.Mb(42,"span"),c.nc(43,"Gender:"),c.Lb(),c.nc(44),c.Lb(),c.Mb(45,"p"),c.Mb(46,"span"),c.nc(47,"School:"),c.Lb(),c.nc(48),c.Lb(),c.Mb(49,"p"),c.Mb(50,"span"),c.nc(51,"Grade:"),c.Lb(),c.nc(52),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(53,"ion-col",6),c.Mb(54,"ion-list"),c.Mb(55,"ion-item",20),c.Ub("click",function(){return t.changeEmail()}),c.Mb(56,"ion-label"),c.nc(57,"Change Email"),c.Lb(),c.Lb(),c.Mb(58,"ion-item",20),c.Ub("click",function(){return t.changeAbout()}),c.Mb(59,"ion-label"),c.nc(60,"Change About Description"),c.Lb(),c.Lb(),c.Mb(61,"ion-item",20),c.Ub("click",function(){return t.changePassword()}),c.Mb(62,"ion-label"),c.nc(63,"Change Password"),c.Lb(),c.Lb(),c.Mb(64,"ion-item",20),c.Ub("click",function(){return t.changePhoneNumber()}),c.Mb(65,"ion-label"),c.nc(66,"Change Phone Number"),c.Lb(),c.Lb(),c.Mb(67,"ion-item",20),c.Ub("click",function(){return t.changeSchool()}),c.Mb(68,"ion-label"),c.nc(69,"Change School/Grade"),c.Lb(),c.Lb(),c.Mb(70,"ion-item",20),c.Ub("click",function(){return t.updateResume()}),c.Mb(71,"ion-label"),c.nc(72,"View/Update Resume"),c.Lb(),c.Lb(),c.Mb(73,"ion-item",21),c.Ub("click",function(){return t.confirmLogout()}),c.Mb(74,"ion-label"),c.nc(75,"Logout"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.xb(22),c.ac("src",t.userObject.profilePicture,c.ic),c.xb(10),c.oc(t.userObject.about),c.xb(4),c.pc(" ",t.userObject.fullName,""),c.xb(4),c.pc(" ",t.userObject.email,""),c.xb(4),c.pc(" ",t.userObject.gender,""),c.xb(4),c.pc(" ",t.userObject.school,""),c.xb(4),c.pc(" ",t.userObject.grade,""))},directives:[i.u,i.S,i.x,i.d,i.B,i.o,i.t,i.I,i.n,i.h,i.g,i.C],styles:[".profile-wrapper[_ngcontent-%COMP%]{margin:16px auto}@media only screen and (max-width:575px){.profile-wrapper[_ngcontent-%COMP%]{margin:24px auto}}ion-alert[_ngcontent-%COMP%]{--background:#e4405f}ion-item[_ngcontent-%COMP%], ion-list[_ngcontent-%COMP%]{background:none}ion-item[_ngcontent-%COMP%]{--color:#0055a5;margin:8px auto;box-shadow:1px 10px 26px rgba(0,0,0,.05);border-radius:5px}.desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid rgba(51,51,51,.14901960784313725)}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}#profile-info[_ngcontent-%COMP%]{height:auto;text-align:left;margin-left:24px}h4[_ngcontent-%COMP%]{color:#000;font-size:1.9em}h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{opacity:1}p[_ngcontent-%COMP%]{font-size:1em;transition:.5s}span[_ngcontent-%COMP%]{color:#0055a5;font-weight:600;width:64px;display:inline-block}#profile-picture[_ngcontent-%COMP%]{height:80px;width:80px;border-radius:100px;margin:0 auto 8px;display:block;opacity:1;border:5px solid #0055a5}.back-button[_ngcontent-%COMP%]{opacity:1}.blue-button[_ngcontent-%COMP%]{--background:#0055a5;opacity:1}.blue-button[_ngcontent-%COMP%], .logout-button[_ngcontent-%COMP%]{height:24px;width:100px;font-size:.5em}.logout-button[_ngcontent-%COMP%]{color:#fff;--background:#e4405f;--background-hover:#dd3252;font-weight:600;box-shadow:1px 1px 10px rgba(0,0,0,.1);margin-bottom:52px auto}@-webkit-keyframes text-slide-up{0%{transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes text-slide-up{0%{transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes pic-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes pic-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes header-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes header-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes buttons-slide-up{0%{transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes buttons-slide-up{0%{transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes buttons-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes buttons-slide-right{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@media screen and (max-width:992px){p[_ngcontent-%COMP%]{font-size:1em}span[_ngcontent-%COMP%]{color:#0055a5;font-weight:600;width:64px;display:inline-block;text-align:left;margin-right:10px}}@media screen and (min-width:768px){#change-pro-pic-button[_ngcontent-%COMP%]{position:absolute;top:75px;left:188px}}"]}),e})();var p=o("zAgk");const g=[{path:"",component:b},{path:"change-email",loadChildren:()=>o.e(52).then(o.bind(null,"SmxB")).then(e=>e.ChangeEmailPageModule)},{path:"change-phone/:phone",loadChildren:()=>o.e(10).then(o.bind(null,"wpa0")).then(e=>e.ChangePhonePageModule)},{path:"change-password",loadChildren:()=>o.e(54).then(o.bind(null,"2uJy")).then(e=>e.ChangePasswordPageModule)},{path:"change-school/:school/:grade",loadChildren:()=>o.e(60).then(o.bind(null,"UWje")).then(e=>e.ChangeSchoolPageModule)},{path:"change-profile-picture/:profilePicture",loadChildren:()=>Promise.all([o.e(4),o.e(0),o.e(57)]).then(o.bind(null,"aGP+")).then(e=>e.ChangeProfilePicturePageModule)},{path:"resume",loadChildren:()=>o.e(65).then(o.bind(null,"wgOD")).then(e=>e.ResumePageModule)},{path:"logout",loadChildren:()=>o.e(63).then(o.bind(null,"GWPF")).then(e=>e.LogoutPageModule)},{path:"view-resume",loadChildren:()=>o.e(0).then(o.bind(null,"bUUK")).then(e=>e.ViewResumePageModule)},{path:"update-resume",loadChildren:()=>Promise.all([o.e(0),o.e(66)]).then(o.bind(null,"e0Xu")).then(e=>e.UpdateResumePageModule)},{path:"confirm-photo",loadChildren:()=>o.e(58).then(o.bind(null,"RA/u")).then(e=>e.ConfirmPhotoPageModule)},{path:"change-about/:about",loadChildren:()=>o.e(9).then(o.bind(null,"s+QV")).then(e=>e.ChangeAboutPageModule)},{path:"edit-profile-page",loadChildren:()=>o.e(62).then(o.bind(null,"J2g1")).then(e=>e.EditProfilePagePageModule)},{path:"change-about",loadChildren:()=>o.e(9).then(o.bind(null,"s+QV")).then(e=>e.ChangeAboutPageModule)},{path:"change-phone",loadChildren:()=>o.e(10).then(o.bind(null,"wpa0")).then(e=>e.ChangePhonePageModule)}];let d=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(g)],n.j]}),e})(),m=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[i.T,s.b,r.d,d,p.a,n.j.forChild([{path:"",component:b}])]]}),e})()},Aso2:function(e,t,o){"use strict";o.d(t,"a",function(){return g});var i=o("mrSG"),n=o("NuaS"),s=o("lGQG"),r=o("2Vo4"),a=o("JIr8"),l=o("AytR"),h=o("fXoL"),c=o("tk/3"),u=o("e8h1"),b=o("TEn/"),p=o("tyNb");let g=(()=>{class e{constructor(e,t,o,i,n,s,a){this.http=e,this.storage=t,this.alertController=o,this.helper=i,this.auth=n,this.router=s,this.toastController=a,this.BACKEND_URL=l.a.url,this.activeEmail="",this.fullName=new r.a(""),this.about=new r.a(""),this.city=new r.a(""),this.state=new r.a(""),this.zip=new r.a(""),this.gender=new r.a(""),this.dob=new r.a(""),this.school=new r.a(""),this.grade=new r.a(""),this.profilePicture=new r.a(""),this.resume=new r.a(""),this.email=new r.a(""),this.phone=new r.a(""),this.activeEmail=this.auth.user.email}getAllUsers(){return this.http.get(this.BACKEND_URL+"/api/home/user")}getUserDetails(){return this.http.post(this.BACKEND_URL+"/api/home/user",{email:this.activeEmail})}getTheirDetails(e){return this.http.post(this.BACKEND_URL+"/api/home/user/their-details",{email:e})}changeEmail(e,t){return this.http.post(this.BACKEND_URL+"/api/home/user/change-email",{oldEmail:this.activeEmail,email:e,password:t}).pipe(Object(a.a)(e=>{throw this.presentFailToast(this.activeEmail),new Error(e)})).subscribe(t=>{if(!0!==t)return this.presentFailToast(this.activeEmail),console.log("Passwords dont match");this.email.next(e),this.activeEmail=e,this.router.navigate(["/home/profile"]),this.presentSuccessToast()})}changePhone(e,t){return this.http.post(this.BACKEND_URL+"/api/home/user/change-phone",{email:this.email,newPhone:e,password:t}).pipe(Object(a.a)(e=>{throw this.presentFailToast(this.activeEmail),new Error(e)})).subscribe(t=>{if(!0!==t)return this.presentFailToast(this.activeEmail),console.log("Passwords dont match");this.phone.next(e),this.phone=e,this.router.navigate(["/home/profile"]),this.presentSuccessToast()})}presentSuccessToast(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(e=>e.present())}presentFailToast(e){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of "+e,duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(e=>e.present())}changePassword(e,t,o,n){return Object(i.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-password",{oldPassword:t,email:e,newPassword:o,reTypeNewPassword:n}).subscribe(e=>{!0===e?(console.log("TRUE"),this.router.navigate([""]),this.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(e=>e.present())):console.log("Passwords dont match!")})})}changeAbout(e,t,o){return Object(i.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-about",{email:e,newAbout:t,passsword:o}).subscribe()})}changeSchool(e,t,o,n){return Object(i.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:e,newSchool:t,newGrade:o,password:n}).subscribe(e=>{if(!0!==e)return this.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(e=>e.present()),console.log("Passwords dont match");this.school.next(t),this.grade.next(o),this.router.navigate(["/home/profile"]),this.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(e=>e.present())})})}changeProfilePicture(e,t){return Object(i.a)(this,void 0,void 0,function*(){return this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",{imageForm:e,oldPhotoKey:t}).subscribe()})}changeResume(e,t,o){return Object(i.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:e,newResume:t,password:o}).subscribe(e=>{if(!0!==e)return console.log("Passwords dont match");console.log("Changing Resume..."),this.resume.next(t),this.router.navigate(["/home/user/change-school/:school/:grade/confirm"])})})}delete(){console.log("Deleted User")}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(c.b),h.Qb(u.b),h.Qb(b.a),h.Qb(n.b),h.Qb(s.a),h.Qb(p.f),h.Qb(b.eb))},e.\u0275prov=h.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);