(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"7CaW":function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class t{}var o=e("pMnS"),s=e("oBZk"),i=e("ZZ/e"),a=e("s7LF"),r=e("mrSG"),b=e("lGQG");class c{constructor(l,n,e,u,t){this.router=l,this.formBuilder=n,this.auth=e,this.activatedRoute=u,this.toast=t,this.disabled=!0,this.code="",this.userEmail=""}ngOnInit(){this.enterCodeForm=this.formBuilder.group({code:["",[a.p.required,a.p.maxLength(6)]]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),this.generateCode(6).then(l=>{console.log(`Sent Email to ${this.userEmail}`),this.auth.sendEmailWithCode(l,this.userEmail)}),this.formOnChanges()}formOnChanges(){console.log(this.enterCodeForm),this.enterCodeForm.valueChanges.subscribe(l=>{console.log(l),l.code===this.code&&(console.log("codes match"),this.disabled=!1),l.code!==this.code&&(this.disabled=!0)})}generateCode(l){return r.b(this,void 0,void 0,(function*(){let n="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=e.length;for(let t=0;t<l;t++)n+=e.charAt(Math.floor(Math.random()*u));return console.log("Generated Code: "+n),this.code=n}))}sendNewCode(){return r.b(this,void 0,void 0,(function*(){yield this.generateCode(6).then(l=>{console.log("Data: "+l),this.auth.sendEmailWithCode(l,this.userEmail)}),yield this.presentNewCodeToast(this.userEmail)}))}thankYouPage(){this.enterCodeForm.controls.code.value!==this.code&&(this.presentErrorToast(),console.log("Codes do not match")),console.log("Thank you page"),this.auth.register(),this.router.navigate(["/personal-info/profile-picture/upload-resume/login-credentials/enter-code/:email/thank-you-page"])}presentErrorToast(){return r.b(this,void 0,void 0,(function*(){(yield this.toast.create({message:"The codes do not match. Please try again.",duration:2e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"})).present()}))}presentNewCodeToast(l){return r.b(this,void 0,void 0,(function*(){(yield this.toast.create({message:`New Code sent to ${l}`,duration:2e3,cssClass:"success-toast",keyboardClose:!0,position:"top"})).present()}))}cancel(){console.log("Sign up cancelled"),this.router.navigate([""])}}var d=e("iInd"),h=u.zb({encapsulation:0,styles:[["ion-title[_ngcontent-%COMP%]{margin:0}.cancel-button[_ngcontent-%COMP%]{margin:0 10px}h6.text-header[_ngcontent-%COMP%]{margin:30px auto;padding:unset}.send-new-code[_ngcontent-%COMP%]{display:block;--background:none;color:#005191;--border-color:#005191;--border-width:1px;--border-style:solid;border:1px;width:150px;margin:50px auto;opacity:0;-webkit-animation:1s ease-out 5s forwards slide-from-right;animation:1s ease-out 5s forwards slide-from-right}span[_ngcontent-%COMP%]{font-weight:900;font-size:1em;color:#005191}@-webkit-keyframes slide-from-right{0%{transform:translateX(300px);opacity:0}100%{transform:translateX(0);opacity:1}}@keyframes slide-from-right{0%{transform:translateX(300px);opacity:0}100%{transform:translateX(0);opacity:1}}"]],data:{}});function p(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,9,"ion-header",[["class","ion-hide-lg-up"]],null,null,null,s.cb,s.r)),u.Ab(1,49152,null,0,i.C,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,7,"ion-toolbar",[],null,null,null,s.vb,s.K)),u.Ab(3,49152,null,0,i.Db,[u.j,u.p,u.F],null,null),(l()(),u.Bb(4,0,null,0,2,"ion-title",[],null,null,null,s.ub,s.J)),u.Ab(5,49152,null,0,i.Bb,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,["Enter Code"])),(l()(),u.Bb(7,0,null,0,2,"ion-button",[["class","cancel-button"],["slot","end"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.cancel()&&u),u}),s.O,s.d)),u.Ab(8,49152,null,0,i.l,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,[" Cancel "])),(l()(),u.Bb(10,0,null,null,49,"ion-content",[],null,null,null,s.W,s.l)),u.Ab(11,49152,null,0,i.v,[u.j,u.p,u.F],null,null),(l()(),u.Bb(12,0,null,0,47,"ion-grid",[["class","ion-text-center"]],null,null,null,s.bb,s.q)),u.Ab(13,49152,null,0,i.B,[u.j,u.p,u.F],null,null),(l()(),u.Bb(14,0,null,0,10,"ion-row",[["class","ion-hide-md-down"],["style","margin: 5% 0% 3% 0%;"]],null,null,null,s.kb,s.z)),u.Ab(15,49152,null,0,i.kb,[u.j,u.p,u.F],null,null),(l()(),u.Bb(16,0,null,0,3,"ion-col",[["offset","2.5"],["size","2.5"]],null,null,null,s.V,s.k)),u.Ab(17,49152,null,0,i.u,[u.j,u.p,u.F],{offset:[0,"offset"],size:[1,"size"]},null),(l()(),u.Bb(18,0,null,0,1,"h1",[],null,null,null,null,null)),(l()(),u.Tb(-1,null,["Enter Code"])),(l()(),u.Bb(20,0,null,0,4,"ion-col",[["push","2.5"],["size","2"]],null,null,null,s.V,s.k)),u.Ab(21,49152,null,0,i.u,[u.j,u.p,u.F],{push:[0,"push"],size:[1,"size"]},null),(l()(),u.Bb(22,0,null,0,2,"ion-button",[["class","back-button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.cancel()&&u),u}),s.O,s.d)),u.Ab(23,49152,null,0,i.l,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,[" Cancel "])),(l()(),u.Bb(25,0,null,0,4,"ion-row",[["class","ion-justify-content-center ion-hide-md-down"]],null,null,null,s.kb,s.z)),u.Ab(26,49152,null,0,i.kb,[u.j,u.p,u.F],null,null),(l()(),u.Bb(27,0,null,0,2,"ion-col",[["size","10"]],null,null,null,s.V,s.k)),u.Ab(28,49152,null,0,i.u,[u.j,u.p,u.F],{size:[0,"size"]},null),(l()(),u.Bb(29,0,null,0,0,"hr",[["style","background-color: #00000044;"]],null,null,null,null,null)),(l()(),u.Bb(30,0,null,0,29,"ion-row",[["class","ion-justify-content-center"]],null,null,null,s.kb,s.z)),u.Ab(31,49152,null,0,i.kb,[u.j,u.p,u.F],null,null),(l()(),u.Bb(32,0,null,0,27,"ion-col",[["size-lg","6"],["size-md","8"],["size-xs","11"]],null,null,null,s.V,s.k)),u.Ab(33,49152,null,0,i.u,[u.j,u.p,u.F],null,null),(l()(),u.Bb(34,0,null,0,3,"h6",[["class","text-header"]],null,null,null,null,null)),(l()(),u.Tb(-1,null,["Please enter the 6 character code that was sent to "])),(l()(),u.Bb(36,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Tb(37,null,["",""])),(l()(),u.Bb(38,0,null,0,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0,o=l.component;return"submit"===n&&(t=!1!==u.Nb(l,40).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Nb(l,40).onReset()&&t),"ngSubmit"===n&&(t=!1!==o.thankYouPage()&&t),t}),null,null)),u.Ab(39,16384,null,0,a.t,[],null,null),u.Ab(40,540672,null,0,a.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Qb(2048,null,a.a,null,[a.d]),u.Ab(42,16384,null,0,a.l,[[4,a.a]],null,null),(l()(),u.Bb(43,0,null,null,16,"ion-list",[["class","line-input"]],null,null,null,s.hb,s.w)),u.Ab(44,49152,null,0,i.P,[u.j,u.p,u.F],null,null),(l()(),u.Bb(45,0,null,0,8,"ion-item",[],null,null,null,s.fb,s.u)),u.Ab(46,49152,null,0,i.I,[u.j,u.p,u.F],null,null),(l()(),u.Bb(47,0,null,0,6,"ion-input",[["formControlName","code"],["placeholder","enter code"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0;return"ionBlur"===n&&(t=!1!==u.Nb(l,48)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Nb(l,48)._handleInputEvent(e.target)&&t),t}),s.eb,s.t)),u.Ab(48,16384,null,0,i.Pb,[u.p],null,null),u.Qb(1024,null,a.i,(function(l){return[l]}),[i.Pb]),u.Ab(50,671744,null,0,a.c,[[3,a.a],[8,null],[8,null],[6,a.i],[2,a.s]],{name:[0,"name"]},null),u.Qb(2048,null,a.j,null,[a.c]),u.Ab(52,16384,null,0,a.k,[[4,a.j]],null,null),u.Ab(53,49152,null,0,i.H,[u.j,u.p,u.F],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),u.Bb(54,0,null,0,2,"ion-button",[["class","send-new-code"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.sendNewCode()&&u),u}),s.O,s.d)),u.Ab(55,49152,null,0,i.l,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,[" Send new code "])),(l()(),u.Bb(57,0,null,0,2,"ion-button",[["class","orange-button"],["type","submit"]],null,null,null,s.O,s.d)),u.Ab(58,49152,null,0,i.l,[u.j,u.p,u.F],{disabled:[0,"disabled"],type:[1,"type"]},null),(l()(),u.Tb(-1,0,[" ENTER CODE "]))],(function(l,n){var e=n.component;l(n,17,0,"2.5","2.5"),l(n,21,0,"2.5","2"),l(n,28,0,"10"),l(n,40,0,e.enterCodeForm),l(n,50,0,"code"),l(n,53,0,"enter code","email"),l(n,58,0,e.disabled,"submit")}),(function(l,n){l(n,37,0,n.component.userEmail),l(n,38,0,u.Nb(n,42).ngClassUntouched,u.Nb(n,42).ngClassTouched,u.Nb(n,42).ngClassPristine,u.Nb(n,42).ngClassDirty,u.Nb(n,42).ngClassValid,u.Nb(n,42).ngClassInvalid,u.Nb(n,42).ngClassPending),l(n,47,0,u.Nb(n,52).ngClassUntouched,u.Nb(n,52).ngClassTouched,u.Nb(n,52).ngClassPristine,u.Nb(n,52).ngClassDirty,u.Nb(n,52).ngClassValid,u.Nb(n,52).ngClassInvalid,u.Nb(n,52).ngClassPending)}))}function g(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"app-enter-code",[],null,null,null,p,h)),u.Ab(1,114688,null,0,c,[d.m,a.b,b.a,d.a,i.Qb],null,null)],(function(l,n){l(n,1,0)}),null)}var m=u.xb("app-enter-code",c,g,{},{},[]),C=e("SVse");const f=()=>e.e(34).then(e.bind(null,"yNHi")).then(l=>l.ThankYouPageModuleNgFactory);class k{}e.d(n,"EnterCodePageModuleNgFactory",(function(){return y}));var y=u.yb(t,[],(function(l){return u.Kb([u.Lb(512,u.m,u.jb,[[8,[o.a,m]],[3,u.m],u.D]),u.Lb(4608,C.l,C.k,[u.z,[2,C.s]]),u.Lb(4608,a.r,a.r,[]),u.Lb(4608,i.c,i.c,[u.F,u.g]),u.Lb(4608,i.Ib,i.Ib,[i.c,u.m,u.w]),u.Lb(4608,i.Mb,i.Mb,[i.c,u.m,u.w]),u.Lb(4608,a.b,a.b,[]),u.Lb(1073742336,C.c,C.c,[]),u.Lb(1073742336,a.q,a.q,[]),u.Lb(1073742336,a.e,a.e,[]),u.Lb(1073742336,i.Fb,i.Fb,[]),u.Lb(1073742336,a.n,a.n,[]),u.Lb(1073742336,d.q,d.q,[[2,d.v],[2,d.m]]),u.Lb(1073742336,k,k,[]),u.Lb(1073742336,t,t,[]),u.Lb(1024,d.k,(function(){return[[{path:"",component:c},{path:"thank-you-page",loadChildren:f}]]}),[])])}))}}]);