(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{PJsJ:function(o,s,n){"use strict";n.r(s),n.d(s,"NewPasswordPageModule",function(){return g});var t=n("ofXK"),e=n("3Pt+"),a=n("TEn/"),r=n("tyNb"),i=n("mrSG"),c=n("lGQG"),d=n("AytR"),b=n("fXoL");function l(o,s){1&o&&(b.Mb(0,"ion-button",24),b.Ib(1,"ion-icon",25),b.Lb())}function w(o,s){1&o&&(b.Mb(0,"ion-button",26),b.Ib(1,"ion-icon",27),b.Lb())}function u(o,s){1&o&&(b.Mb(0,"ion-button",24),b.Ib(1,"ion-icon",25),b.Lb())}function h(o,s){1&o&&(b.Mb(0,"ion-button",26),b.Ib(1,"ion-icon",27),b.Lb())}const p=[{path:"",component:(()=>{class o{constructor(o,s,n,t,e){this.formBuilder=o,this.router=s,this.auth=n,this.activatedRoute=t,this.toast=e,this.BACKEND_URL=d.a.url,this.passwordsMatch=!1,this.validationMessasges={password:[{type:"password",message:"Please enter a valid password."}]}}ngOnInit(){this.newPasswordForm=this.formBuilder.group({newPassword:["",e.n.required],reTypeNewPassword:["",e.n.required]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),console.log("Email: "+this.userEmail),this.formOnChanges()}formOnChanges(){console.log(this.newPasswordForm),this.newPasswordForm.valueChanges.subscribe(o=>{console.log(o),this.newPasswordForm.statusChanges.subscribe(o=>{console.log(o)}),console.log(this.newPasswordForm.controls.newPassword.value),console.log(this.newPasswordForm.controls.reTypeNewPassword.value),this.newPasswordForm.controls.newPassword.value===this.newPasswordForm.controls.reTypeNewPassword.value&&this.newPasswordForm.controls.newPassword.touched&&(this.passwordsMatch=!0,console.log("Passwords Match"),this.passwordMatchToast()),this.newPasswordForm.controls.newPassword.value!==this.newPasswordForm.controls.reTypeNewPassword.value&&(console.log("Passwords DONT Match"),this.passwordsMatch=!1)})}goToConfirmPage(){return Object(i.a)(this,void 0,void 0,function*(){const o=this.userEmail;let s=this.newPasswordForm.value.newPassword;if(s!==this.newPasswordForm.value.reTypeNewPassword)return this.presentToast(),console.log("passwords do not match");yield this.auth.forgotPassword(o,s),yield console.log("Going to Confirm Password Change Page"),yield this.router.navigate(["/enter-email/enter-code/:email/new-password/:email/confirm"])})}presentToast(){return Object(i.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"The two passwords you entered do not match. Please try again.",duration:2e3})).present()})}passwordMatchToast(){return Object(i.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"Passwords Match!",cssClass:"success-toast",duration:2e3})).present()})}cancel(){console.log("Forgotten password cancelled"),this.router.navigate([""])}back(){this.router.navigate(["/enter-email/enter-code"])}}return o.\u0275fac=function(s){return new(s||o)(b.Hb(e.a),b.Hb(r.g),b.Hb(c.a),b.Hb(r.a),b.Hb(a.eb))},o.\u0275cmp=b.Bb({type:o,selectors:[["app-new-password"]],decls:39,vars:6,consts:[[1,"ion-hide-lg-up"],["mode","md"],["slot","start"],["size","small"],[1,"spacer","ion-hide-lg-down"],[1,"ion-text-center"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["height","50","src","../../../../../assets/icon/Logo 2.0.svg","alt","","srcset",""],["slot","end"],[1,"back-button",3,"click"],[1,"ion-justify-content-center"],["size","12"],[1,"text-header"],["size-xs","11","size-sm","10","size-md","10","size-lg","6","size-xl","4"],[3,"formGroup","ngSubmit"],[1,"line-input"],["placeholder","Password","formControlName","newPassword","type","password"],["class","badPassword","item-right","",4,"ngIf"],["class","goodPassword","item-right","",4,"ngIf"],["placeholder","Re-type Password","formControlName","reTypeNewPassword","type","password"],["type","submit",1,"orange-button",3,"disabled"],["slot","end",1,"cancel-button",3,"click"],["item-right","",1,"badPassword"],["name","close",2,"color","#FF443B"],["item-right","",1,"goodPassword"],["name","checkmark",2,"color","#21df82"]],template:function(o,s){1&o&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar",1),b.Mb(2,"ion-buttons",2),b.Ib(3,"ion-back-button"),b.Lb(),b.Mb(4,"ion-title",3),b.nc(5,"Create New Password"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.Ib(7,"div",4),b.Mb(8,"ion-grid",5),b.Mb(9,"ion-row",6),b.Mb(10,"ion-col",7),b.Mb(11,"ion-toolbar",8),b.Mb(12,"ion-buttons",2),b.Ib(13,"img",9),b.Lb(),b.Mb(14,"ion-buttons",10),b.Mb(15,"ion-button",11),b.Ub("click",function(){return s.back()}),b.nc(16," Back "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(17,"ion-row",12),b.Mb(18,"ion-col",13),b.Mb(19,"h6",14),b.nc(20,"Please enter your new password. Your password needs to be "),b.Mb(21,"span"),b.nc(22,"at least 8 characters long, with at least 1 uppercase letter and one number."),b.Lb(),b.Lb(),b.Lb(),b.Mb(23,"ion-col",15),b.Mb(24,"form",16),b.Ub("ngSubmit",function(){return s.goToConfirmPage()}),b.Mb(25,"ion-list",17),b.Mb(26,"ion-item"),b.Ib(27,"ion-input",18),b.mc(28,l,2,0,"ion-button",19),b.mc(29,w,2,0,"ion-button",20),b.Lb(),b.Mb(30,"ion-item"),b.Ib(31,"ion-input",21),b.mc(32,u,2,0,"ion-button",19),b.mc(33,h,2,0,"ion-button",20),b.Lb(),b.Mb(34,"ion-button",22),b.nc(35,"NEXT"),b.Lb(),b.Ib(36,"br"),b.Mb(37,"ion-button",23),b.Ub("click",function(){return s.cancel()}),b.nc(38," cancel "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&o&&(b.xb(24),b.Zb("formGroup",s.newPasswordForm),b.xb(4),b.Zb("ngIf",!s.passwordsMatch),b.xb(1),b.Zb("ngIf",s.passwordsMatch),b.xb(3),b.Zb("ngIf",!s.passwordsMatch),b.xb(1),b.Zb("ngIf",s.passwordsMatch),b.xb(1),b.Zb("disabled",!s.passwordsMatch))},directives:[a.u,a.S,a.h,a.e,a.f,a.R,a.o,a.t,a.I,a.n,a.g,e.o,e.j,e.c,a.C,a.x,a.w,a.db,e.i,e.b,t.j,a.v],styles:[".desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid rgba(51,51,51,.14901960784313725)}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0c375f);height:24px;--border-radius:5px;width:100px;font-size:.5em;font-weight:600;display:block}span[_ngcontent-%COMP%]{font-weight:900;color:#e4405f}.cancel-button[_ngcontent-%COMP%]{color:#e4405f;--background:none;--background-hover:linear-gradient(#f15b77,#e4405f);height:40px;width:200px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.badPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in .5s forwards;animation:password-icons 1s ease-in .5s forwards}.badPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in forwards;animation:password-icons 1s ease-in forwards}.goodPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in .5s forwards;animation:password-icons 1s ease-in .5s forwards}.goodPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:password-icons 1s ease-in forwards;animation:password-icons 1s ease-in forwards}@-webkit-keyframes password-icons{0%{transform:translateX(50px)}to{transform:translateX(0);opacity:1}}@keyframes password-icons{0%{transform:translateX(50px)}to{transform:translateX(0);opacity:1}}"]}),o})()},{path:"confirm",loadChildren:()=>n.e(26).then(n.bind(null,"mDKk")).then(o=>o.ConfirmPageModule)}];let m=(()=>{class o{}return o.\u0275mod=b.Fb({type:o}),o.\u0275inj=b.Eb({factory:function(s){return new(s||o)},imports:[[r.k.forChild(p)],r.k]}),o})(),g=(()=>{class o{}return o.\u0275mod=b.Fb({type:o}),o.\u0275inj=b.Eb({factory:function(s){return new(s||o)},imports:[[t.b,e.d,e.l,a.T,m]]}),o})()}}]);