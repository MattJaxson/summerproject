!function(){function n(n,t){var o;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(o=function(n,t){if(!n)return;if("string"==typeof n)return i(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);"Object"===o&&n.constructor&&(o=n.constructor.name);if("Map"===o||"Set"===o)return Array.from(n);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(n,t)}(n))||t&&n&&"number"==typeof n.length){o&&(n=o);var e=0,c=function(){};return{s:c,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){o=n[Symbol.iterator]()},n:function(){var n=o.next();return r=n.done,n},e:function(n){s=!0,a=n},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw a}}}}function i(n,i){(null==i||i>n.length)&&(i=n.length);for(var t=0,o=new Array(i);t<i;t++)o[t]=n[t];return o}function t(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function o(n,i){for(var t=0;t<i.length;t++){var o=i[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{kVc8:function(i,e,c){"use strict";c.r(e),c.d(e,"NotificationsPageModule",function(){return x});var a=c("ofXK"),r=c("3Pt+"),s=c("TEn/"),l=c("tyNb"),f=c("KWWs"),b=c("Aso2"),u=c("7xvl"),g=c("fXoL");function d(n,i){1&n&&(g.Mb(0,"ion-row",5),g.Mb(1,"ion-col",6),g.Mb(2,"h3",7),g.nc(3,"You have no notifications"),g.Lb(),g.Ib(4,"img",8),g.Lb(),g.Lb())}function m(n,i){if(1&n){var t=g.Nb();g.Mb(0,"ion-item-sliding",11),g.Ub("click",function(){return g.gc(t),g.Wb(2).goTo()}),g.Mb(1,"ion-item"),g.Mb(2,"ion-avatar"),g.Ib(3,"img",12),g.Lb(),g.Mb(4,"p",13),g.nc(5),g.Lb(),g.Mb(6,"p",14),g.nc(7),g.Lb(),g.Lb(),g.Mb(8,"ion-item-options",15),g.Mb(9,"ion-item-option",11),g.Ub("click",function(){g.gc(t);var n=i.$implicit;return g.Wb(2).delete(n)}),g.nc(10,"Delete"),g.Lb(),g.Lb(),g.Lb()}if(2&n){var o=i.$implicit;g.xb(3),g.Zb("src",o.instigatingUserProfilePicture,g.ic),g.xb(2),g.oc(o.message),g.xb(2),g.oc(o.date)}}function p(n,i){if(1&n&&(g.Mb(0,"ion-row",5),g.Mb(1,"ion-col",9),g.Mb(2,"ion-list"),g.mc(3,m,11,3,"ion-item-sliding",10),g.Lb(),g.Lb(),g.Lb()),2&n){var t=g.Wb();g.xb(3),g.Zb("ngForOf",t.allNotifications)}}var y,v,h,M=[{path:"",component:(y=function(){function i(n,o){t(this,i),this.notifications=n,this.profile=o}var e,c,a;return e=i,(c=[{key:"ngAfterContentChecked",value:function(){console.log("Notification Added on backend")}},{key:"ngOnDestroy",value:function(){this.notificationsSub.unsubscribe()}},{key:"ngOnInit",value:function(){var i=this;this.initSub=this.profile.getUserDetails().subscribe(function(t){i.userEmail=t.email,console.log(i.userEmail),i.notificationsSub=i.notifications.getNotifications(i.userEmail).subscribe(function(t){console.log(t),i.notifications.notifications$.next(Object.values(t)),i.notifications.notifications$.subscribe(function(t){i.allNotifications=Object.values(t);var o,e=n(i.allNotifications);try{for(e.s();!(o=e.n()).done;){var c=o.value;c.date=Object(u.a)(new Date(c.date),{includeSeconds:!0,addSuffix:!1})}}catch(a){e.e(a)}finally{e.f()}})})})}},{key:"clear",value:function(){var i=this;this.notifications.clearNotifications(this.userEmail).subscribe(function(t){i.notificationsSub=i.notifications.getNotifications(i.userEmail).subscribe(function(t){console.log(t),i.notifications.notifications$.next(Object.values(t)),i.notifications.notifications$.subscribe(function(t){i.allNotifications=Object.values(t);var o,e=n(i.allNotifications);try{for(e.s();!(o=e.n()).done;){var c=o.value;c.date=Object(u.a)(new Date(c.date),{includeSeconds:!0,addSuffix:!1})}}catch(a){e.e(a)}finally{e.f()}})})})}},{key:"goTo",value:function(){console.log("Going to page from notification")}},{key:"delete",value:function(n){console.log("Deleting notification")}}])&&o(e.prototype,c),a&&o(e,a),i}(),y.\u0275fac=function(n){return new(n||y)(g.Hb(f.a),g.Hb(b.a))},y.\u0275cmp=g.Bb({type:y,selectors:[["app-notifications"]],decls:12,vars:2,consts:[[1,"ion-hide-lg-up"],["slot","start"],["slot","end"],[2,"--background","linear-gradient(rgba(6, 114, 196, 0.3), rgba(0, 81, 145, 0.2))","--color","#005191","margin-right","20px","width","80px",3,"click"],["class","ion-justify-content-center",4,"ngIf"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",1,"margin-top","ion-text-center"],["id","no-notifications"],["id","icon","src","../../../../assets/icons/no-notifications-icon.svg","alt",""],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"],["id","message"],["id","date"],["side","end"]],template:function(n,i){1&n&&(g.Mb(0,"ion-header",0),g.Mb(1,"ion-toolbar"),g.Mb(2,"ion-buttons",1),g.Ib(3,"ion-back-button"),g.Mb(4,"ion-title"),g.nc(5,"Notifications"),g.Lb(),g.Lb(),g.Mb(6,"ion-buttons",2),g.Mb(7,"ion-button",3),g.Ub("click",function(){return i.clear()}),g.nc(8," Clear "),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Mb(9,"ion-content"),g.mc(10,d,5,0,"ion-row",4),g.mc(11,p,4,1,"ion-row",4),g.Lb()),2&n&&(g.xb(10),g.Zb("ngIf",0==i.allNotifications),g.xb(1),g.Zb("ngIf",i.allNotifications>0))},directives:[s.u,s.S,s.h,s.e,s.f,s.R,s.g,s.o,a.j,s.I,s.n,s.C,a.i,s.A,s.x,s.d,s.z,s.y],styles:["p[_ngcontent-%COMP%]{font-size:.7em;margin-left:10px}#date[_ngcontent-%COMP%]{opacity:.5;display:inline-block}#icon[_ngcontent-%COMP%]{opacity:.2}#no-notifications[_ngcontent-%COMP%]{opacity:.3}.margin-top[_ngcontent-%COMP%]{margin-top:15%}.blue-button[_ngcontent-%COMP%]{width:100px}"]}),y)}],w=((h=function n(){t(this,n)}).\u0275mod=g.Fb({type:h}),h.\u0275inj=g.Eb({factory:function(n){return new(n||h)},imports:[[l.j.forChild(M)],l.j]}),h),x=((v=function n(){t(this,n)}).\u0275mod=g.Fb({type:v}),v.\u0275inj=g.Eb({factory:function(n){return new(n||v)},imports:[[a.b,r.d,s.T,w]]}),v)}}])}();