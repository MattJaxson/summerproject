!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/h9T":function(e,t,n){"use strict";function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",function(){return o})},lBow:function(t,o,i){"use strict";i.r(o),i.d(o,"ApplyPageModule",function(){return J});var r=i("ofXK"),a=i("3Pt+"),c=i("TEn/"),s=i("tyNb"),u=i("mrSG"),l=i("sgUz"),b=i("Aso2"),m=i("/Tr7"),p=i("jIYg");function f(e,t){Object(p.a)(2,arguments);var n=Object(m.a)(e),o=Object(m.a)(t);return n.getFullYear()-o.getFullYear()}var d=i("JhOC"),h=i("/h9T"),g={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},y=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,M=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,v=/^([+-])(\d{2})(?::?(\d{2}))?$/;function w(e){var t,n={},o=e.split(g.dateTimeDelimiter);if(o.length>2)return n;if(/:/.test(o[0])?(n.date=null,t=o[0]):(n.date=o[0],t=o[1],g.timeZoneDelimiter.test(n.date)&&(n.date=e.split(g.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=g.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function k(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(n);if(!o)return{year:null};var i=o[1]&&parseInt(o[1]),r=o[2]&&parseInt(o[2]);return{year:null==r?i:100*r,restDateString:e.slice((o[1]||o[2]).length)}}function x(e,t){if(null===t)return null;var n=e.match(y);if(!n)return null;var o=!!n[4],i=L(n[1]),r=L(n[2])-1,a=L(n[3]),c=L(n[4]),s=L(n[5])-1;if(o)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,c,s)?function(e,t,n){var o=new Date(0);o.setUTCFullYear(e,0,4);var i=7*(t-1)+n+1-(o.getUTCDay()||7);return o.setUTCDate(o.getUTCDate()+i),o}(t,c,s):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(z[t]||(U(e)?29:28))}(t,r,a)&&function(e,t){return t>=1&&t<=(U(e)?366:365)}(t,i)?(u.setUTCFullYear(t,r,Math.max(i,a)),u):new Date(NaN)}function L(e){return e?parseInt(e):1}function j(e){var t=e.match(M);if(!t)return null;var n=N(t[1]),o=N(t[2]),i=N(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,o,i)?36e5*n+6e4*o+1e3*i:NaN}function N(e){return e&&parseFloat(e.replace(",","."))||0}function C(e){if("Z"===e)return 0;var t=e.match(v);if(!t)return 0;var n="+"===t[1]?-1:1,o=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(36e5*o+6e4*i):NaN}var z=[31,null,31,30,31,30,31,31,30,31,30,31];function U(e){return e%400==0||e%4==0&&e%100}var O,T=i("6e3a"),D=i("fXoL"),P=i("jhN1"),R=((O=function(){function t(n,o,i,r){e(this,t),this.router=n,this._modal=o,this.profile=i,this.domSanitizer=r}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.profile.getUserDetails().subscribe(function(t){console.log(t),e.profile.resume.next(t.resume)}),this.profile.resume.subscribe(function(t){e.resume=t})}},{key:"sanitizeImageUrl",value:function(e){return this.domSanitizer.bypassSecurityTrustResourceUrl(e)}},{key:"back",value:function(){this.router.navigate(["/home/profile"])}},{key:"uploadResumeModal",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._modal.create({component:T.a,cssClass:"my-custom-class"});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"cancel",value:function(){this._modal.dismiss()}}]),t}()).\u0275fac=function(e){return new(e||O)(D.Hb(s.f),D.Hb(c.T),D.Hb(b.a),D.Hb(P.b))},O.\u0275cmp=D.Bb({type:O,selectors:[["app-view-resume"]],decls:27,vars:1,consts:[[1,"ion-hide-lg-up"],["slot","start",3,"click"],["slot","start","name","close"],[1,"toolbar-title"],[1,"ion-hide-md-down",2,"margin","5% 0% 3% 0%"],["push-lg","0.5","size","2"],["push-lg","6.4","size","6"],[1,"orange-button",2,"width","150px",3,"click"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center","ion-hide-md-down"],["size","11"],[2,"background-color","#666"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","11","size-md","11","size-lg","11",1,"ion-text-center"],["width","100%","height","700","type","application/pdf",3,"data"],[1,"orange-button","ion-hide-md-up",2,"width","150px",3,"click"]],template:function(e,t){1&e&&(D.Mb(0,"ion-header",0),D.Mb(1,"ion-toolbar"),D.Mb(2,"ion-buttons",1),D.Ub("click",function(){return t.cancel()}),D.Ib(3,"ion-icon",2),D.Mb(4,"p",3),D.mc(5,"View Resume"),D.Lb(),D.Lb(),D.Lb(),D.Lb(),D.Mb(6,"ion-content"),D.Mb(7,"ion-grid"),D.Mb(8,"ion-row",4),D.Mb(9,"ion-col",5),D.Mb(10,"h1"),D.mc(11,"View Resume"),D.Lb(),D.Lb(),D.Mb(12,"ion-col",6),D.Mb(13,"ion-button",7),D.Ub("click",function(){return t.uploadResumeModal()}),D.mc(14,"UPDATE"),D.Lb(),D.Mb(15,"ion-button",8),D.Ub("click",function(){return t.back()}),D.mc(16," Back "),D.Lb(),D.Lb(),D.Lb(),D.Mb(17,"ion-row",9),D.Mb(18,"ion-col",10),D.Ib(19,"hr",11),D.Lb(),D.Lb(),D.Mb(20,"ion-row",12),D.Mb(21,"ion-col",13),D.Mb(22,"h4"),D.mc(23,"You can View and Update your Resume here"),D.Lb(),D.Ib(24,"object",14),D.Lb(),D.Mb(25,"ion-button",15),D.Ub("click",function(){return t.uploadResumeModal()}),D.mc(26,"UPDATE"),D.Lb(),D.Lb(),D.Lb(),D.Lb()),2&e&&(D.xb(24),D.Zb("data",t.sanitizeImageUrl(t.resume),D.hc))},directives:[c.u,c.P,c.h,c.v,c.o,c.t,c.G,c.n,c.g],styles:["h4[_ngcontent-%COMP%]{margin:30px auto;color:#005191}.orange-button[_ngcontent-%COMP%]{position:relative;top:4px;right:20px;margin:30px 0 100px}"]}),O);function F(e,t){if(1&e){var n=D.Nb();D.Mb(0,"form",10),D.Mb(1,"ion-list",11),D.Mb(2,"div",12),D.Mb(3,"p",13),D.mc(4,"Phone Number"),D.Lb(),D.Mb(5,"ion-item"),D.Ib(6,"ion-input",14),D.Lb(),D.Lb(),D.Mb(7,"div",12),D.Mb(8,"p",13),D.mc(9,"Resume"),D.Lb(),D.Mb(10,"ion-button",15),D.Ub("click",function(){return D.gc(n),D.Wb().viewResumeModal()}),D.mc(11," View Resume "),D.Lb(),D.Mb(12,"ion-input",16),D.Mb(13,"label",17),D.mc(14,"Upload Resume"),D.Lb(),D.Lb(),D.Lb(),D.Mb(15,"div",12),D.Mb(16,"p",13),D.mc(17,"Why are you a good fit for this job?"),D.Lb(),D.Mb(18,"ion-textarea",18),D.Ub("keydown.control.enter",function(){return D.gc(n),D.Wb().finishApplication()}),D.Lb(),D.Lb(),D.Lb(),D.Ib(19,"p"),D.Mb(20,"ion-row"),D.Mb(21,"ion-col",19),D.Mb(22,"ion-button",20),D.Ub("click",function(){return D.gc(n),D.Wb().finishApplication()}),D.mc(23,"Submit"),D.Lb(),D.Mb(24,"ion-button",21),D.Ub("click",function(){return D.gc(n),D.Wb().goBack()}),D.mc(25," Go Back"),D.Lb(),D.Lb(),D.Lb(),D.Lb()}if(2&e){var o=D.Wb();D.Zb("formGroup",o.applyPageForm)}}var E,I,_,A,S,H=[{path:"",component:(E=function(){function t(n,o,i,r,a,c,s){e(this,t),this.router=n,this.activatedRoute=o,this.jobs=i,this.profile=r,this.formBuilder=a,this.location=c,this.modal=s}return n(t,[{key:"ngOnDestroy",value:function(){this.profileSub.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this,t=this.activatedRoute.snapshot.paramMap.get("title"),n=this.activatedRoute.snapshot.paramMap.get("companyName"),o=this.activatedRoute.snapshot.paramMap.get("companyEmail");this.jobTitle=t,this.jobCompanyName=n,this.jobCompanyEmail=o,this.profileSub=this.profile.getUserDetails().subscribe(function(t){e.user=t,e.age=function(e,t){Object(p.a)(2,arguments);var n=Object(m.a)(e),o=Object(m.a)(t),i=Object(d.a)(n,o),r=Math.abs(f(n,o));n.setFullYear("1584"),o.setFullYear("1584");var a=Object(d.a)(n,o)===-i,c=i*(r-a);return 0===c?0:c}(Date.now(),function(e,t){Object(p.a)(1,arguments);var n=t||{},o=null==n.additionalDigits?2:Object(h.a)(n.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,r=w(e);if(r.date){var a=k(r.date,o);i=x(a.restDateString,a.year)}if(isNaN(i)||!i)return new Date(NaN);var c,s=i.getTime(),u=0;if(r.time&&(u=j(r.time),isNaN(u)||null===u))return new Date(NaN);if(!r.timezone){var l=new Date(s+u),b=new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds());return b.setFullYear(l.getUTCFullYear()),b}return c=C(r.timezone),isNaN(c)?new Date(NaN):new Date(s+u+c)}(t.dob)),console.log("User's age: ",e.age),e.populateForm(e.user.phone)})}},{key:"goBack",value:function(){this.location.back()}},{key:"populateForm",value:function(e){this.applyPageForm=this.formBuilder.group({phoneNumber:[e,a.n.compose([a.n.required,a.n.maxLength(10)])],reasonTextArea:["",a.n.compose([a.n.maxLength(2500)])]})}},{key:"uploadResume",value:function(){console.log("Uploading Resume")}},{key:"viewResumeModal",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modal.create({component:R,cssClass:"my-custom-class"});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"sendConfirmationEmail",value:function(){console.log("Sending confirmation email to Users email address")}},{key:"finishApplication",value:function(){this.reason=this.applyPageForm.value.reasonTextArea,this.phoneNumber=this.applyPageForm.value.phoneNumber,console.log("Reason: ",this.reason),this.sendAppSub=this.jobs.sendEmailApplication(this.user,this.age,this.phoneNumber,this.reason,this.jobTitle,this.jobCompanyEmail).subscribe(),this.router.navigate(["/home/jobs/job-page/:id/:title/:companyName/:companyEmail/:summary/:fullJobDescription/:rateOfPay/apply/:title/:companyEmail/:companyName/apply-confirm/",this.jobTitle,this.jobCompanyName,this.jobCompanyEmail])}}]),t}(),E.\u0275fac=function(e){return new(e||E)(D.Hb(s.f),D.Hb(s.a),D.Hb(l.a),D.Hb(b.a),D.Hb(a.a),D.Hb(r.f),D.Hb(c.T))},E.\u0275cmp=D.Bb({type:E,selectors:[["app-apply"]],decls:22,vars:3,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","8","size-lg","10"],[1,"company-logo",2,"height","80px","width","80px"],[1,"job-title"],[1,"company-name"],[2,"color","#0055a5","font-weight","600","font-size","1.2em","margin","0"],[1,"ion-justify-content-center",2,"margin","20px auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"line-input"],[1,"info-section"],[1,"instructions"],["formControlName","phoneNumber","maxlength","10","inputmode","tel"],[1,"blue-button",2,"height","45px",3,"click"],["type","file",1,"custom-file-input"],[2,"margin-right","10px"],["formControlName","reasonTextArea","maxlength","2500","rows","15","placeholder","Add message here - 2500 characters max",2,"background","#d1d8e0",3,"keydown.control.enter"],["size","12",1,"ion-text-center"],[1,"orange-button","next-button",3,"click"],[1,"ion-hide-md-down","blue-button",3,"click"]],template:function(e,t){1&e&&(D.Mb(0,"ion-header",0),D.Mb(1,"ion-toolbar"),D.Mb(2,"ion-buttons",1),D.Ib(3,"ion-back-button"),D.Lb(),D.Mb(4,"ion-title"),D.mc(5,"Job Page"),D.Lb(),D.Lb(),D.Lb(),D.Mb(6,"ion-content"),D.Mb(7,"ion-grid"),D.Mb(8,"ion-row",2),D.Mb(9,"ion-col",3),D.Ib(10,"div",4),D.Mb(11,"h1",5),D.mc(12),D.Lb(),D.Mb(13,"h2",6),D.mc(14),D.Lb(),D.Lb(),D.Lb(),D.Mb(15,"ion-row",2),D.Mb(16,"ion-col",3),D.Mb(17,"p",7),D.mc(18,"Please go over your information before you send your application."),D.Lb(),D.Lb(),D.Lb(),D.Mb(19,"ion-row",8),D.Mb(20,"ion-col",3),D.lc(21,F,26,1,"form",9),D.Lb(),D.Lb(),D.Lb(),D.Lb()),2&e&&(D.xb(12),D.nc(t.jobTitle),D.xb(2),D.nc(t.jobCompanyName),D.xb(7),D.Zb("ngIf",t.applyPageForm))},directives:[c.u,c.P,c.h,c.e,c.f,c.O,c.o,c.t,c.G,c.n,r.j,a.o,a.j,a.c,c.C,c.x,c.w,c.Y,a.i,a.b,a.e,c.g,c.N],styles:['ion-title[_ngcontent-%COMP%]{margin:0}.instructions[_ngcontent-%COMP%]{font-weight:600;line-height:1em;width:400px;color:#222;font-size:1.3em;border-radius:50px}.info-section[_ngcontent-%COMP%]{margin-bottom:60px}.company-logo[_ngcontent-%COMP%]{background-image:url(journi-logo.d1df781953a8e42a7e0f.png);background-repeat:no-repeat;background-size:contain;background-position:50%;opacity:0;-webkit-animation:logo-slide-in .5s cubic-bezier(.175,.885,.32,1.275) .5s forwards;animation:logo-slide-in .5s cubic-bezier(.175,.885,.32,1.275) .5s forwards}.job-title[_ngcontent-%COMP%]{font-size:2em;font-weight:900;margin-top:15px;margin-bottom:5px;opacity:0;color:#005191;-webkit-animation:header-slide-up .5s cubic-bezier(.175,.885,.32,1.275) .8s forwards;animation:header-slide-up .5s cubic-bezier(.175,.885,.32,1.275) .8s forwards}h2.company-name[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;opacity:0;-webkit-animation:header-slide-up .5s cubic-bezier(.175,.885,.32,1.275) 1.1s forwards;animation:header-slide-up .5s cubic-bezier(.175,.885,.32,1.275) 1.1s forwards}p[_ngcontent-%COMP%]{margin-top:25px;font-size:1.3em;color:#666}.custom-file-input[_ngcontent-%COMP%]{visibility:hidden}.custom-file-input[_ngcontent-%COMP%]:before{content:"Select some files";display:inline-block;background:linear-gradient(0deg,#f9f9f9,#e3e3e3);border:1px solid #999;border-radius:3px;padding:5px 8px;outline:none;white-space:nowrap;-webkit-user-select:none;cursor:pointer;text-shadow:1px 1px #fff;font-weight:700;font-size:10pt}.custom-file-input[_ngcontent-%COMP%]:hover:before{border-color:#000}.custom-file-input[_ngcontent-%COMP%]:active:before{background:-webkit-linear-gradient(0deg,#e3e3e3,#f9f9f9)}ion-label[_ngcontent-%COMP%]{margin-top:25px;font-size:1.3em;color:#666}']}),E)},{path:"apply-confirm/:title/:companyName/:companyEmail",loadChildren:function(){return i.e(35).then(i.bind(null,"NCAH")).then(function(e){return e.ApplyConfirmPageModule})}}],Y=((I=function t(){e(this,t)}).\u0275mod=D.Fb({type:I}),I.\u0275inj=D.Eb({factory:function(e){return new(e||I)},imports:[[s.j.forChild(H)],s.j]}),I),B=[{path:"",component:R}],Z=((_=function t(){e(this,t)}).\u0275mod=D.Fb({type:_}),_.\u0275inj=D.Eb({factory:function(e){return new(e||_)},imports:[[s.j.forChild(B)],s.j]}),_),G=i("BD02"),W=((S=function t(){e(this,t)}).\u0275mod=D.Fb({type:S}),S.\u0275inj=D.Eb({factory:function(e){return new(e||S)},imports:[[r.b,a.d,c.Q,Z,G.UploadResumeModalPageModule]]}),S),J=((A=function t(){e(this,t)}).\u0275mod=D.Fb({type:A}),A.\u0275inj=D.Eb({factory:function(e){return new(e||A)},imports:[[r.b,a.d,a.l,c.Q,Y,W]]}),A)}}])}();