(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{kVc8:function(i,t,n){"use strict";n.r(t),n.d(t,"NotificationsPageModule",function(){return m});var o=n("ofXK"),e=n("3Pt+"),c=n("TEn/"),s=n("tyNb"),a=n("KWWs"),b=n("Aso2"),l=n("7xvl"),r=n("fXoL");function f(i,t){1&i&&(r.Mb(0,"ion-row",6),r.Mb(1,"ion-col",7),r.Mb(2,"h3",8),r.mc(3,"You have no notifications"),r.Lb(),r.Lb(),r.Lb())}function u(i,t){1&i&&(r.Mb(0,"ion-row",6),r.Mb(1,"ion-col",9),r.Ib(2,"img",10),r.Lb(),r.Lb())}function g(i,t){if(1&i){const i=r.Nb();r.Mb(0,"ion-item-sliding",11),r.Ub("click",function(){return r.gc(i),r.Wb().goTo()}),r.Mb(1,"ion-item"),r.Mb(2,"ion-avatar"),r.Ib(3,"img",12),r.Lb(),r.Mb(4,"p",13),r.mc(5),r.Lb(),r.Mb(6,"p",14),r.mc(7),r.Lb(),r.Lb(),r.Mb(8,"ion-item-options",15),r.Mb(9,"ion-item-option",11),r.Ub("click",function(){r.gc(i);const n=t.$implicit;return r.Wb().delete(n)}),r.mc(10,"Delete"),r.Lb(),r.Lb(),r.Lb()}if(2&i){const i=t.$implicit;r.xb(3),r.Zb("src",i.instigatingUserProfilePicture,r.ic),r.xb(2),r.nc(i.message),r.xb(2),r.nc(i.date)}}const d=[{path:"",component:(()=>{class i{constructor(i,t){this.notifications=i,this.profile=t}ngAfterContentChecked(){console.log("Notification Added on backend")}ngOnDestroy(){this.notificationsSub.unsubscribe()}ngOnInit(){this.initSub=this.profile.getUserDetails().subscribe(i=>{this.userEmail=i.email,console.log(this.userEmail),this.notificationsSub=this.notifications.getNotifications(this.userEmail).subscribe(i=>{console.log(i),this.notifications.notifications$.next(Object.values(i)),this.notifications.notifications$.subscribe(i=>{this.allNotifications=Object.values(i);for(let t of this.allNotifications)t.date=Object(l.a)(new Date(t.date),{includeSeconds:!0,addSuffix:!1})})})})}clear(){this.notifications.clearNotifications(this.userEmail).subscribe(i=>{this.notificationsSub=this.notifications.getNotifications(this.userEmail).subscribe(i=>{console.log(i),this.notifications.notifications$.next(Object.values(i)),this.notifications.notifications$.subscribe(i=>{this.allNotifications=Object.values(i);for(let t of this.allNotifications)t.date=Object(l.a)(new Date(t.date),{includeSeconds:!0,addSuffix:!1})})})})}goTo(){console.log("Going to page from notification")}delete(i){console.log("Deleting notification")}}return i.\u0275fac=function(t){return new(t||i)(r.Hb(a.a),r.Hb(b.a))},i.\u0275cmp=r.Bb({type:i,selectors:[["app-notifications"]],decls:14,vars:3,consts:[[1,"ion-hide-lg-up"],["slot","start"],["slot","end"],[2,"--background","linear-gradient(rgba(6, 114, 196, 0.3), rgba(0, 81, 145, 0.2))","--color","#005191","margin-right","20px","width","80px",3,"click"],["class","ion-justify-content-center",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[1,"ion-justify-content-center"],["size-xs","10",1,"margin-top","ion-text-center"],["id","no-notifications"],["size","4"],["id","icon","src","../../../../assets/icons/no-notifications-icon.svg","alt",""],[3,"click"],[3,"src"],["id","message"],["id","date"],["side","end"]],template:function(i,t){1&i&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-buttons",1),r.Ib(3,"ion-back-button"),r.Mb(4,"ion-title"),r.mc(5,"Notifications"),r.Lb(),r.Lb(),r.Mb(6,"ion-buttons",2),r.Mb(7,"ion-button",3),r.Ub("click",function(){return t.clear()}),r.mc(8," Clear "),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(9,"ion-content"),r.lc(10,f,4,0,"ion-row",4),r.lc(11,u,3,0,"ion-row",4),r.Mb(12,"ion-list"),r.lc(13,g,11,3,"ion-item-sliding",5),r.Lb(),r.Lb()),2&i&&(r.xb(10),r.Zb("ngIf",0==t.allNotifications),r.xb(1),r.Zb("ngIf",0==t.allNotifications),r.xb(2),r.Zb("ngForOf",t.allNotifications))},directives:[c.u,c.P,c.h,c.e,c.f,c.O,c.g,c.o,o.j,c.C,o.i,c.G,c.n,c.A,c.x,c.d,c.z,c.y],styles:["p[_ngcontent-%COMP%]{font-size:.7em;margin-left:10px}#date[_ngcontent-%COMP%]{opacity:.5;display:inline-block}#icon[_ngcontent-%COMP%]{opacity:.2}#no-notifications[_ngcontent-%COMP%]{opacity:.3}.margin-top[_ngcontent-%COMP%]{margin-top:15%}.blue-button[_ngcontent-%COMP%]{width:100px}"]}),i})()}];let p=(()=>{class i{}return i.\u0275mod=r.Fb({type:i}),i.\u0275inj=r.Eb({factory:function(t){return new(t||i)},imports:[[s.j.forChild(d)],s.j]}),i})(),m=(()=>{class i{}return i.\u0275mod=r.Fb({type:i}),i.\u0275inj=r.Eb({factory:function(t){return new(t||i)},imports:[[o.b,e.d,c.Q,p]]}),i})()}}]);