(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{SmxB:function(e,i,t){"use strict";t.r(i),t.d(i,"ChangeEmailPageModule",function(){return p});var n=t("ofXK"),a=t("3Pt+"),o=t("TEn/"),r=t("tyNb"),s=t("mrSG"),l=t("lGQG"),c=t("Aso2"),b=t("fXoL");function m(e,i){if(1&e&&(b.Mb(0,"div",21),b.mc(1),b.Lb()),2&e){const e=b.Wb().$implicit;b.xb(1),b.oc(" ",e.message," ")}}function u(e,i){if(1&e&&(b.Kb(0),b.lc(1,m,2,1,"div",20),b.Jb()),2&e){const e=i.$implicit,t=b.Wb();b.xb(1),b.Zb("ngIf",t.changeEmail.get("email").hasError(e.type)&&(t.changeEmail.get("email").dirty||t.changeEmail.get("email").touched))}}const d=[{path:"",component:(()=>{class e{constructor(e,i,t,n,a,o){this.formBuilder=e,this.router=i,this.auth=t,this.toast=n,this.alertController=a,this.profile=o,this.activeEmail="",this.validationMessasges={email:[{type:"email",message:"Must be a valid email address"}],password:[{type:"pattern",message:"Password must be at least 6 characters with at least one lowercase character, one uppercase character, and one number."}]},this.activeEmail=this.profile.email.getValue(),console.log("Active Email: "+this.activeEmail)}ngOnInit(){this.changeEmail=this.formBuilder.group({email:["",[a.n.required,a.n.email]],password:["",a.n.compose([a.n.minLength(8),a.n.required,a.n.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")])]}),this.changeEmail.valueChanges.subscribe(e=>{setTimeout(()=>{this.formValid=!!this.changeEmail.valid},100)})}back(){this.router.navigate(["/home/profile/edit-profile-page"])}presentToast(){return Object(s.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:"There was an error with your password or email. Please try again.",duration:5e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"})).present()})}presentAlert(){return Object(s.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"danger-alert",header:"Invalid Email",message:"New Email cannot be the same as the current one.",buttons:[{text:"OK"}]});yield e.present()})}confirmChangedEmail(e,i){e==this.activeEmail?this.presentAlert():this.profile.changeEmail("eddie@gmail.com",e,i)}}return e.\u0275fac=function(i){return new(i||e)(b.Hb(a.a),b.Hb(r.f),b.Hb(l.a),b.Hb(o.Z),b.Hb(o.a),b.Hb(c.a))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-change-email"]],decls:32,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],["fixed","",1,"ion-text-center"],[1,"ion-hide-md-down",2,"margin","5% 0% 3% 0%"],["offset","2.5","size","2.5"],["push","2.5","size","2"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center","ion-hide-md-down"],["size","10"],[2,"background-color","#00000044"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","8","size-lg","6"],[1,"text-header",2,"width","unset"],[3,"formGroup","ngSubmit"],[1,"line-input"],["required","","placeholder","new email","formControlName","email","type","email",3,"keyup.enter"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["required","","placeholder","password","formControlName","password","minlength","8","type","password",3,"keyup.enter"],["type","submit",1,"orange-button",2,"width","unset",3,"disabled"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,i){1&e&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-buttons",1),b.Ib(3,"ion-back-button"),b.Lb(),b.Mb(4,"ion-title"),b.mc(5,"Change Email"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.Mb(7,"ion-grid",2),b.Mb(8,"ion-row",3),b.Mb(9,"ion-col",4),b.Mb(10,"h1"),b.mc(11,"Change Email"),b.Lb(),b.Lb(),b.Mb(12,"ion-col",5),b.Mb(13,"ion-button",6),b.Ub("click",function(){return i.back()}),b.mc(14," Back "),b.Lb(),b.Lb(),b.Lb(),b.Mb(15,"ion-row",7),b.Mb(16,"ion-col",8),b.Ib(17,"hr",9),b.Lb(),b.Lb(),b.Mb(18,"ion-row",10),b.Mb(19,"ion-col",11),b.Mb(20,"h6",12),b.mc(21),b.Lb(),b.Mb(22,"form",13),b.Ub("ngSubmit",function(){return i.confirmChangedEmail(i.changeEmail.controls.email.value,i.changeEmail.controls.password.value)}),b.Mb(23,"ion-list",14),b.Mb(24,"ion-item"),b.Mb(25,"ion-input",15),b.Ub("keyup.enter",function(){return i.formValid?i.confirmChangedEmail(i.changeEmail.controls.email.value,i.changeEmail.controls.password.value):null}),b.Lb(),b.Lb(),b.Mb(26,"div",16),b.lc(27,u,2,1,"ng-container",17),b.Lb(),b.Mb(28,"ion-item"),b.Mb(29,"ion-input",18),b.Ub("keyup.enter",function(){return i.formValid?i.confirmChangedEmail(i.changeEmail.controls.email.value,i.changeEmail.controls.password.value):null}),b.Lb(),b.Lb(),b.Lb(),b.Mb(30,"ion-button",19),b.mc(31,"CHANGE EMAIL"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&e&&(b.xb(21),b.nc(i.activeEmail),b.xb(1),b.Zb("formGroup",i.changeEmail),b.xb(5),b.Zb("ngForOf",i.validationMessasges.email),b.xb(3),b.Zb("disabled",!i.formValid))},directives:[o.t,o.P,o.h,o.e,o.f,o.O,o.o,o.s,o.F,o.n,o.g,a.o,a.j,a.c,o.B,o.w,o.v,o.Y,a.m,a.i,a.b,n.i,a.f,n.j],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset}"]}),e})()},{path:"confirm",loadChildren:()=>t.e(51).then(t.bind(null,"QGQF")).then(e=>e.ConfirmPageModule)}];let h=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(i){return new(i||e)},imports:[[r.j.forChild(d)],r.j]}),e})(),p=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(i){return new(i||e)},imports:[[n.b,a.d,o.Q,a.l,h]]}),e})()}}]);