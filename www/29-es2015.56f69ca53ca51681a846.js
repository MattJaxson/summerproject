(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{wQpE:function(l,n,s){"use strict";s.r(n);var u=s("8Y7J");class o{}var e=s("pMnS"),a=s("oBZk"),t=s("ZZ/e"),r=s("s7LF"),i=s("SVse"),b=s("mrSG"),d=s("lGQG"),c=s("AytR");class g{constructor(l,n,s,u,o){this.formBuilder=l,this.router=n,this.auth=s,this.activatedRoute=u,this.toast=o,this.BACKEND_URL=c.a.url,this.passwordsMatch=!1,this.validationMessasges={password:[{type:"password",message:"Please enter a valid password."}]}}ngOnInit(){this.newPasswordForm=this.formBuilder.group({newPassword:["",r.p.required],reTypeNewPassword:["",r.p.required]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),console.log("Email: "+this.userEmail),this.formOnChanges()}formOnChanges(){console.log(this.newPasswordForm),this.newPasswordForm.valueChanges.subscribe(l=>{console.log(l),this.newPasswordForm.statusChanges.subscribe(l=>{console.log(l),"VALID"===l&&(console.log("you did it bruh"),this.passwordsMatch=!0)}),this.newPasswordForm.controls.newPassword.value===this.newPasswordForm.controls.reTypePassword.value&&this.newPasswordForm.controls.newPassword.touched&&console.log("Passwords Match"),this.newPasswordForm.controls.newPassword.value!==this.newPasswordForm.controls.reTypePassword.value&&(console.log("Passwords Match"),this.passwordsMatch=!1)})}goToConfirmPage(){return b.b(this,void 0,void 0,(function*(){const l=this.userEmail;let n=this.newPasswordForm.value.newPassword;if(n!==this.newPasswordForm.value.reTypeNewPassword)return this.presentToast(),console.log("passwords do not match");yield this.auth.forgotPassword(l,n),yield console.log("Going to Confirm Password Change Page"),yield this.router.navigate(["/enter-email/enter-code/:email/new-password/:email/confirm"])}))}presentToast(){return b.b(this,void 0,void 0,(function*(){(yield this.toast.create({message:"The two passwords you entered do not match. Please try again.",duration:2e3})).present()}))}cancel(){console.log("Forgotten password cancelled"),this.router.navigate([""])}}var w=s("iInd"),p=u.zb({encapsulation:0,styles:[["span[_ngcontent-%COMP%]{font-weight:900;font-size:1.2em;color:#005191}.badPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:1s ease-in .5s forwards password-icons;animation:1s ease-in .5s forwards password-icons}.badPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:1s ease-in forwards password-icons;animation:1s ease-in forwards password-icons}.goodPassword[_ngcontent-%COMP%]{--background:none;opacity:0;-webkit-animation:1s ease-in .5s forwards password-icons;animation:1s ease-in .5s forwards password-icons}.goodPassword[_ngcontent-%COMP%]:nth-child(2){--background:none;opacity:0;-webkit-animation:1s ease-in forwards password-icons;animation:1s ease-in forwards password-icons}@-webkit-keyframes password-icons{0%{transform:translateX(50px)}100%{transform:translateX(0);opacity:1}}@keyframes password-icons{0%{transform:translateX(50px)}100%{transform:translateX(0);opacity:1}}"]],data:{}});function h(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,3,"ion-button",[["class","badPassword"],["item-right",""]],null,null,null,a.O,a.d)),u.Ab(1,49152,null,0,t.l,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,1,"ion-icon",[["name","close"],["style","color: #FF443B;"]],null,null,null,a.db,a.s)),u.Ab(3,49152,null,0,t.D,[u.j,u.p,u.F],{name:[0,"name"]},null)],(function(l,n){l(n,3,0,"close")}),null)}function m(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,3,"ion-button",[["class","goodPassword"],["item-right",""]],null,null,null,a.O,a.d)),u.Ab(1,49152,null,0,t.l,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,1,"ion-icon",[["name","checkmark"],["style","color: #21df82;"]],null,null,null,a.db,a.s)),u.Ab(3,49152,null,0,t.D,[u.j,u.p,u.F],{name:[0,"name"]},null)],(function(l,n){l(n,3,0,"checkmark")}),null)}function f(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,3,"ion-button",[["class","badPassword"],["item-right",""]],null,null,null,a.O,a.d)),u.Ab(1,49152,null,0,t.l,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,1,"ion-icon",[["name","close"],["style","color: #FF443B;"]],null,null,null,a.db,a.s)),u.Ab(3,49152,null,0,t.D,[u.j,u.p,u.F],{name:[0,"name"]},null)],(function(l,n){l(n,3,0,"close")}),null)}function P(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,3,"ion-button",[["class","goodPassword"],["item-right",""]],null,null,null,a.O,a.d)),u.Ab(1,49152,null,0,t.l,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,0,1,"ion-icon",[["name","checkmark"],["style","color: #21df82;"]],null,null,null,a.db,a.s)),u.Ab(3,49152,null,0,t.D,[u.j,u.p,u.F],{name:[0,"name"]},null)],(function(l,n){l(n,3,0,"checkmark")}),null)}function y(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"ion-header",[["style","display: none;"]],null,null,null,a.cb,a.r)),u.Ab(1,49152,null,0,t.C,[u.j,u.p,u.F],null,null),(l()(),u.Bb(2,0,null,null,49,"ion-content",[],null,null,null,a.W,a.l)),u.Ab(3,49152,null,0,t.v,[u.j,u.p,u.F],null,null),(l()(),u.Bb(4,0,null,0,47,"ion-grid",[["class","ion-text-center"],["style","margin-top: 10%;"]],null,null,null,a.bb,a.q)),u.Ab(5,49152,null,0,t.B,[u.j,u.p,u.F],null,null),(l()(),u.Bb(6,0,null,0,45,"ion-row",[],null,null,null,a.kb,a.z)),u.Ab(7,49152,null,0,t.kb,[u.j,u.p,u.F],null,null),(l()(),u.Bb(8,0,null,0,43,"ion-col",[["offset-lg","3"],["size-lg","6"]],null,null,null,a.V,a.k)),u.Ab(9,49152,null,0,t.u,[u.j,u.p,u.F],null,null),(l()(),u.Bb(10,0,null,0,1,"h6",[["class","text-header"]],null,null,null,null,null)),(l()(),u.Tb(-1,null,["Please enter your new password."])),(l()(),u.Bb(12,0,null,0,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,s){var o=!0,e=l.component;return"submit"===n&&(o=!1!==u.Nb(l,14).onSubmit(s)&&o),"reset"===n&&(o=!1!==u.Nb(l,14).onReset()&&o),"ngSubmit"===n&&(o=!1!==e.goToConfirmPage()&&o),o}),null,null)),u.Ab(13,16384,null,0,r.t,[],null,null),u.Ab(14,540672,null,0,r.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Qb(2048,null,r.a,null,[r.d]),u.Ab(16,16384,null,0,r.l,[[4,r.a]],null,null),(l()(),u.Bb(17,0,null,null,34,"ion-list",[["class","line-input"]],null,null,null,a.hb,a.w)),u.Ab(18,49152,null,0,t.P,[u.j,u.p,u.F],null,null),(l()(),u.Bb(19,0,null,0,12,"ion-item",[],null,null,null,a.fb,a.u)),u.Ab(20,49152,null,0,t.I,[u.j,u.p,u.F],null,null),(l()(),u.Bb(21,0,null,0,6,"ion-input",[["formControlName","newPassword"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,s){var o=!0;return"ionBlur"===n&&(o=!1!==u.Nb(l,22)._handleBlurEvent(s.target)&&o),"ionChange"===n&&(o=!1!==u.Nb(l,22)._handleInputEvent(s.target)&&o),o}),a.eb,a.t)),u.Ab(22,16384,null,0,t.Pb,[u.p],null,null),u.Qb(1024,null,r.i,(function(l){return[l]}),[t.Pb]),u.Ab(24,671744,null,0,r.c,[[3,r.a],[8,null],[8,null],[6,r.i],[2,r.s]],{name:[0,"name"]},null),u.Qb(2048,null,r.j,null,[r.c]),u.Ab(26,16384,null,0,r.k,[[4,r.j]],null,null),u.Ab(27,49152,null,0,t.H,[u.j,u.p,u.F],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),u.qb(16777216,null,0,1,null,h)),u.Ab(29,16384,null,0,i.j,[u.W,u.S],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(16777216,null,0,1,null,m)),u.Ab(31,16384,null,0,i.j,[u.W,u.S],{ngIf:[0,"ngIf"]},null),(l()(),u.Bb(32,0,null,0,12,"ion-item",[],null,null,null,a.fb,a.u)),u.Ab(33,49152,null,0,t.I,[u.j,u.p,u.F],null,null),(l()(),u.Bb(34,0,null,0,6,"ion-input",[["formControlName","reTypeNewPassword"],["placeholder","Re-type Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,s){var o=!0;return"ionBlur"===n&&(o=!1!==u.Nb(l,35)._handleBlurEvent(s.target)&&o),"ionChange"===n&&(o=!1!==u.Nb(l,35)._handleInputEvent(s.target)&&o),o}),a.eb,a.t)),u.Ab(35,16384,null,0,t.Pb,[u.p],null,null),u.Qb(1024,null,r.i,(function(l){return[l]}),[t.Pb]),u.Ab(37,671744,null,0,r.c,[[3,r.a],[8,null],[8,null],[6,r.i],[2,r.s]],{name:[0,"name"]},null),u.Qb(2048,null,r.j,null,[r.c]),u.Ab(39,16384,null,0,r.k,[[4,r.j]],null,null),u.Ab(40,49152,null,0,t.H,[u.j,u.p,u.F],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),u.qb(16777216,null,0,1,null,f)),u.Ab(42,16384,null,0,i.j,[u.W,u.S],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(16777216,null,0,1,null,P)),u.Ab(44,16384,null,0,i.j,[u.W,u.S],{ngIf:[0,"ngIf"]},null),(l()(),u.Bb(45,0,null,0,2,"ion-button",[["class","orange-button"],["type","submit"]],null,null,null,a.O,a.d)),u.Ab(46,49152,null,0,t.l,[u.j,u.p,u.F],{type:[0,"type"]},null),(l()(),u.Tb(-1,0,["NEXT"])),(l()(),u.Bb(48,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),u.Bb(49,0,null,0,2,"ion-button",[["class","cancel-button"],["slot","end"]],null,[[null,"click"]],(function(l,n,s){var u=!0;return"click"===n&&(u=!1!==l.component.cancel()&&u),u}),a.O,a.d)),u.Ab(50,49152,null,0,t.l,[u.j,u.p,u.F],null,null),(l()(),u.Tb(-1,0,[" cancel "]))],(function(l,n){var s=n.component;l(n,14,0,s.newPasswordForm),l(n,24,0,"newPassword"),l(n,27,0,"Password","password"),l(n,29,0,!s.passwordsMatch),l(n,31,0,s.passwordsMatch),l(n,37,0,"reTypeNewPassword"),l(n,40,0,"Re-type Password","password"),l(n,42,0,!s.passwordsMatch),l(n,44,0,s.passwordsMatch),l(n,46,0,"submit")}),(function(l,n){l(n,12,0,u.Nb(n,16).ngClassUntouched,u.Nb(n,16).ngClassTouched,u.Nb(n,16).ngClassPristine,u.Nb(n,16).ngClassDirty,u.Nb(n,16).ngClassValid,u.Nb(n,16).ngClassInvalid,u.Nb(n,16).ngClassPending),l(n,21,0,u.Nb(n,26).ngClassUntouched,u.Nb(n,26).ngClassTouched,u.Nb(n,26).ngClassPristine,u.Nb(n,26).ngClassDirty,u.Nb(n,26).ngClassValid,u.Nb(n,26).ngClassInvalid,u.Nb(n,26).ngClassPending),l(n,34,0,u.Nb(n,39).ngClassUntouched,u.Nb(n,39).ngClassTouched,u.Nb(n,39).ngClassPristine,u.Nb(n,39).ngClassDirty,u.Nb(n,39).ngClassValid,u.Nb(n,39).ngClassInvalid,u.Nb(n,39).ngClassPending)}))}function C(l){return u.Vb(0,[(l()(),u.Bb(0,0,null,null,1,"app-new-password",[],null,null,null,y,p)),u.Ab(1,114688,null,0,g,[r.b,w.m,d.a,w.a,t.Qb],null,null)],(function(l,n){l(n,1,0)}),null)}var F=u.xb("app-new-password",g,C,{},{},[]);const v=()=>s.e(27).then(s.bind(null,"F170")).then(l=>l.ConfirmPageModuleNgFactory);class N{}s.d(n,"NewPasswordPageModuleNgFactory",(function(){return A}));var A=u.yb(o,[],(function(l){return u.Kb([u.Lb(512,u.m,u.jb,[[8,[e.a,F]],[3,u.m],u.D]),u.Lb(4608,i.l,i.k,[u.z,[2,i.s]]),u.Lb(4608,r.r,r.r,[]),u.Lb(4608,r.b,r.b,[]),u.Lb(4608,t.c,t.c,[u.F,u.g]),u.Lb(4608,t.Ib,t.Ib,[t.c,u.m,u.w]),u.Lb(4608,t.Mb,t.Mb,[t.c,u.m,u.w]),u.Lb(1073742336,i.c,i.c,[]),u.Lb(1073742336,r.q,r.q,[]),u.Lb(1073742336,r.e,r.e,[]),u.Lb(1073742336,r.n,r.n,[]),u.Lb(1073742336,t.Fb,t.Fb,[]),u.Lb(1073742336,w.q,w.q,[[2,w.v],[2,w.m]]),u.Lb(1073742336,N,N,[]),u.Lb(1073742336,o,o,[]),u.Lb(1024,w.k,(function(){return[[{path:"",component:g},{path:"confirm",loadChildren:v}]]}),[])])}))}}]);