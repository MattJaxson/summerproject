!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{E2mU:function(n,o,i){"use strict";i.r(o),i.d(o,"AddPostPageModule",function(){return w});var a=i("ofXK"),r=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),l=i("mrSG"),b=i("ENZJ"),h=i("Aso2"),u=i("fXoL"),g=["postChars"],p=["titleChars"],m=["hashtagRef"];function d(t,e){if(1&t){var n=u.Nb();u.Mb(0,"div",27),u.Mb(1,"p"),u.mc(2),u.Lb(),u.Mb(3,"img",28),u.Ub("click",function(){u.gc(n);var t=e.index;return u.Wb().deleteTag(t)}),u.Lb(),u.Lb()}if(2&t){var o=e.$implicit;u.xb(2),u.nc(o)}}var f,x,M,v=[{path:"",component:(f=function(){function n(e,o,i,a,r){t(this,n),this.router=e,this.loading=o,this.posts=i,this.profile=a,this.formBuilder=r,this.hashtags=[],this.validationMessages={}}var o,i,a;return o=n,(i=[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){var t=this;this.textPostForm=this.formBuilder.group({title:["",r.n.required],hashtags:["",r.n.required],post:["",r.n.required]}),this.profile.getUserDetails().subscribe(function(e){console.log(e),t.creatorEmail=e.email,t.creatorName=e.fullName,t.creatorProfilePicture=e.profilePicture})}},{key:"back",value:function(){this.router.navigate(["/home/posts"])}},{key:"post",value:function(t,e,n,o,i,a){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.presentLoading();case 2:return r.next=4,this.posts.addPost(t,e,n,o,i,a).subscribe(function(t){console.log(t)});case 4:return r.next=6,this.router.navigate(["home/posts/add-post/verification"]);case 6:case"end":return r.stop()}},r,this)}))}},{key:"presentLoading",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loading.create({message:"Sending post to be Verified...",spinner:"bubbles",duration:2e3});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.next=7,e.onDidDismiss();case 7:console.log("Loading dismissed!");case 8:case"end":return t.stop()}},t,this)}))}},{key:"addHashTag",value:function(t){console.log(t);var e=this.textPostForm.get("hashtags");"Enter"===t.code&&(console.log("ENTER button pressed."),console.log("Value: "),console.log(e.value),console.log("Hashtags: "),this.hashtags.push(e.value),console.log(this.hashtags))}},{key:"deleteTag",value:function(t){console.log(t);var e=this.hashtags.indexOf(t);console.log(e),(e=-1)&&(this.hashtags.splice(e,1),console.log(this.hashtags))}}])&&e(o.prototype,i),a&&e(o,a),n}(),f.\u0275fac=function(t){return new(t||f)(u.Hb(c.f),u.Hb(s.S),u.Hb(b.a),u.Hb(h.a),u.Hb(r.a))},f.\u0275cmp=u.Bb({type:f,selectors:[["app-add-post"]],viewQuery:function(t,e){var n;1&t&&(u.sc(g,!0),u.sc(p,!0),u.sc(m,!0)),2&t&&(u.ec(n=u.Vb())&&(e.postChars=n.first),u.ec(n=u.Vb())&&(e.titleChars=n.first),u.ec(n=u.Vb())&&(e.hashtagRef=n.first))},decls:56,vars:3,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"header","ion-hide-md-down","ion-justify-content-center","ion-text-center",2,"margin","2% 0% 3% 0%"],["size","5"],["push","","size","5"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center",2,"margin-top","1%"],["size-xs","11","size-sm","10","size-md","9","size-lg","7","size-xl","6",1,"ion-text-center"],[1,"message","ion-hide-lg-up"],[1,"message","ion-hide-md-down"],[2,"border-top","#9993 solid 2px","margin-bottom","50px"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","9","size-lg","7","size-xl","6"],[3,"formGroup","ngSubmit"],[1,"line-input"],["autocapitalize","on","required","","inputmode","text","maxlength","100","formControlName","title","placeholder","Title"],["titleChars",""],["class","hashtag",4,"ngFor","ngForOf"],["autocapitalize","on","required","","inputmode","text","maxlength","100","clearInput","true","formControlName","hashtags","placeholder","Type tag then press Enter",3,"keydown"],["hashtagRef",""],[2,"height","auto"],["rows","50","auto-grow","true","spellcheck","true","maxlength","1000","formControlName","post","placeholder","What do you have to say?",3,"keydown.control.enter"],["postChars",""],[1,"char-limit"],["lines","none",2,"margin","15px 0 20px"],["type","submit",1,"orange-button"],["size-lg","6",1,"ion-text-center",2,"margin-bottom","100px"],[1,"hashtag"],["src","../../../../assets/icon/close-icon.svg","alt","","srcset","",3,"click"]],template:function(t,e){if(1&t&&(u.Mb(0,"ion-header",0),u.Mb(1,"ion-toolbar"),u.Mb(2,"ion-buttons",1),u.Ib(3,"ion-back-button"),u.Lb(),u.Mb(4,"ion-title"),u.mc(5,"Add Post"),u.Lb(),u.Lb(),u.Lb(),u.Mb(6,"ion-content"),u.Mb(7,"ion-grid"),u.Mb(8,"ion-row",2),u.Mb(9,"ion-col",3),u.Mb(10,"h1"),u.mc(11,"New Post"),u.Lb(),u.Lb(),u.Mb(12,"ion-col",4),u.Mb(13,"ion-button",5),u.Ub("click",function(){return e.back()}),u.mc(14," Back "),u.Lb(),u.Lb(),u.Lb(),u.Mb(15,"ion-row",6),u.Mb(16,"ion-col",7),u.Mb(17,"p",8),u.mc(18,"Please keep your content clean. In order to maintain a high standard of content, each post will have to be verified before they are added to the Posts feed. Happy posting, and be inspired!"),u.Lb(),u.Mb(19,"p",9),u.mc(20,"Please keep your content clean. In order to maintain a high standard of content, each post will have to be verified before they are added to the Posts feed. Happy posting, and be inspired!"),u.Lb(),u.Ib(21,"hr",10),u.Lb(),u.Lb(),u.Mb(22,"ion-row",11),u.Mb(23,"ion-col",12),u.Mb(24,"form",13),u.Ub("ngSubmit",function(){return e.textPostForm.value.post.length>0?e.post(e.creatorName,e.creatorEmail,e.creatorProfilePicture,e.hashtags,e.textPostForm.controls.post.value,e.textPostForm.controls.title.value):null}),u.Mb(25,"ion-list",14),u.Mb(26,"ion-label"),u.mc(27,"Title"),u.Lb(),u.Mb(28,"ion-item"),u.Ib(29,"ion-input",15,16),u.Lb(),u.Mb(31,"ion-label"),u.mc(32,"Hashtags"),u.Lb(),u.Mb(33,"h5"),u.mc(34,"Please seperate each tag with a comma ( , ). You can add up to 5 hashtags."),u.Lb(),u.lc(35,d,4,1,"div",17),u.Mb(36,"ion-item"),u.Mb(37,"ion-input",18,19),u.Ub("keydown",function(t){return e.addHashTag(t)}),u.mc(39,"#"),u.Lb(),u.Lb(),u.Mb(40,"ion-label"),u.mc(41,"Post"),u.Lb(),u.Mb(42,"h5"),u.mc(43,"Keep your content clean. There is a filter for profane language. Administrative action will be taken against posts with too much profanity."),u.Lb(),u.Mb(44,"ion-item",20),u.Mb(45,"ion-textarea",21,22),u.Ub("keydown.control.enter",function(){return e.textPostForm.value.textPost.length>0?e.post(e.hashtags,e.creatorName,e.creatorEmail,e.creatorProfilePicture,e.textPostForm.value.textPost,e.textPostForm.value.title):null}),u.Lb(),u.Lb(),u.Mb(47,"p",23),u.mc(48),u.Lb(),u.Lb(),u.Mb(49,"ion-row"),u.Mb(50,"ion-col"),u.Mb(51,"ion-item",24),u.Mb(52,"ion-button",25),u.mc(53," Submit "),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Mb(54,"ion-row",11),u.Ib(55,"ion-col",26),u.Lb(),u.Lb(),u.Lb()),2&t){var n=u.fc(46);u.xb(24),u.Zb("formGroup",e.textPostForm),u.xb(11),u.Zb("ngForOf",e.hashtags),u.xb(13),u.oc("",n.value.length," / 3000 character limit")}},directives:[s.u,s.P,s.h,s.e,s.f,s.O,s.o,s.t,s.G,s.n,s.g,r.o,r.j,r.c,s.C,s.B,s.x,s.w,s.Y,r.m,r.e,r.i,r.b,a.i,s.N],styles:[".blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset;width:unset;height:36px;margin-top:20px;margin-bottom:4px;position:unset}ion-label[_ngcontent-%COMP%]{color:#0055a5;font-weight:600}h5[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{font-size:1em}h5[_ngcontent-%COMP%]{color:#222;margin-bottom:25px}.hashtag[_ngcontent-%COMP%]{background:#e1f0fc;width:300px;padding:.1px 10px;margin-bottom:14px;border-radius:5px;font-size:1em;color:#005191}.hashtag[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .hashtag[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block}.hashtag[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;float:right;position:relative;top:14px}.line-input[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{margin-bottom:45px}.char-limit[_ngcontent-%COMP%]{position:relative;top:-35px;text-align:right}ion-title[_ngcontent-%COMP%]{margin:0}.message[_ngcontent-%COMP%]{font-size:1.05em;text-align:left;font-weight:600;line-height:1.5em;color:#555}.char-limit[_ngcontent-%COMP%]{color:#e4405f;margin-bottom:50px}@media only screen and (max-width:576px){.text-input[_ngcontent-%COMP%]{box-shadow:none;background:#edf3f8}}.item-interactive[_ngcontent-%COMP%]{--border-width:0px;--show-full-highlight:0}h6[_ngcontent-%COMP%]{padding:15px;line-height:35px;font-weight:400}"]}),f)},{path:"verification",loadChildren:function(){return i.e(43).then(i.bind(null,"Wtw0")).then(function(t){return t.VerificationPageModule})}}],P=((M=function e(){t(this,e)}).\u0275mod=u.Fb({type:M}),M.\u0275inj=u.Eb({factory:function(t){return new(t||M)},imports:[[c.j.forChild(v)],c.j]}),M),w=((x=function e(){t(this,e)}).\u0275mod=u.Fb({type:x}),x.\u0275inj=u.Eb({factory:function(t){return new(t||x)},imports:[[a.b,r.d,r.d,r.l,s.Q,P]]}),x)}}])}();