(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{A8Ph:function(t,e,o){"use strict";o.r(e),o.d(e,"JobsPageModule",function(){return z});var i=o("TEn/"),n=o("tyNb"),s=o("ofXK"),r=o("3Pt+"),a=o("mrSG"),b=o("pLZG"),l=o("sgUz"),c=o("U8oy"),h=o("Aso2"),f=o("7xvl"),u=o("lFXj"),p=o("fXoL");let g=(()=>{class t{constructor(){this.filterJobsEmitter=new p.o}filterJobs(t){console.log("Emitting from FilterJobs Emitter..."),this.filterJobsEmitter.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=p.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{constructor(t,e,o){this.popoverController=t,this.filterJobsService=e,this.navParams=o,this.selection="newest"}ngOnInit(){this.filterFromJobsPage=this.navParams.get("filter"),this.selection=this.filterFromJobsPage}selectOption(t){this.selection=t.detail.value,console.log(this.selection),this.filterJobsService.filterJobs(this.selection)}dismiss(){this.popoverController.dismiss({data:this.selection})}}return t.\u0275fac=function(e){return new(e||t)(p.Hb(i.Z),p.Hb(g),p.Hb(i.X))},t.\u0275cmp=p.Bb({type:t,selectors:[["app-jobs-filter-popover"]],decls:20,vars:1,consts:[["name","job-menu-filter",3,"value","ionChange"],["lines","none"],["value","htol"],["value","ltoh"],["value","newest"],["value","oldest"],["button","","lines","none",1,"ion-text-center",3,"click"],[2,"color","#e3405f"]],template:function(t,e){1&t&&(p.Mb(0,"ion-radio-group",0),p.Ub("ionChange",function(t){return e.selectOption(t)}),p.Mb(1,"ion-item",1),p.Mb(2,"ion-label"),p.nc(3,"Pay - High to Low"),p.Lb(),p.Ib(4,"ion-radio",2),p.Lb(),p.Mb(5,"ion-item",1),p.Mb(6,"ion-label"),p.nc(7,"Pay - Low to High"),p.Lb(),p.Ib(8,"ion-radio",3),p.Lb(),p.Mb(9,"ion-item",1),p.Mb(10,"ion-label"),p.nc(11,"Newest"),p.Lb(),p.Ib(12,"ion-radio",4),p.Lb(),p.Mb(13,"ion-item",1),p.Mb(14,"ion-label"),p.nc(15,"Oldest"),p.Lb(),p.Ib(16,"ion-radio",5),p.Lb(),p.Mb(17,"ion-item",6),p.Ub("click",function(){return e.dismiss()}),p.Mb(18,"ion-label",7),p.nc(19,"Close"),p.Lb(),p.Lb(),p.Lb()),2&t&&p.Zb("value",e.selection)},directives:[i.E,i.cb,i.x,i.B,i.D,i.ab],styles:[""]}),t})();var m=o("b7Ok");function v(t,e){1&t&&(p.Mb(0,"p",19),p.Mb(1,"span"),p.nc(2,"Filter"),p.Lb(),p.nc(3,": Pay - High to Low"),p.Lb())}function j(t,e){1&t&&(p.Mb(0,"p",19),p.Mb(1,"span"),p.nc(2,"Filter"),p.Lb(),p.nc(3,": Pay - Low to High"),p.Lb())}function M(t,e){1&t&&(p.Mb(0,"p",19),p.Mb(1,"span"),p.nc(2,"Filter"),p.Lb(),p.nc(3,": Newest"),p.Lb())}function L(t,e){if(1&t&&(p.Mb(0,"p",19),p.Mb(1,"span"),p.nc(2,"Filter"),p.Lb(),p.nc(3),p.Lb()),2&t){const t=p.Wb();p.xb(3),p.pc(" ",t.jobFilter,"")}}function J(t,e){1&t&&(p.Mb(0,"p",19),p.Mb(1,"span"),p.nc(2,"Filter"),p.Lb(),p.nc(3,": Pay - High to Low"),p.Lb())}function y(t,e){1&t&&(p.Mb(0,"p",19),p.Mb(1,"span"),p.nc(2,"Filter"),p.Lb(),p.nc(3,": Pay - Low to High"),p.Lb())}function O(t,e){1&t&&(p.Mb(0,"p",19),p.Mb(1,"span"),p.nc(2,"Filter"),p.Lb(),p.nc(3,": Newest"),p.Lb())}function x(t,e){1&t&&(p.Mb(0,"p",19),p.Mb(1,"span"),p.nc(2,"Filter"),p.Lb(),p.nc(3," Oldest"),p.Lb())}function w(t,e){1&t&&(p.Mb(0,"ion-row",20),p.Mb(1,"ion-col",21),p.Mb(2,"ion-spinner",22),p.nc(3,"Filtering"),p.Lb(),p.Lb(),p.Lb())}function C(t,e){if(1&t&&p.Ib(0,"app-heart-icon",39),2&t){const t=p.Wb().$implicit,e=p.Wb(2);p.Zb("job",t)("favoriteJobs",e.favoriteJobsObj)}}function P(t,e){if(1&t){const t=p.Nb();p.Mb(0,"ion-row",26),p.Mb(1,"ion-col",27),p.Ib(2,"img",28),p.Lb(),p.Mb(3,"ion-col",29),p.Mb(4,"h5",30),p.nc(5),p.Lb(),p.Mb(6,"p",31),p.nc(7),p.Lb(),p.Mb(8,"h5",32),p.nc(9),p.Lb(),p.Mb(10,"h5",33),p.nc(11),p.Lb(),p.Lb(),p.Mb(12,"ion-col",34),p.Mb(13,"p",35),p.nc(14),p.Lb(),p.Lb(),p.Mb(15,"ion-col",36),p.Mb(16,"ion-button",37),p.Ub("click",function(){p.gc(t);const o=e.$implicit;return p.Wb(2).jobPage(o)}),p.nc(17," Details "),p.Lb(),p.mc(18,C,1,2,"app-heart-icon",38),p.Lb(),p.Lb()}if(2&t){const t=e.$implicit,o=p.Wb(2);p.xb(2),p.ac("src",t.companyLogo,p.ic),p.xb(3),p.oc(t.title),p.xb(2),p.oc(t.companyName),p.xb(2),p.pc("Posted: ",t.dateCreated,""),p.xb(2),p.pc("$",t.rateOfPay,"/hr"),p.xb(3),p.oc(t.summary),p.xb(4),p.Zb("ngIf",o.favoriteJobsObj)}}function F(t,e){if(1&t&&(p.Mb(0,"ion-row",20),p.Mb(1,"ion-col",23),p.Ib(2,"div",24),p.mc(3,P,19,7,"ion-row",25),p.Lb(),p.Lb()),2&t){const t=p.Wb();p.xb(3),p.Zb("ngForOf",t.allJobs)}}let k=(()=>{class t{constructor(t,e,o,i,n,s,r,a){this.router=t,this.jobs=e,this.favorites=o,this.profile=i,this.popoverController=n,this.favoritesEventEmitterService=s,this.filterJobsService=r,this.loading=a,this.jobFilter="newest",this.jobsGoingLength=0,this.searching=!1,this.noSearchInput=!1}ngOnDestroy(){this.favoritesEventEmitterService.subsVar.unsubscribe(),this.jobsSub.unsubscribe(),this.profileSub.unsubscribe(),this.favoriteJobsSub.unsubscribe()}ngOnInit(){null==this.favoritesEventEmitterService.subsVar&&(this.favoritesEventEmitterService.subsVar=this.favoritesEventEmitterService.invokeJobsPageRefresh.subscribe(()=>{this.getJobs()})),null==this.filterJobsService.subsVar&&(this.filterJobsService.subsVar=this.filterJobsService.filterJobsEmitter.subscribe(t=>{this.jobFilter=t,this.getJobs()})),this.getFavoriteJobs(),this.getJobs(),this.trackRoute()}trackRoute(){this.routerSub=this.router.events.pipe(Object(b.a)(t=>t instanceof n.c)).subscribe(t=>{if(console.log(t.url),t.url.includes("/home/jobs/job-page/")){console.log("Hide Tab Bar!");let t=document.getElementById("tabBar");t.style.height="0px",t.style.transition="1s"}else{let t=document.getElementById("tabBar");console.log(t),t.style.height="50px",t.style.transition="1s"}})}filterMenu(){return Object(a.a)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:d,cssClass:"my-custom-class",showBackdrop:!0,componentProps:{filter:this.jobFilter}});yield t.present(),yield t.onWillDismiss().then(t=>{console.log(t)})})}filter(t){this.initializeItems();let e=t.detail.value;this.presentLoadingWithOptions(),this.allJobs=this.allJobs.filter(t=>{if(console.log(t),t&&e||(console.log("No results from that search"),this.noSearchInput=!0),t.title&&e)return t.title.toLowerCase().indexOf(e.toLowerCase())>-1&&(console.log(t.title),console.log(t),this.searchTerm=e,this.searching=!0,this.noSearchInput=!1,!0);this.noSearchInput=!0}),this.allJobsLength=this.allJobs.length,0===this.allJobsLength&&(console.log("No results from that search"),this.searching=!0,this.searchTerm=e,this.searchbar.getInputElement().then(t=>{t.value=""}),this.noSearchInput=!0),e||(console.log("Search term is empty; showing all jobs instead"),this.noSearchInput=!1,this.searching=!1,this.getJobs())}initializeItems(){this.allJobs=this.loadedAllJobs}getFavoriteJobs(){this.profileSub=this.profile.getUserDetails().subscribe(t=>{this.favoriteJobs=t.favoriteJobs,console.log("Favorite Jobs:"),console.log(this.favoriteJobs),this.favorites.favoriteJobs$.next(this.favoriteJobs),this.favoriteJobsSub=this.favorites.favoriteJobs$.subscribe(e=>{console.log("Favorite Jobs in Service: "+e),this.favoriteJobsAmount=e.length,this.favorites.getFavorites(t.email).subscribe(t=>{this.favoriteJobsObj=t})})})}jobPage(t){console.log("Going to specific Job Page:",t.title),console.log("The job: ",t),this.router.navigate(["/home/jobs/job-page",t._id,t.title,t.companyLogo,t.companyName,t.companyEmail,t.summary,t.fullJobDescription,t.rateOfPay])}favoritesPage(){this.router.navigate(["/home/jobs/favorites"])}doRefresh(t){return Object(a.a)(this,void 0,void 0,function*(){this.allJobs=[],this.getFavoriteJobs(),this.jobsSub=this.jobs.getJobs().subscribe(t=>{this.allJobs=Object.values(t),this.allJobsLength=this.allJobs.length,this.allJobs.reverse(),this.searching=!1;for(const e of this.allJobs)e.dateCreated=Object(f.a)(new Date(e.dateCreated),{addSuffix:!1})}),setTimeout(()=>{t.target.complete(),console.log("jobs Refreshed")},2e3),yield this.searchbar.getInputElement().then(t=>{t.value="",this.noSearchInput=!1}),yield console.log("Refreshing jobs Page..")})}getJobs(){return Object(a.a)(this,void 0,void 0,function*(){this.jobsSub=this.jobs.getJobs().subscribe(t=>{switch(console.log(t),this.jobFilter){case"htol":console.log("High to Low"),this.filtering=!0,this.jobFilter="htol",this.allJobs=Object.values(t),this.allJobsLength=this.allJobs.length,this.allJobs.sort(function(t,e){return console.log("Sorting Price"),parseFloat(t.rateOfPay)-parseFloat(e.rateOfPay)}),this.allJobs.reverse(),this.searching=!1;for(const t of this.allJobs)t.dateCreated=Object(f.a)(new Date(t.dateCreated),{addSuffix:!1});break;case"ltoh":console.log("Low to High"),this.filtering=!0,this.jobFilter="ltoh",this.allJobs=Object.values(t),this.allJobsLength=this.allJobs.length,this.allJobs.sort(function(t,e){return console.log("Sorting Price"),parseFloat(e.rateOfPay)-parseFloat(t.rateOfPay)}),this.allJobs.reverse(),this.searching=!1;for(const t of this.allJobs)t.dateCreated=Object(f.a)(new Date(t.dateCreated),{addSuffix:!1});break;case"oldest":console.log("Oldest"),this.filtering=!0,this.jobFilter="oldest",this.allJobs=Object.values(t),this.allJobsLength=this.allJobs.length,this.searching=!1;for(const t of this.allJobs)t.dateCreated=Object(f.a)(new Date(t.dateCreated),{addSuffix:!1});break;case"newest":console.log("Newest"),this.filtering=!0,this.jobFilter="newest",this.allJobs=Object.values(t),this.allJobsLength=this.allJobs.length,this.allJobs.reverse(),this.searching=!1;for(const t of this.allJobs)t.dateCreated=Object(f.a)(new Date(t.dateCreated),{addSuffix:!1})}return setTimeout(()=>{this.filtering=!1},1e3)})})}presentLoadingWithOptions(){return Object(a.a)(this,void 0,void 0,function*(){const t=yield this.loading.create({duration:1e3,message:"Searching for jobs...",translucent:!0,cssClass:"custom-class custom-loading",keyboardClose:!1});return yield t.present()})}}return t.\u0275fac=function(e){return new(e||t)(p.Hb(n.g),p.Hb(l.a),p.Hb(c.a),p.Hb(h.a),p.Hb(i.Z),p.Hb(u.a),p.Hb(g),p.Hb(i.V))},t.\u0275cmp=p.Bb({type:t,selectors:[["app-jobs"]],viewQuery:function(t,e){if(1&t&&p.tc(i.J,!0),2&t){let t;p.ec(t=p.Vb())&&(e.searchbar=t.first)}},decls:41,vars:10,consts:[["no-border","",1,"ion-hide-lg-up"],["color","light","name","briefcase-outline",2,"position","relative","left","24px"],["slot","end"],[3,"click"],["slot","start","src","../../assets/icon/my-favorite-jobs.svg"],["slot","fixed",3,"ionRefresh"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["slot","start"],["name","briefcase-outline",2,"font-size","2em","color","#0055a5","margin-right","8px"],[1,"filter-button",3,"click"],[1,"favorites-button",3,"click"],["size","12"],["class","filter-message",4,"ngIf"],[1,"filter-toolbar-wrapper","ion-hide-lg-up","ion-justify-content-center"],[1,"filter-toolbar"],["slot","start","name","filter",1,"filter-icon"],["class","ion-justify-content-center",4,"ngIf"],[1,"filter-message"],[1,"ion-justify-content-center"],["size","12",1,"ion-text-center",2,"position","relative","top","-100px"],["name","bubbles"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",2,"margin-top","16px"],[1,"spacer","ion-hide-lg-up"],["class","job-section ion-justify-content-center",4,"ngFor","ngForOf"],[1,"job-section","ion-justify-content-center"],["push","0.5","size","1"],[1,"company-logo",3,"src"],["push","1",2,"height","80px"],["id","job-title"],["id","company-name"],["id","job-posted-date"],["id","job-rate"],["size","11"],["id","job-summary"],["pull","0","size","11"],[1,"job-details","ion-float-right",3,"click"],[3,"job","favoriteJobs",4,"ngIf"],[3,"job","favoriteJobs"]],template:function(t,e){1&t&&(p.Mb(0,"ion-header",0),p.Mb(1,"ion-toolbar"),p.Ib(2,"ion-icon",1),p.Mb(3,"ion-buttons",2),p.Mb(4,"ion-button",3),p.Ub("click",function(){return e.favoritesPage()}),p.Ib(5,"ion-icon",4),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Mb(6,"ion-content"),p.Mb(7,"ion-refresher",5),p.Ub("ionRefresh",function(t){return e.doRefresh(t)}),p.Ib(8,"ion-refresher-content"),p.Lb(),p.Mb(9,"ion-grid"),p.Mb(10,"ion-row",6),p.Mb(11,"ion-col",7),p.Mb(12,"ion-toolbar",8),p.Mb(13,"ion-buttons",9),p.Ib(14,"ion-icon",10),p.Mb(15,"h1"),p.nc(16,"Jobs"),p.Lb(),p.Lb(),p.Mb(17,"ion-buttons",2),p.Mb(18,"ion-button",11),p.Ub("click",function(){return e.filterMenu()}),p.nc(19," Filter "),p.Lb(),p.Mb(20,"ion-button",12),p.Ub("click",function(){return e.favoritesPage()}),p.nc(21," Favorites "),p.Lb(),p.Lb(),p.Lb(),p.Mb(22,"ion-row"),p.Mb(23,"ion-col",13),p.mc(24,v,4,0,"p",14),p.mc(25,j,4,0,"p",14),p.mc(26,M,4,0,"p",14),p.mc(27,L,4,1,"p",14),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Mb(28,"ion-row",15),p.Mb(29,"ion-col",7),p.Mb(30,"ion-toolbar",16),p.Mb(31,"ion-buttons",9),p.mc(32,J,4,0,"p",14),p.mc(33,y,4,0,"p",14),p.mc(34,O,4,0,"p",14),p.mc(35,x,4,0,"p",14),p.Lb(),p.Mb(36,"ion-buttons",2),p.Mb(37,"ion-button",3),p.Ub("click",function(){return e.filterMenu()}),p.Ib(38,"ion-icon",17),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.mc(39,w,4,0,"ion-row",18),p.mc(40,F,4,1,"ion-row",18),p.Lb(),p.Lb()),2&t&&(p.xb(24),p.Zb("ngIf","htol"===e.jobFilter),p.xb(1),p.Zb("ngIf","ltoh"===e.jobFilter),p.xb(1),p.Zb("ngIf","newest"===e.jobFilter),p.xb(1),p.Zb("ngIf","oldest"===e.jobFilter),p.xb(5),p.Zb("ngIf","htol"===e.jobFilter),p.xb(1),p.Zb("ngIf","ltoh"===e.jobFilter),p.xb(1),p.Zb("ngIf","newest"===e.jobFilter),p.xb(1),p.Zb("ngIf","oldest"===e.jobFilter),p.xb(4),p.Zb("ngIf",e.filtering),p.xb(1),p.Zb("ngIf",!e.filtering))},directives:[i.u,i.S,i.v,i.h,i.g,i.o,i.F,i.G,i.t,i.I,i.n,s.j,i.M,s.i,m.a],styles:["ion-header[_ngcontent-%COMP%]{box-shadow:1px 1px 5px rgba(0,0,0,.1);background:#edf3f8;border-bottom:1px solid #005191}ion-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2em}#searchbar-wrapper[_ngcontent-%COMP%]{transition:.5s;height:60px;background:#edf3f8}#logo[_ngcontent-%COMP%]{width:100px;position:relative;top:10px;left:10px}.company-logo[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;background-position:50%;border-radius:50px}.filter-toolbar-wrapper[_ngcontent-%COMP%]{background:linear-gradient(90deg,#0055a5 10%,#051422);position:fixed;width:100%;height:50px;z-index:9999}.filter-toolbar-wrapper[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:none}.filter-toolbar[_ngcontent-%COMP%]{height:40px;position:relative;top:-8px}.filter-message[_ngcontent-%COMP%]{color:#fff;font-size:1.2em}.filter-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}@media only screen and (min-width:992px){.filter-message[_ngcontent-%COMP%]{color:#0055a5}}.filter-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.4em}.job-details[_ngcontent-%COMP%]{--background:#0055a5;--color:#fff;--background-hover:#182836;height:24px;--width:100px;font-size:.5em;font-weight:600;display:block;position:relative;top:10px}.desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid rgba(51,51,51,.14901960784313725)}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.favorites-button[_ngcontent-%COMP%]{--background:#e3405f;--background-hover:linear-gradient(#e3405f,#5f4045)}.favorites-button[_ngcontent-%COMP%], .filter-button[_ngcontent-%COMP%]{--color:#fff;height:24px;width:100px;font-size:.5em;font-weight:600;display:block}.filter-button[_ngcontent-%COMP%]{--background:#333;--background-hover:linear-gradient(#e3405f,#da3a57);--border-radius:5px}.job-section[_ngcontent-%COMP%]{background:#fff;border-radius:10px;height:auto;color:#777;width:100%;opacity:0;padding:1em 0;margin-bottom:50px;box-shadow:1px 10px 26px rgba(0,0,0,.05);-webkit-animation:job-section-slide .5s ease .5 forwards;animation:job-section-slide .5s ease .5 forwards}@-webkit-keyframes job-section-slide{0%{transform:translateX(-20px);opacity:1}to{opacity:1;transform:translateX(0)}}@keyframes job-section-slide{0%{transform:translateX(-20px);opacity:1}to{opacity:1;transform:translateX(0)}}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{display:block}--ion-buttons[_ngcontent-%COMP%]{--color:#888}#job-summary[_ngcontent-%COMP%]{font-size:1em;line-height:1.3em;color:#222}#company-name[_ngcontent-%COMP%]{font-size:.9em;opacity:.8;position:relative;top:-29px}#job-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:500;position:relative;top:-15px;color:#111}#job-rate[_ngcontent-%COMP%]{font-size:.95em;font-weight:900;opacity:.7;position:relative;top:-53px;color:#116e56}@media only screen and (min-width:992px){#job-title[_ngcontent-%COMP%]{font-size:1.3em;font-weight:500}}@media only screen and (min-width:576px){#job-title[_ngcontent-%COMP%]{font-size:1.3em;font-weight:500}}#job-posted-date[_ngcontent-%COMP%]{font-size:10px;opacity:.7;position:relative;top:-43px}"]}),t})();const S=[{path:"",component:k},{path:"job-page/:id/:title/:companyLogo/:companyName/:companyEmail/:summary/:fullJobDescription/:rateOfPay",loadChildren:()=>o.e(39).then(o.bind(null,"2Iy3")).then(t=>t.JobPagePageModule)},{path:"favorites",loadChildren:()=>o.e(38).then(o.bind(null,"B9Dp")).then(t=>t.FavoritesPageModule)}];let _=(()=>{class t{}return t.\u0275mod=p.Fb({type:t}),t.\u0275inj=p.Eb({factory:function(e){return new(e||t)},imports:[[n.k.forChild(S)],n.k]}),t})();var I=o("zAgk"),E=o("bUUK");let z=(()=>{class t{}return t.\u0275mod=p.Fb({type:t}),t.\u0275inj=p.Eb({factory:function(e){return new(e||t)},imports:[[i.T,I.a,s.b,r.d,r.l,_,n.k.forChild([{path:"",component:k}]),E.ViewResumePageModule]]}),t})()},U8oy:function(t,e,o){"use strict";o.d(e,"a",function(){return c});var i=o("mrSG"),n=o("2Vo4"),s=o("Aso2"),r=o("AytR"),a=o("fXoL"),b=o("tk/3"),l=o("TEn/");let c=(()=>{class t{constructor(t,e,o){this.http=t,this.profile=e,this.toast=o,this.BACKEND_URL=r.a.url,this.favoriteJobs$=new n.a([])}getFavorites(t){return console.log("Getting Favorites"),this.http.post(this.BACKEND_URL+"/api/jobs/get-favorites",{email:t})}favoriteThisJob(t){const e=this.profile.activeEmail;return t.userEmail=e,this.http.post(this.BACKEND_URL+"/api/jobs/favorite",{email:e,_id:t._id}).subscribe(t=>{console.log("Posting Favorite Job to Database..");let e=[...Object.values(t)];this.favoriteJobs$.next(e),this.presentToastFavorited("You favorited this job!")})}unFavoriteThisJob(t){const e=this.profile.activeEmail;t.userEmail=e,this.http.post(this.BACKEND_URL+"/api/jobs/unfavorite",{email:e,_id:t._id}).subscribe(t=>Object(i.a)(this,void 0,void 0,function*(){console.log("Unfavorite data value: ",t);let e=[...Object.values(t)];this.favoriteJobs$.next(e),this.presentToastUnfavorited("You removed this job from Favorites.")})),console.log("Unfavoriting this Job")}presentToastFavorited(t){return Object(i.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:t,duration:3e3,cssClass:"favorited-toast",position:"bottom"})).present()})}presentToastUnfavorited(t){return Object(i.a)(this,void 0,void 0,function*(){(yield this.toast.create({message:t,duration:3e3,cssClass:"unfavorited-toast",position:"bottom"})).present()})}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(b.b),a.Qb(s.a),a.Qb(l.eb))},t.\u0275prov=a.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},b7Ok:function(t,e,o){"use strict";o.d(e,"a",function(){return b});var i=o("R0Ic"),n=o("U8oy"),s=o("Aso2"),r=o("fXoL"),a=o("TEn/");let b=(()=>{class t{constructor(t,e){this.favorites=t,this.profile=e,this.favoriteState="unfavorited",this.iconName="heart"}ngOnInit(){setTimeout(()=>{for(const t of this.favoriteJobs)this.job._id==t._id&&this.setFavoriteStateOn()},300)}toggleLikeState(){"unfavorited"===this.favoriteState?(this.setFavoriteStateOn(),this.favorites.favoriteThisJob(this.job)):(this.setFavoriteStateOff(),this.favorites.unFavoriteThisJob(this.job))}setFavoriteStateOn(){this.favoriteState="favorited",this.iconName="heart"}setFavoriteStateOff(){this.favoriteState="unfavorited",this.iconName="heart"}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(n.a),r.Hb(s.a))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-heart-icon"]],inputs:{job:"job",favoriteJobs:"favoriteJobs"},decls:1,vars:2,consts:[["tappable","",2,"font-size","3em",3,"name","click"]],template:function(t,e){1&t&&(r.Mb(0,"ion-icon",0),r.Ub("click",function(){return e.toggleLikeState()}),r.Lb()),2&t&&r.Zb("@heart",e.favoriteState)("name",e.iconName)},directives:[a.v],styles:["ion-icon[_ngcontent-%COMP%]{float:right;z-index:9999;position:relative;right:10px;margin-right:20px}"],data:{animation:[Object(i.j)("heart",[Object(i.g)("unfavorited",Object(i.h)({color:"#999",opacity:"1",transform:"scale(0.9)"})),Object(i.g)("favorited",Object(i.h)({color:"#e4405f",opacity:"1",transform:"scale(1)"})),Object(i.i)("unfavorited <=> favorited",Object(i.e)("100ms ease-out"))])]}}),t})()},sgUz:function(t,e,o){"use strict";o.d(e,"a",function(){return r});var i=o("AytR"),n=o("fXoL"),s=o("tk/3");let r=(()=>{class t{constructor(t){this.http=t,this.BACKEND_URL=i.a.url}getJobs(){return console.log("Getting Jobs"),this.http.get(this.BACKEND_URL+"/api/jobs")}sendEmailApplication(t,e,o,i,n,s){return console.log("Sending email to "+s),this.http.post(this.BACKEND_URL+"/api/jobs/send-application",{user:t,age:e,phoneNumber:o,reason:i,jobTitle:n,jobCompanyEmail:s})}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(s.b))},t.\u0275prov=n.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);