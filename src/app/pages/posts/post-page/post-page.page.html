<ion-header>
  <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button></ion-back-button>
      </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content
  [scrollEvents]="true"
  (ionScroll)="logScrolling($event)">

    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>

      <ion-fab vertical="bottom" horizontal="end" slot="fixed">
          <ion-fab-button (click)="ScrollToTop()">
            <ion-icon name="arrow-dropup" size="large"></ion-icon>
          </ion-fab-button>
        </ion-fab>

  <ion-grid no-padding>

        <ion-row class="post-header">
            <ion-col size="3" offset="0.5">
                <img class="header-avatar" src="../../assets/batman-pro-pic.png" />
              </ion-col>
              <ion-col size="6">
                  <h6>{{creatorName}}</h6>
              </ion-col>
              <ion-col size="2" offset="0.5">
                  <h6 class="date">{{date}}</h6>
              </ion-col>
        </ion-row>

        <ion-row>
          <!-- Post Content -->
          <ion-col style="margin: 20px 0px 20px 0;" size="11" offset="0.5">

              <p style="font-size: 1em; line-height: 25px;">{{post}}</p>
          </ion-col>
        </ion-row>


        <!-- Comment -->
        <ion-row class="comment-form">
          <ion-col size="11" offset="0.5">
            <ion-item>
              <form (ngSubmit)="comment(this.commentForm.value)" [formGroup]="commentForm">
                  <ion-input type="text" placeholder="Comment" formControlName="comment">
                  </ion-input>
                  <!-- <ion-button type="submit">
                    comment
                  </ion-button> -->
              </form>
              <ion-icon
              *ngIf="!commentForm
                .get('comment')
                .pristine"
              slot="end"
              name="send"
              (click)="comment(this.commentForm.value)"></ion-icon>
            </ion-item>
          </ion-col>

          <!-- Post Actions -->
          <ion-col style="margin-top: 0px; height: 50px;" size="11" offset="0.5">
              <ion-toolbar style="--background: none;">
                  <ion-buttons slot="end">
                    <ion-button style="font-size: 0.8em; color: white;">
                      <ion-icon slot="start" name="checkbox-outline"></ion-icon>
                      Follow
                    </ion-button>
                    <ion-button style="font-size: 0.8em; color: white;">
                      <ion-icon slot="start" name="share"></ion-icon>
                      Share
                    </ion-button>
                    </ion-buttons>
              </ion-toolbar>
          </ion-col>
        </ion-row>

      <ion-row *ngIf="comments.length === 0">
        <ion-col size="12">
          <h4>This post has no comments</h4>
        </ion-col>
      </ion-row>

        <ion-row class="comment" *ngFor="let comment of comments">
            <ion-col size="11" offset="0.5">
                  <ion-item>
                    <ion-avatar class="comment-avatar" slot="start">
                      <img src="../../assets/goku-pro-pic.png">
                    </ion-avatar>
                    <ion-label>
                      <h6 style="opacity: 0.5">{{ comment.userFullName}} - {{ comment.date }} </h6>
                      </ion-label>
                </ion-item>
            </ion-col>

          <ion-col size="11" offset="0.5">
            <ion-item>
              <ion-label class="comment-text ion-text-wrap">{{ comment.comment}}.</ion-label>
            </ion-item>
          </ion-col>

          <ion-col size="11" offset="0.5">
            <ion-toolbar>
              <ion-buttons slot="secondary">
                  {{comment.likes}}
               <ion-button>
                  <ion-icon color="primary" slot="icon-only" name="thumbs-up"></ion-icon>
               </ion-button>
               <ion-button>
                 <ion-icon color="primary" slot="icon-only" name="share-alt"></ion-icon>
               </ion-button>
               <ion-button>
                 <ion-icon color="primary" slot="icon-only" name="document"></ion-icon>
               </ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-col>
         </ion-row>

      </ion-grid>
</ion-content>
