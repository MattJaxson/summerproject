 <!-- Mobile Toolbar -->
<ion-header class="ion-hide-lg-up">
  <ion-toolbar style="--background: white;" class="ion-hide-lg-up">
    <ion-grid>
      <ion-row>
        <ion-col class="ion-align-items-center" offset="1" size="2">
          <img src="../../assets/goku-pro-pic.png" style="background: #999; border-radius: 100px; height: 45px; width: 45px;">
        </ion-col>
        <ion-col size="4">
          <p style="color: #333;">{{userFullName}}</p>
        </ion-col>
        <ion-col size="2">
          <ion-button style="font-size: 0.7em; width: 100px" class="blue-button" style="animation: none; opacity: 1; width: 80px; height: 40px; font-size: 0.6em;" (click)="following()">
            Following
        </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
    </ion-toolbar>
</ion-header>

<ion-content>

  <!-- fab placed to the bottom end -->
  <ion-fab class="ion-hide-lg-up" vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="addPost()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <!-- Refresher -->
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!-- Desktop -->
  <ion-grid class="ion-hide-md-down">
    <ion-row style="margin-top: 5%;">

      <!-- Posts -->
      <ion-col offset="2" size="5">
        <ion-row *ngFor="let post of allPosts" class="post">

          <!-- Profile Header -->
          <ion-col size="12">
            <ion-row style="position: relative; left: 5px; top: 4px;" >
            <!-- Profile Picture -->
            <ion-col offset="0.5" size="1">
              <img src="../../assets/batman-pro-pic.png" style="background: #999; border-radius: 100px; height: 40px; width: 40px;">
            </ion-col>

            <!-- Post Creator's Name -->
            <ion-col size="6">
              <h6 style="font-size: 1em; font-weight: 500;">{{post.creatorName}}</h6>
            </ion-col>

            <!-- Date -->
            <ion-col size="2">
                <h6 style="opacity: 0.4; font-size: 0.8em;">{{post.date}}</h6>
            </ion-col>

          </ion-row>
          </ion-col>

          <!-- Post Content -->
          <ion-col size="12">
            <ion-row>
              <!-- 1080x1350 -->
              <ion-col offset="0.5" size="11" (click)="postPage(post)">
               <p class="post-content">{{post.post}}</p>
              </ion-col>
           </ion-row>
          </ion-col>

          <!-- Comment -->
          <ion-col size="12">
            <ion-row style="position: relative; right: 6px; top: -4px;" >
              <ion-col offset="0.5" size="11">
                <ion-item lines="none">
                 <form (ngSubmit)="comment(this.commentForm.value, this.post._id)" [formGroup]="commentForm">
                   <ion-textarea
                      class="comment-input"
                      autogrow="true"
                      autocapitalize="true"
                      rows="5"
                      spellcheck="true"
                      wrap="soft"
                      type="text"
                      placeholder="Add a Comment" formControlName="comment">
                    </ion-textarea>
                    <!-- Comment Post Button -->
                    <ion-button
                      style="float: right;"
                      class="comment-post-button"
                      *ngIf="!commentForm
                              .get('comment')
                              .pristine && commentForm.value.comment.length >= 3"
                        name="send"
                        type="submit">Post
                    </ion-button>
                 </form>

        </ion-item>
              </ion-col>
            </ion-row>
          </ion-col>

          <!-- Post Buttons -->
          <ion-col size="12">
            <ion-row>
              <!-- Upvote & Downvote-->
              <ion-col size="4">
                  <ion-toolbar>
                    <ion-buttons slot="start">
                      <ion-button class="upvote" (click)="upVotePost(post._id)">
                        <ion-icon size="large" src="../../../assets/icon/caret-up-outline.svg"></ion-icon>
                        {{post.upvotes}}
                      </ion-button>
                      <ion-button class="downvote" (click)="downVotePost(post._id)">
                        <ion-icon size="large" src="../../../assets/icon/caret-down-outline.svg"></ion-icon>
                        0
                      </ion-button>
                    </ion-buttons>
                  </ion-toolbar>
              </ion-col>

              <!-- Follow & Comment -->
              <ion-col push="1" size="6">
                <ion-toolbar style="--background: none;">
                  <ion-buttons slot="end">
                    <ion-button class="follow" (click)="follow()">
                      Follow
                    </ion-button>
                    <!-- <ion-button *ngIf="following" class="unfollow-button"  (click)="unFollow()">
                      Unfollow
                    </ion-button> -->
                    <ion-button
                    class="comment-button"
                    (click)="postPage(post)">
                    Comments ({{post.comments.length}})
                    </ion-button>
                  </ion-buttons>
               </ion-toolbar>
              </ion-col>
            </ion-row>
          </ion-col>


        </ion-row>
      </ion-col>

      <!-- Sidebar with User Info -->
      <ion-col style="position: relative; left: 20px;" size="2">
        <ion-row class="user-details">
          <ion-col size="12">
            <ion-row>
              <ion-col size="2">
                <img src="../../assets/goku-pro-pic.png" style="background: #999; border-radius: 100px; height: 65px; width: 65px;">
              </ion-col>
              <ion-col size="6">
                <h6 style="font-size: 1.2em; font-weight: 700; position: relative; left: 10px;">Son Goku
                </h6>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-button class="followed-button" (click)="following()">
              Followed ({{followedPostLength}})
            </ion-button>
            <ion-button class="add-button"  (click)="addPost()">
              Add Post
            </ion-button></ion-col>
        </ion-row>
      </ion-col>
      <ion-col size="1"></ion-col>
    </ion-row>
  </ion-grid>

  <!-- Mobile -->
  <ion-grid class="ion-hide-lg-up">
    <ion-row style="margin-top: 5%;">

      <!-- Posts -->
      <ion-col offset-xs="" size-xs="12" offset-sm="2" size-sm="8" offset-md="2" size-md="8">
        <ion-row *ngFor="let post of allPosts" style="margin-top: 3%;" class="post">

          <!-- Profile Header -->
          <ion-col size="12">
            <ion-row style="position: relative; right: 5px; top: -4px;" >
            <!-- Profile Picture -->
            <ion-col push="1" size="2">
              <img src="../../assets/batman-pro-pic.png" style="background: #999; border-radius: 100px; height: 40px; width: 40px;">
            </ion-col>

            <!-- Post Creator's Name -->
            <ion-col size="6">
              <h6 style="font-size: 0.7em; font-weight: 700;">{{post.creatorName}}</h6>
            </ion-col>

            <!-- Date -->
            <ion-col size="2">
                <h6 style="opacity: 0.4; font-size: 0.5em;">{{post.date}}</h6>
            </ion-col>

          </ion-row>
          </ion-col>

          <!-- Post Content -->
          <ion-col size="12">
            <ion-row>
              <!-- 1080x1350 -->
              <ion-col push="1" size="10" (click)="postPage(post)" style="height: auto; background: white">
              <p style="font-size: 1em; line-height: 25px; width: 100%;">{{post.post}}</p>
              </ion-col>
          </ion-row>
          </ion-col>

          <!-- Comment -->
          <ion-col size="12">
            <ion-row style="position: relative; right: 6px; top: -4px;" >
              <ion-col push="1" size="10">
                <ion-item style="height: auto;" lines="none">
                <form style="border-top: 1px solid #999; padding-top: 20px;" (ngSubmit)="comment(this.commentForm.value, this.post._id)" [formGroup]="commentForm">
                    <ion-input type="text" placeholder="Add a Comment" formControlName="comment">
                    </ion-input>
                </form>
                <ion-icon
                *ngIf="!commentForm
                .get('comment')
                .pristine"
                slot="end"
                name="send"></ion-icon>

        </ion-item>
              </ion-col>
            </ion-row>
          </ion-col>

          <!-- Post Buttons -->
          <ion-col size="12">
            <ion-row>
              <ion-col push="1" size="10">
                <ion-toolbar class="post-toolbar" style="--background: none;">
                  <ion-buttons slot="end">
                      <!-- Icons -->
                        <app-follow-icon [post]="post" [userEmail]="userEmail">Follow</app-follow-icon>


                    <ion-button (click)="postPage(post)">
                    <ion-icon style=" position: relative; left: -5px;"  name="chatboxes" ></ion-icon>
                    ({{post.comments.length}})
                    </ion-button>

                  </ion-buttons>
              </ion-toolbar>
              </ion-col>
            </ion-row>
          </ion-col>

        </ion-row>
       </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>

