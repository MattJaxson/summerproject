 <!-- Mobile Toolbar -->
<ion-header no-border class="ion-hide-lg-up">
  <ion-toolbar>
    <ion-grid>
      <ion-row class="ion-align-items-center">
        <ion-col push-xs=".45" push-sm="1"  size-xs="1.2">
          <img src="{{userProfilePicture}}" style="background: #999; border-radius: 100px; height: 35px; width: 35px;">
        </ion-col>
        <ion-col push-sm=".5" size="7">
          <p id="username">{{userFullName}}</p>
        </ion-col>
        <ion-col size="2">
          <ion-button class="following-mobile-button" (click)="following()">
            Following ({{followedPostCount}})
        </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
    </ion-toolbar>
</ion-header>

<ion-content>

  <!-- fab placed to the bottom end -->
  <ion-fab class="ion-hide-lg-up" vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button id="add-post-button" (click)="addPost()">
      <ion-icon name="add" size="large"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <!-- Refresher -->
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!-- Desktop -->
  <ion-grid class="ion-hide-md-down">
    <ion-row class="ion-justify-content-center">
      <!-- Posts -->
      <ion-col size="7.5" style="margin-top: 2%;">
        <ion-row *ngFor="let post of allPosts" class="post ion-justify-content-center">

          <!-- Profile Heder -->
          <ion-col size="11">
            <ion-row class="ion-align-items-center">
            <!-- Profile Picture -->
            <ion-col push="0.2" size="1">
              <img src="{{post.creatorProfilePicture}}" style="background: #999; border-radius: 100px; height: 40px; width: 40px;">
            </ion-col>

            <!-- Post Creator's Name -->
            <ion-col size="4">
              <h6 style="font-size: 1em; font-weight: 500;">{{post.creatorName}}</h6>
            </ion-col>

            <!-- Date -->
            <ion-col class="ion-float-right" push-lg="4.3" size="3">
                <h6 style="opacity: 0.4; font-size: 0.8em;">{{post.date}}</h6>
            </ion-col>

          </ion-row>
          </ion-col>

          <!-- (click)="postPage(post)" -->
          <!-- Post Content -->
          <ion-col size="11">
            <ion-row class="ion-justify-content-center">
              <!-- 1080x1350 -->
              <ion-col size="11.3">
               <p class="post-content">{{post.post}}</p>
              </ion-col>
           </ion-row>
          </ion-col>

          <!-- Comment -->
          <ion-col size="11">
            <ion-row class="ion-justify-content-center">
              <ion-col size="11.8">
                <ion-item lines="none">
                 <form (ngSubmit)="comment(post._id, this.userFullName, this.userEmail, this.userProfilePicture, this.commentForm.value)" [formGroup]="commentForm">
                   <ion-textarea
                      class="comment-input"
                      autogrow="true"
                      autocapitalize="true"
                      rows="5"
                      spellcheck="true"
                      wrap="soft"
                      type="text"
                      placeholder="Add a Comment" formControlName="comment">
                    </ion-textarea>
                    <!-- Comment Post Button -->
                    <ion-button
                      class="comment-post-button"
                      *ngIf="!commentForm
                              .get('comment')
                              .pristine && commentForm.value.comment.length >= 3"
                        name="send"
                        type="submit">Post
                    </ion-button>
                 </form>

        </ion-item>
              </ion-col>
            </ion-row>
          </ion-col>

          <!-- Post Buttons -->
          <ion-col size="11">
            <ion-row>
              <!-- Upvote & Downvote-->
              <ion-col push="0" size="4.7">
                <app-up-down-vote-buttons [postID]="post._id"></app-up-down-vote-buttons>
              </ion-col>

              <!-- Follow & Comment -->
              <ion-col push="0.8" size="6">
                <app-follow-comment-buttons [isUser]="post.isUser" [postID]="post._id"></app-follow-comment-buttons>
              </ion-col>
            </ion-row>
          </ion-col>


        </ion-row>
      </ion-col>

      <!-- Sidebar with User Info -->
      <ion-col push="0.5" size="2" style="margin-top: 2%;">
        <ion-row class="user-details" style="position: fixed;">
          <ion-col size="12">
            <ion-row>
              <ion-col size-lg="2.8" size-xl="2.1">
                <img src="{{userProfilePicture}}" style="background: #999; border-radius: 100px; height: 65px; width: 65px;">
              </ion-col>
              <ion-col size="6">
                <h6 style="font-size: 1.2em; font-weight: 700; position: relative; left: 10px;">{{userFullName}}</h6>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-button class="blue-button following-desktop-button" (click)="following()">
              Following ({{followedPostCount}})
            </ion-button>
            <!-- <ion-button class="my-post-button"  (click)="myPosts()">
              My Posts
            </ion-button> -->
            <ion-button class="add-button"  (click)="addPost()">
              Add Post
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Mobile -->
  <ion-grid class="ion-hide-lg-up">

    <ion-row class="ion-justify-content-center" style="margin-top: 1%;">

      <!-- Posts -->
      <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="10" pull-lg="2">
        <ion-row *ngFor="let post of allPosts" style="margin-top: 1%;" class="post ion-justify-content-center">

          <!-- Profile Header -->
          <ion-col size="11">
            <ion-row style="position: relative; right: 5px; top: -4px;" >
            <!-- Profile Picture -->
            <ion-col size="1.3">
              <img src="{{post.creatorProfilePicture}}" style="background: #999; border-radius: 100px; height: 40px; width: 40px;">
            </ion-col>

            <!-- Post Creator's Name -->
            <ion-col size="5">
              <h6 style="font-size: 0.9em; font-weight: 500; margin: 10px 0 10px 0px; color: #666;">{{post.creatorName}}</h6>
            </ion-col>

            <!-- Date -->
            <ion-col class="ion-text-right" push="1.5" size="3">
                <h6 style="opacity: 0.4; font-size: 0.5em; margin: 10px 0; position: relative; top: 10px;">{{post.date}}</h6>
            </ion-col>

          </ion-row>
          </ion-col>

          <!-- Post Content -->
          <ion-col size="12">
            <ion-row class="ion-justify-content-center">
              <!-- (click)="postPage(post)"  -->
              <!-- 1080x1350 -->
              <ion-col size="11" style="height: auto; background: white">
              <p class="post-content" style="font-size: 0.8em; width: 100%; position: unset; line-height: 1.3em;">{{post.post}}</p>
              </ion-col>
          </ion-row>
          </ion-col>

          <!-- Comment -->
          <ion-col size="12">
            <ion-row class="ion-justify-content-center" style="position: relative; right: 0px; top: -4px;" >
              <ion-col size="12">
                <ion-item  style="height: auto;" lines="none">
                <form (ngSubmit)="comment(post._id, this.userFullName, this.userEmail, this.userProfilePicture, this.commentForm.value)" [formGroup]="commentForm">
                  <ion-textarea
                  class="comment-input-mobile"
                  autogrow="true"
                  autocapitalize="true"
                  rows="5"
                  spellcheck="true"
                  wrap="soft"
                  type="text"
                  placeholder="Add a Comment" formControlName="comment">
                </ion-textarea>
                <!-- Comment Post Button -->
                <ion-button
                  style="float: right;"
                  class="comment-post-button"
                  *ngIf="!commentForm
                          .get('comment')
                          .pristine && commentForm.value.comment.length >= 3"
                    name="send"
                    type="submit">Post
                </ion-button>
                </form>

        </ion-item>
              </ion-col>
            </ion-row>
          </ion-col>

          <!-- Post Buttons -->
          <ion-col size="12">
            <ion-row class="ion-justify-content-center">
              <!-- Upvote & Downvote-->
              <ion-col pull="1" size="4" size-xs="4.4">
                <app-up-down-vote-buttons [postID]="post._id"></app-up-down-vote-buttons>
              </ion-col>

              <!-- Follow & Comment -->
              <ion-col size="6">
                <app-follow-comment-buttons [postID]="post._id"></app-follow-comment-buttons>
              </ion-col>
            </ion-row>
          </ion-col>

        </ion-row>
      </ion-col>

    </ion-row>
  </ion-grid>

</ion-content>

