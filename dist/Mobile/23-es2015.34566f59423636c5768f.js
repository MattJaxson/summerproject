(window.webpackJsonp=window.webpackJsonp||[]).push([[23,66,67,68],{Aso2:function(t,e,s){"use strict";s.d(e,"a",function(){return d});var o=s("mrSG"),i=s("NuaS"),r=s("lGQG"),a=s("2Vo4"),n=s("JIr8"),h=s("AytR"),p=s("fXoL"),l=s("tk/3"),u=s("e8h1"),c=s("TEn/"),m=s("tyNb");let d=(()=>{class t{constructor(t,e,s,o,i,r,n){this.http=t,this.storage=e,this.alertController=s,this.helper=o,this.auth=i,this.router=r,this.toastController=n,this.BACKEND_URL=h.a.url,this.activeEmail="",this.fullName=new a.a(""),this.about=new a.a(""),this.city=new a.a(""),this.state=new a.a(""),this.zip=new a.a(""),this.gender=new a.a(""),this.dob=new a.a(""),this.school=new a.a(""),this.grade=new a.a(""),this.profilePicture=new a.a(""),this.resume=new a.a(""),this.email=new a.a(""),this.activeEmail=this.auth.user.email}getAllUsers(){return this.http.get(this.BACKEND_URL+"/api/home/user")}getUserDetails(){return this.http.post(this.BACKEND_URL+"/api/home/user",{email:this.activeEmail})}getTheirDetails(t){return this.http.post(this.BACKEND_URL+"/api/home/user/their-details",{email:t})}changeEmail(t,e,s){return this.http.post(this.BACKEND_URL+"/api/home/user/change-email",{oldEmail:this.activeEmail,email:e,password:s}).pipe(Object(n.a)(t=>{throw this.presentFailToast(this.activeEmail),new Error(t)})).subscribe(t=>{if(!0!==t)return this.presentFailToast(this.activeEmail),console.log("Passwords dont match");this.email.next(e),this.activeEmail=e,this.router.navigate(["/home/profile"]),this.presentSuccessToast()})}presentSuccessToast(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())}presentFailToast(t){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of "+t,duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present())}changePassword(t,e,s,i){return Object(o.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-password",{oldPassword:e,email:t,newPassword:s,reTypeNewPassword:i}).subscribe(t=>{!0===t?(console.log("TRUE"),this.router.navigate([""]),this.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())):console.log("Passwords dont match!")})})}changeAbout(t,e,s){return Object(o.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-about",{email:t,newAbout:e,passsword:s}).subscribe()})}changeSchool(t,e,s,i){return Object(o.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:t,newSchool:e,newGrade:s,password:i}).subscribe(t=>{if(!0!==t)return this.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present()),console.log("Passwords dont match");this.school.next(e),this.grade.next(s),this.router.navigate(["/home/profile"]),this.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())})})}changeProfilePicture(t,e){return Object(o.a)(this,void 0,void 0,function*(){return this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",{imageForm:t,oldPhotoKey:e}).subscribe()})}changeResume(t,e,s){return Object(o.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:t,newResume:e,password:s}).subscribe(t=>{if(!0!==t)return console.log("Passwords dont match");console.log("Changing Resume..."),this.resume.next(e),this.router.navigate(["/home/user/change-school/:school/:grade/confirm"])})})}delete(){console.log("Deleted User")}}return t.\u0275fac=function(e){return new(e||t)(p.Qb(l.b),p.Qb(u.b),p.Qb(c.a),p.Qb(i.b),p.Qb(r.a),p.Qb(m.f),p.Qb(c.Z))},t.\u0275prov=p.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ENZJ:function(t,e,s){"use strict";s.d(e,"a",function(){return h});var o=s("AytR"),i=s("2Vo4"),r=s("Aso2"),a=s("fXoL"),n=s("tk/3");let h=(()=>{class t{constructor(t,e){this.http=t,this.profile=e,this.BACKEND_URL=o.a.url,this.postsSubject$=new i.a([]),this.commentsSubject$=new i.a([]),this.followingSubject$=new i.a([])}getPosts(){return this.http.get(this.BACKEND_URL+"/api/posts/")}getMyPosts(t){return this.http.post(this.BACKEND_URL+"/api/posts/my-posts",{email:t})}getPostInfo(t){return this.http.post(this.BACKEND_URL+"/api/posts/post-info",{_id:t})}addPost(t,e,s,o,i){return console.log("Adding post to post que..."),console.log("Post: ",o),this.http.post(this.BACKEND_URL+"/api/posts/add-text-post",{creatorName:t,creatorEmail:e,creatorProfilePicture:s,post:o,title:i})}comment(t,e,s,o,i){return this.http.post(this.BACKEND_URL+"/api/posts/comment",{postID:t,userFullName:e,userEmail:s,userProfilePicture:o,comment:i})}editPost(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/edit-post",{postID:t,newPost:e})}editComment(t,e,s){return this.http.post(this.BACKEND_URL+"/api/posts/edit-comment",{postID:e,commentID:t,newComment:s})}upVotePost(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/up-vote-post",{postID:t,userEmail:e})}downVotePost(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/down-vote-post",{postID:t,userEmail:e})}upVoteComment(t,e,s){return this.http.post(this.BACKEND_URL+"/api/posts/up-vote-comment",{postID:t,commentID:e,userEmail:s})}downVoteComment(t,e,s){return this.http.post(this.BACKEND_URL+"/api/posts/down-vote-comment",{postID:t,commentID:e,userEmail:s})}followPost(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/follow",{_id:t,email:e}).subscribe(t=>{let e=[...Object.values(t)];this.followingSubject$.next(e)})}unFollowPost(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/unfollow",{_id:t,email:e}).subscribe(t=>{let e=[...Object.values(t)];this.followingSubject$.next(e)})}getFollowedPost(t){return this.http.post(this.BACKEND_URL+"/api/posts/get-followed-posts",{_id:t})}deleteComment(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/delete-comment",{_id:t,_cid:e})}deletePost(t){return this.http.post(this.BACKEND_URL+"/api/posts/delete-post",{_id:t})}reportComment(t,e,s,o,i,r,a,n,h,p){return this.http.post(this.BACKEND_URL+"/api/posts/report",{commentID:t,commentContents:e,post:s,postID:o,reportedUserName:i,reportedUserEmail:r,commentDate:a,userEmail:n,userFullname:h,reportReason:p})}replyComment(t,e,s,o,i,r,a,n){return this.http.post(this.BACKEND_URL+"/api/posts/reply-comment",{postID:e,commentID:t,reply:s,userFullName:o,userProfilePicture:r,userEmail:i,commentUserEmail:n,commentUserFullName:a})}deleteReply(t,e,s){return this.http.post(this.BACKEND_URL+"/api/posts/delete-reply",{_rid:t,_cid:e,_pid:s})}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(n.b),a.Qb(r.a))},t.\u0275prov=a.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);