!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,o){if(!t)return;if("string"==typeof t)return e(t,o);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,o)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[23,66,67,68],{Aso2:function(t,e,r){"use strict";r.d(e,"a",function(){return w});var n=r("mrSG"),i=r("NuaS"),a=r("lGQG"),u=r("2Vo4"),c=r("JIr8"),p=r("AytR"),l=r("fXoL"),h=r("tk/3"),m=r("e8h1"),f=r("TEn/"),d=r("tyNb"),w=function(){var t=function(){function t(e,r,s,n,i,a,c){o(this,t),this.http=e,this.storage=r,this.alertController=s,this.helper=n,this.auth=i,this.router=a,this.toastController=c,this.BACKEND_URL=p.a.url,this.activeEmail="",this.fullName=new u.a(""),this.about=new u.a(""),this.city=new u.a(""),this.state=new u.a(""),this.zip=new u.a(""),this.gender=new u.a(""),this.dob=new u.a(""),this.school=new u.a(""),this.grade=new u.a(""),this.profilePicture=new u.a(""),this.resume=new u.a(""),this.email=new u.a(""),this.activeEmail=this.auth.user.email}return s(t,[{key:"getAllUsers",value:function(){return this.http.get(this.BACKEND_URL+"/api/home/user")}},{key:"getUserDetails",value:function(){return this.http.post(this.BACKEND_URL+"/api/home/user",{email:this.activeEmail})}},{key:"getTheirDetails",value:function(t){return this.http.post(this.BACKEND_URL+"/api/home/user/their-details",{email:t})}},{key:"changeEmail",value:function(t,e,o){var r=this;return this.http.post(this.BACKEND_URL+"/api/home/user/change-email",{oldEmail:this.activeEmail,email:e,password:o}).pipe(Object(c.a)(function(t){throw r.presentFailToast(r.activeEmail),new Error(t)})).subscribe(function(t){if(!0!==t)return r.presentFailToast(r.activeEmail),console.log("Passwords dont match");r.email.next(e),r.activeEmail=e,r.router.navigate(["/home/profile"]),r.presentSuccessToast()})}},{key:"presentSuccessToast",value:function(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(t){return t.present()})}},{key:"presentFailToast",value:function(t){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of "+t,duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(function(t){return t.present()})}},{key:"changePassword",value:function(t,e,o,r){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark(function s(){var n=this;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-password",{oldPassword:e,email:t,newPassword:o,reTypeNewPassword:r}).subscribe(function(t){!0===t?(console.log("TRUE"),n.router.navigate([""]),n.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(t){return t.present()})):console.log("Passwords dont match!")});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},s,this)}))}},{key:"changeAbout",value:function(t,e,o){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-about",{email:t,newAbout:e,passsword:o}).subscribe();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}))}},{key:"changeSchool",value:function(t,e,o,r){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark(function s(){var n=this;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:t,newSchool:e,newGrade:o,password:r}).subscribe(function(t){if(!0!==t)return n.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(function(t){return t.present()}),console.log("Passwords dont match");n.school.next(e),n.grade.next(o),n.router.navigate(["/home/profile"]),n.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(function(t){return t.present()})});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},s,this)}))}},{key:"changeProfilePicture",value:function(t,e){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",{imageForm:t,oldPhotoKey:e}).subscribe());case 1:case"end":return o.stop()}},o,this)}))}},{key:"changeResume",value:function(t,e,o){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var s=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:t,newResume:e,password:o}).subscribe(function(t){if(!0!==t)return console.log("Passwords dont match");console.log("Changing Resume..."),s.resume.next(e),s.router.navigate(["/home/user/change-school/:school/:grade/confirm"])});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}))}},{key:"delete",value:function(){console.log("Deleted User")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Qb(h.b),l.Qb(m.b),l.Qb(f.a),l.Qb(i.b),l.Qb(a.a),l.Qb(d.f),l.Qb(f.Z))},t.\u0275prov=l.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},ENZJ:function(e,r,n){"use strict";n.d(r,"a",function(){return l});var i=n("AytR"),a=n("2Vo4"),u=n("Aso2"),c=n("fXoL"),p=n("tk/3"),l=function(){var e=function(){function e(t,r){o(this,e),this.http=t,this.profile=r,this.BACKEND_URL=i.a.url,this.postsSubject$=new a.a([]),this.commentsSubject$=new a.a([]),this.followingSubject$=new a.a([])}return s(e,[{key:"getPosts",value:function(){return this.http.get(this.BACKEND_URL+"/api/posts/")}},{key:"getMyPosts",value:function(t){return this.http.post(this.BACKEND_URL+"/api/posts/my-posts",{email:t})}},{key:"getPostInfo",value:function(t){return this.http.post(this.BACKEND_URL+"/api/posts/post-info",{_id:t})}},{key:"addPost",value:function(t,e,o,r,s){return console.log("Adding post to post que..."),console.log("Post: ",r),this.http.post(this.BACKEND_URL+"/api/posts/add-text-post",{creatorName:t,creatorEmail:e,creatorProfilePicture:o,post:r,title:s})}},{key:"comment",value:function(t,e,o,r,s){return this.http.post(this.BACKEND_URL+"/api/posts/comment",{postID:t,userFullName:e,userEmail:o,userProfilePicture:r,comment:s})}},{key:"editPost",value:function(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/edit-post",{postID:t,newPost:e})}},{key:"editComment",value:function(t,e,o){return this.http.post(this.BACKEND_URL+"/api/posts/edit-comment",{postID:e,commentID:t,newComment:o})}},{key:"upVotePost",value:function(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/up-vote-post",{postID:t,userEmail:e})}},{key:"downVotePost",value:function(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/down-vote-post",{postID:t,userEmail:e})}},{key:"upVoteComment",value:function(t,e,o){return this.http.post(this.BACKEND_URL+"/api/posts/up-vote-comment",{postID:t,commentID:e,userEmail:o})}},{key:"downVoteComment",value:function(t,e,o){return this.http.post(this.BACKEND_URL+"/api/posts/down-vote-comment",{postID:t,commentID:e,userEmail:o})}},{key:"followPost",value:function(e,o){var r=this;return this.http.post(this.BACKEND_URL+"/api/posts/follow",{_id:e,email:o}).subscribe(function(e){var o=t(Object.values(e));r.followingSubject$.next(o)})}},{key:"unFollowPost",value:function(e,o){var r=this;return this.http.post(this.BACKEND_URL+"/api/posts/unfollow",{_id:e,email:o}).subscribe(function(e){var o=t(Object.values(e));r.followingSubject$.next(o)})}},{key:"getFollowedPost",value:function(t){return this.http.post(this.BACKEND_URL+"/api/posts/get-followed-posts",{_id:t})}},{key:"deleteComment",value:function(t,e){return this.http.post(this.BACKEND_URL+"/api/posts/delete-comment",{_id:t,_cid:e})}},{key:"deletePost",value:function(t){return this.http.post(this.BACKEND_URL+"/api/posts/delete-post",{_id:t})}},{key:"reportComment",value:function(t,e,o,r,s,n,i,a,u,c){return this.http.post(this.BACKEND_URL+"/api/posts/report",{commentID:t,commentContents:e,post:o,postID:r,reportedUserName:s,reportedUserEmail:n,commentDate:i,userEmail:a,userFullname:u,reportReason:c})}},{key:"replyComment",value:function(t,e,o,r,s,n,i,a){return this.http.post(this.BACKEND_URL+"/api/posts/reply-comment",{postID:e,commentID:t,reply:o,userFullName:r,userProfilePicture:n,userEmail:s,commentUserEmail:a,commentUserFullName:i})}},{key:"deleteReply",value:function(t,e,o){return this.http.post(this.BACKEND_URL+"/api/posts/delete-reply",{_rid:t,_cid:e,_pid:o})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Qb(p.b),c.Qb(u.a))},e.\u0275prov=c.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();