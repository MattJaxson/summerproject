{"version":3,"sources":["src/app/pages/posts/notifications/notifications.page.html","src/app/pages/posts/notifications/notifications-routing.module.ts","src/app/pages/posts/notifications/notifications.module.ts","src/app/pages/posts/notifications/notifications.page.scss","src/app/pages/posts/notifications/notifications.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \" <!-- Mobile Toolbar -->\\n <ion-header class=\\\"ion-hide-lg-up\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n      <ion-title>Notifications</ion-title>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button style=\\\"--background: linear-gradient(rgba(6, 114, 196, 0.3), rgba(0, 81, 145, 0.2)); --color: #005191; margin-right: 20px; width: 80px;\\\" (click)=\\\"clear()\\\">\\n        Clear\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n\\n  <!-- No Messages -->\\n  <ion-row *ngIf=\\\"this.allNotifications == 0\\\" class=\\\"ion-justify-content-center\\\">\\n    <ion-col class=\\\"margin-top ion-text-center\\\" size-xs=\\\"10\\\">\\n      <h3 id=\\\"no-notifications\\\">You have no notifications</h3>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row *ngIf=\\\"this.allNotifications == 0\\\" class=\\\"ion-justify-content-center\\\">\\n    <ion-col size=\\\"4\\\">\\n      <img id=\\\"icon\\\" src=\\\"../../../../assets/icons/no-notifications-icon.svg\\\" alt=\\\"\\\">\\n    </ion-col>\\n  </ion-row>\\n\\n\\n<!-- List of Sliding Items -->\\n<ion-list>\\n  <ion-item-sliding (click)=\\\"goTo()\\\" *ngFor=\\\"let n of allNotifications\\\">\\n    <ion-item>\\n      <ion-avatar>\\n        <img [src]=\\\"n.instigatingUserProfilePicture\\\" />\\n      </ion-avatar>\\n      <p id=\\\"message\\\">{{n.message}}</p>\\n      <p id=\\\"date\\\">{{n.date}}</p>\\n    </ion-item>\\n    <ion-item-options side=\\\"end\\\">\\n      <ion-item-option (click)=\\\"delete(n)\\\">Delete</ion-item-option>\\n    </ion-item-options>\\n  </ion-item-sliding>\\n</ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificationsPage } from './notifications.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificationsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificationsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificationsPageRoutingModule } from './notifications-routing.module';\n\nimport { NotificationsPage } from './notifications.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificationsPageRoutingModule\n  ],\n  declarations: [NotificationsPage]\n})\nexport class NotificationsPageModule {}\n","export default \"p {\\n  font-size: 0.7em;\\n  margin-left: 10px;\\n}\\n\\n#date {\\n  opacity: 0.5;\\n  display: inline-block;\\n}\\n\\n#icon {\\n  opacity: 0.2;\\n}\\n\\n#no-notifications {\\n  opacity: 0.3;\\n}\\n\\n.margin-top {\\n  margin-top: 15%;\\n}\\n\\n.blue-button {\\n  width: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZXJyby9EZXNrdG9wL1VuaXRlZC1XYXkvTW9iaWxlL3NyYy9hcHAvcGFnZXMvcG9zdHMvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb25zLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvcG9zdHMvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURLQTtFQUNFLFlBQUE7RUFDQSxxQkFBQTtBQ0ZGOztBREtBO0VBQ0UsWUFBQTtBQ0ZGOztBREtBO0VBQ0UsWUFBQTtBQ0ZGOztBREtBO0VBQ0UsZUFBQTtBQ0ZGOztBREtBO0VBQ0UsWUFBQTtBQ0ZGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcG9zdHMvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb25zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInAge1xuICBmb250LXNpemU6IDAuN2VtO1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cblxuI21lc3NhZ2Uge1xufVxuXG4jZGF0ZSB7XG4gIG9wYWNpdHk6IDAuNTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4jaWNvbiB7XG4gIG9wYWNpdHk6IDAuMjtcbn1cblxuI25vLW5vdGlmaWNhdGlvbnMge1xuICBvcGFjaXR5OiAwLjM7XG59XG5cbi5tYXJnaW4tdG9wIHtcbiAgbWFyZ2luLXRvcDogMTUlO1xufVxuXG4uYmx1ZS1idXR0b24ge1xuICB3aWR0aDogMTAwcHg7XG59IiwicCB7XG4gIGZvbnQtc2l6ZTogMC43ZW07XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4jZGF0ZSB7XG4gIG9wYWNpdHk6IDAuNTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4jaWNvbiB7XG4gIG9wYWNpdHk6IDAuMjtcbn1cblxuI25vLW5vdGlmaWNhdGlvbnMge1xuICBvcGFjaXR5OiAwLjM7XG59XG5cbi5tYXJnaW4tdG9wIHtcbiAgbWFyZ2luLXRvcDogMTUlO1xufVxuXG4uYmx1ZS1idXR0b24ge1xuICB3aWR0aDogMTAwcHg7XG59Il19 */\"","import { Component, OnInit, AfterContentChecked, OnDestroy} from '@angular/core';\nimport { NotificationsService } from 'src/app/services/notifications.service';\nimport { ProfileService } from 'src/app/services/profile.service';\nimport { formatDistanceToNow } from 'date-fns';\nimport { Subscription } from 'rxjs';\n\n\n\n@Component({\n  selector: 'app-notifications',\n  templateUrl: './notifications.page.html',\n  styleUrls: ['./notifications.page.scss'],\n})\nexport class NotificationsPage implements OnInit, AfterContentChecked, OnDestroy {\n  userEmail;\n  allNotifications;\n  initSub: Subscription;\n  notificationsSub: Subscription;\n\n  constructor(\n    private notifications: NotificationsService,\n    private profile: ProfileService\n  ) { }\n\n  ngAfterContentChecked() {\n    console.log('Notification Added on backend');\n  }\n\n  ngOnDestroy() {\n    this.notificationsSub.unsubscribe();\n  }\n\n  ngOnInit() {\n    this.initSub = this.profile.getUserDetails()\n      .subscribe(\n        userDetails => {\n          this.userEmail = userDetails['email'];\n          console.log(this.userEmail);\n\n          this.notificationsSub = this.notifications.getNotifications(this.userEmail)\n            .subscribe(\n              notifications => {\n                  console.log(notifications);\n                  this.notifications.notifications$.next(Object.values(notifications));\n                  this.notifications.notifications$.subscribe( data => {\n                    this.allNotifications = Object.values(data);\n                    for (let n of this.allNotifications) {\n                    n.date = formatDistanceToNow( new Date(n.date), {\n                      includeSeconds: true,\n                      addSuffix: false\n                    });\n\n                  }\n                });\n\n                  // TODO: replaces 'minutes' with M\n                  // let minutes = ;\n                }\n            );\n        }\n      );\n  }\n\n  clear() {\n    this.notifications.clearNotifications(this.userEmail)\n    .subscribe(\n      data => {\n\n        this.notificationsSub = this.notifications.getNotifications(this.userEmail)\n          .subscribe(\n            notifications => {\n                console.log(notifications);\n                this.notifications.notifications$.next(Object.values(notifications));\n                this.notifications.notifications$.subscribe( data => {\n                  this.allNotifications = Object.values(data);\n                  for (let n of this.allNotifications) {\n                  n.date = formatDistanceToNow( new Date(n.date), {\n                    includeSeconds: true,\n                    addSuffix: false\n                  });\n\n                }\n              });\n\n                // TODO: replaces 'minutes' with M\n                // let minutes = ;\n              }\n          );\n      }\n    );\n  }\n\n  goTo() {\n    console.log('Going to page from notification');\n  }\n\n  delete(notification) {\n    console.log('Deleting notification');\n  }\n\n\n}\n"],"sourceRoot":"webpack:///","file":"notifications-notifications-module-es5.js"}