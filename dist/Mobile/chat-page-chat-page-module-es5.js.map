{"version":3,"sources":["webpack:///src/app/pages/mentors/mentor-chat/chat-page/chat-page.page.scss","webpack:///src/app/pages/mentors/mentor-chat/chat-page/chat-page.page.ts","webpack:///src/app/pages/mentors/mentor-chat/chat-page/chat-page-routing.module.ts","webpack:///src/app/pages/posts/student-chat/chat-page/chat-page-routing.module.ts","webpack:///src/app/pages/posts/student-chat/chat-page/chat-page.page.ts","webpack:///src/app/pages/mentors/mentor-chat/chat-page/chat-page.page.html","webpack:///src/app/pages/posts/student-chat/chat-page/chat-page.page.scss","webpack:///src/app/pages/posts/student-chat/chat-page/chat-page.page.html","webpack:///src/app/pages/posts/student-chat/chat-page/chat-page.module.ts","webpack:///src/app/pages/mentors/mentor-chat/chat-page/chat-page.module.ts"],"names":["ChatPagePage","alert","modal","shouldBounce","dockedHeight","distanceTop","drawerState","Bottom","states","minimumHeight","Docked","create","cssClass","header","buttons","text","handler","console","log","role","present","component","componentProps","reportModalConfig","selector","template","routes","path","ChatPagePageRoutingModule","imports","forChild","exports","studentChatService","activatedRoute","toast","chatId","snapshot","paramMap","get","email","fullName","profilePicture","messageList","document","getElementById","_chatroomSub","unsubscribe","setTimeout","input","getInputElement","then","message","value","duration","focus","ChatPagePageModule","declarations"],"mappings":"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","file":"chat-page-chat-page-module-es5.js","sourcesContent":["export default \"ion-avatar {\\n  height: 1.3em;\\n  width: 1.3em;\\n}\\n\\n.new-message {\\n  color: #faa71b;\\n}\\n\\nion-label {\\n  font-weight: 800;\\n  display: block;\\n}\\n\\n.date-sent {\\n  font-size: 0.8em;\\n  opacity: 0.5;\\n}\\n\\n.ellipsis {\\n  height: 2.1em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWVudG9ycy9tZW50b3ItY2hhdC9jaGF0LXBhZ2UvY2hhdC1wYWdlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFBZSxZQUFBO0FBRWpCOztBQUNBO0VBQ0UsY0FBQTtBQUVGOztBQUNBO0VBQ0UsZ0JBQUE7RUFDQSxjQUFBO0FBRUY7O0FBQ0E7RUFDRSxnQkFBQTtFQUNBLFlBQUE7QUFFRjs7QUFDQTtFQUNFLGFBQUE7QUFFRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL21lbnRvcnMvbWVudG9yLWNoYXQvY2hhdC1wYWdlL2NoYXQtcGFnZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tYXZhdGFyIHtcbiAgaGVpZ2h0OiAxLjNlbTsgd2lkdGg6IDEuM2VtO1xufVxuXG4ubmV3LW1lc3NhZ2V7XG4gIGNvbG9yOiAjZmFhNzFiO1xufVxuXG5pb24tbGFiZWwge1xuICBmb250LXdlaWdodDogODAwO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLmRhdGUtc2VudCB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG4gIG9wYWNpdHk6IDAuNTtcbn1cblxuLmVsbGlwc2lzIHtcbiAgaGVpZ2h0OiAyLjFlbTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { DrawerState } from 'ion-bottom-drawer';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { ReportConvoPage } from 'src/app/modals/report-convo/report-convo.page';\n\n@Component({\n  selector: 'app-chat-page',\n  templateUrl: './chat-page.page.html',\n  styleUrls: ['./chat-page.page.scss'],\n})\nexport class ChatPagePage implements OnInit {\n  shouldBounce = true;\n  dockedHeight = 400;\n  distanceTop = 56;\n  drawerState = DrawerState.Bottom;\n  states = DrawerState;\n  minimumHeight = 0;\n\n  constructor(\n    private alert: AlertController,\n    private modal: ModalController) { }\n\n  ngOnInit() {\n  }\n\n  menu() {\n    if (this.drawerState === DrawerState.Bottom) {\n      this.drawerState = DrawerState.Docked;\n    } else {\n        this.drawerState = DrawerState.Bottom;\n    }\n  }\n\n  async delertAlert() {\n    const alert = await this.alert.create({\n      cssClass: '',\n      header: 'Are you sure you want to delete this conversation?',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: () => {\n           console.log('Deleting');\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async reportAlert() {\n    const alert = await this.alert.create({\n      cssClass: '',\n      header: 'Are you sure you want to report this conversation?',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: () => {\n           console.log('Reporting');\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async reportConvo() {\n\n    const reportModalConfig = await this.modal.create({\n      component: ReportConvoPage,\n      componentProps: {\n\n      }\n    });\n    this.drawerState = DrawerState.Bottom;\n    await reportModalConfig.present();\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatPagePage } from './chat-page.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPagePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatPagePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatPagePage } from './chat-page.page';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPagePage\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatPagePageRoutingModule {}\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { DrawerState } from 'ion-bottom-drawer';\nimport { AlertController, ModalController, ToastController } from '@ionic/angular';\nimport { ReportConvoPage } from 'src/app/modals/report-convo/report-convo.page';\nimport { StudentChatService } from 'src/app/services/student-chat.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { formatDistanceToNow } from 'date-fns';\nimport { IonInput } from '@ionic/angular';\n\n\n\n@Component({\n  selector: 'app-chat-page',\n  templateUrl: './chat-page.page.html',\n  styleUrls: ['./chat-page.page.scss'],\n})\nexport class ChatPagePage implements OnInit, OnDestroy {\n\n\n  @ViewChild('message', {static: false}) input: IonInput;\n\n  // Bottom Drawer Settings\n  shouldBounce = true;\n  dockedHeight = 400;\n  distanceTop = 56;\n  drawerState = DrawerState.Bottom;\n  states = DrawerState;\n  minimumHeight = 0;\n\n  _chatroomSub: Subscription;\n  chatroom;\n  chatId: string;\n\n  // Requesting User\n  requestingUserFullname: string;\n  requestingUserEmail: string;\n  requestingUserPhoto: string;\n\n  // Responding User\n  respondingUserFullname: string;\n  respondingUserEmail: string;\n  respondingUserPhoto: string;\n\n  // Client Users's info for chat messages\n  fullName: string;\n  email: string;\n  profilePicture: string;\n\n  // Message Input Element Reference\n  message: HTMLInputElement;\n\n  constructor(\n    private alert: AlertController,\n    private modal: ModalController,\n    private studentChatService: StudentChatService,\n    private activatedRoute: ActivatedRoute,\n    private toast: ToastController\n  ) { }\n\n   ngOnInit() {\n\n    const chatId  =  this.activatedRoute.snapshot.paramMap.get('chatId');\n    this.chatId = chatId;\n    const email  =  this.activatedRoute.snapshot.paramMap.get('email');\n    this.email = email;\n    const fullName  =  this.activatedRoute.snapshot.paramMap.get('fullName');\n    this.fullName = fullName;\n    const profilePicture  =  this.activatedRoute.snapshot.paramMap.get('profilePicture');\n    this.profilePicture = profilePicture;\n\n    const messageList = document.getElementById('message-list');\n\n\n    // this.studentChatService.getChat(this.chatId, this.email);\n\n    // this._chatroomSub = this.studentChatService.currentChatRoom\n    // .subscribe(\n    //   data => {\n    //     // console.log(data);\n    //     this.chatroom = data['messages'];\n    //     this.requestingUserFullname = data['requestingUserFullname'];\n    //     this.requestingUserEmail = data['requestingUserEmail'];\n    //     this.requestingUserPhoto = data['requestingUserPhoto'];\n    //     this.respondingUserFullname = data['respondingUserFullname'];\n    //     this.respondingUserEmail = data['respondingUserEmail'];\n    //     this.respondingUserPhoto = data['respondingUserPhoto'];\n\n    //     // if (this.chatroom.length >= 5) {\n    //     //   console.log('more than 3 messages sent');\n    //     //   this.studentChatService.deleteMessages(this.chatId, this.fullName , this.email);\n    //     // }\n\n    //     for (let message of this.chatroom) {\n    //       message.date = formatDistanceToNow(new Date(message.date));\n    //     }\n    //     // console.log(this.chatroom);\n    //   });\n  }\n\n  ngOnDestroy(): void {\n    this._chatroomSub.unsubscribe();\n    // leave room\n  }\n\n  // tslint:disable-next-line: use-lifecycle-interface\n  ngAfterViewInit() {\n    setTimeout(() => {\n       this.input.getInputElement()\n        .then( input => {\n          this.message = input;\n        });\n  }, 400);\n}\n\n  async sendMessage() {\n    // if user tries to send a message with no text\n    if (this.message.value === '') {\n      console.log('This message has no text');\n      const toast = await this.toast.create({\n        message: 'This message has no text.',\n        cssClass: 'danger-toast',\n        duration: 2000\n      });\n      toast.present();\n      return false;\n    }\n\n    // tslint:disable-next-line: max-line-length\n    // await this.studentChatService.sendMessage(this.chatId, this.message.value, this.fullName, this.profilePicture, this.requestingUserFullname, this.requestingUserEmail, this.requestingUserPhoto, this.respondingUserFullname, this.respondingUserEmail, this.respondingUserPhoto);\n\n    // this.studentChatService.conversations$.next(this.chatroom);\n\n    // When user submits message, clear the input value\n    this.message.value = '';\n    this.message.focus();\n\n\n    // this.studentChatService.getChat(this.chatId, this.email);\n    // this.message = '';\n  }\n\n  menu() {\n    if (this.drawerState === DrawerState.Bottom) {\n      this.drawerState = DrawerState.Docked;\n    } else {\n        this.drawerState = DrawerState.Bottom;\n    }\n  }\n\n  async delertAlert() {\n    const alert = await this.alert.create({\n      cssClass: '',\n      header: 'Are you sure you want to delete this conversation?',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: () => {\n           console.log('Deleting');\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async reportAlert() {\n    const alert = await this.alert.create({\n      cssClass: '',\n      header: 'Are you sure you want to report this conversation?',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: () => {\n           console.log('Reporting');\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async reportConvo() {\n\n    const reportModalConfig = await this.modal.create({\n      component: ReportConvoPage,\n      componentProps: {\n\n      }\n    });\n    this.drawerState = DrawerState.Bottom;\n    await reportModalConfig.present();\n\n  }\n\n}\n","export default \" <!-- Mobile Toolbar -->\\n <ion-header class=\\\"ion-hide-lg-up\\\">\\n  <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n        <p class=\\\"toolbar-title\\\">Conversation</p>\\n      </ion-buttons>\\n      <ion-buttons slot=\\\"end\\\">\\n        <ion-button (click)=\\\"menu()\\\">\\n          <img class=\\\"ellipsis\\\" src=\\\"../../../../../assets/icons/ellipsis.svg\\\" alt=\\\"\\\">\\n        </ion-button>\\n      </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../../../../assets/batman-pro-pic.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>Username <span class=\\\"date-sent\\\">&middot; date</span></h2>\\n        <p>This is the message...</p>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../../../../assets/batman-pro-pic.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>Username <span class=\\\"date-sent\\\">&middot; date</span></h2>\\n        <p>This is the message...</p>\\n      </ion-label>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"none\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../../../../assets/batman-pro-pic.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>Username <span class=\\\"date-sent\\\">&middot; date</span></h2>\\n        <p>This is the message...</p>\\n      </ion-label>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"none\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../../../../assets/batman-pro-pic.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>Username <span class=\\\"date-sent\\\">&middot; date</span></h2>\\n        <p>This is the message...</p>\\n      </ion-label>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"none\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../../../../assets/batman-pro-pic.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>Username <span class=\\\"date-sent\\\">&middot; date</span></h2>\\n        <p>This is the message...</p>\\n      </ion-label>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"none\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"../../../../assets/batman-pro-pic.png\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h2>Username <span class=\\\"date-sent\\\">&middot; date</span></h2>\\n        <p>This is the message...</p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\\n<ion-bottom-drawer [(state)]=\\\"drawerState\\\" [minimumHeight]=\\\"minimumHeight\\\" [dockedHeight]=\\\"dockedHeight\\\"\\n[shouldBounce]=\\\"shouldBounce\\\" [distanceTop]=\\\"distanceTop\\\">\\n<div class=\\\"drawer-content\\\">\\n    <ion-list>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-button class=\\\"blue-button\\\" (click)=\\\"delertAlert()\\\">\\n          Delete\\n        </ion-button>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-button class=\\\"blue-button\\\" (click)=\\\"reportConvo()\\\">\\n          Report\\n        </ion-button>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-button class=\\\"grey-button\\\" (click)=\\\"menu()\\\">\\n          Cancel\\n        </ion-button>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n</ion-bottom-drawer>\\n\";","export default \"ion-avatar {\\n  margin-right: 20px;\\n}\\n\\n.new-message {\\n  color: #faa71b;\\n}\\n\\nion-label {\\n  font-weight: 800;\\n  display: block;\\n}\\n\\nion-label p {\\n  font-size: 1.8em;\\n}\\n\\n.date-sent {\\n  font-size: 0.8em;\\n  opacity: 0.8;\\n}\\n\\n.no-messages {\\n  font-size: 1.4em;\\n  line-height: 1.4em;\\n  padding: 20px;\\n}\\n\\n.ellipsis {\\n  height: 2.1em;\\n}\\n\\n.chat-messages-create-container {\\n  background: #005191;\\n  height: 60px;\\n  position: fixed;\\n  bottom: 0;\\n  padding: 10px;\\n}\\n\\n.chat-messages-create-container ion-input {\\n  border: 1px solid #fff;\\n  --color: white;\\n  height: 40px;\\n  width: 90%;\\n}\\n\\n.chat-messages-create-container ion-button {\\n  --background: white;\\n  --background-hover: white;\\n  --color: #005191;\\n  height: 40px;\\n  margin-right: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9zdHMvc3R1ZGVudC1jaGF0L2NoYXQtcGFnZS9jaGF0LXBhZ2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUsa0JBQUE7QUFBRjs7QUFHQTtFQUNFLGNBQUE7QUFBRjs7QUFHQTtFQUNFLGdCQUFBO0VBQ0EsY0FBQTtBQUFGOztBQUVFO0VBQ0UsZ0JBQUE7QUFBSjs7QUFJQTtFQUNFLGdCQUFBO0VBQ0EsWUFBQTtBQURGOztBQUlBO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7QUFERjs7QUFJQTtFQUNFLGFBQUE7QUFERjs7QUFJQTtFQUNFLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxTQUFBO0VBQ0EsYUFBQTtBQURGOztBQUdFO0VBQ0Usc0JBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7QUFESjs7QUFJRTtFQUNFLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQUZKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcG9zdHMvc3R1ZGVudC1jaGF0L2NoYXQtcGFnZS9jaGF0LXBhZ2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWF2YXRhciB7XG4gIC8vIGhlaWdodDogMS4xZW07IHdpZHRoOiAxLjFlbTtcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuXG4ubmV3LW1lc3NhZ2V7XG4gIGNvbG9yOiAjZmFhNzFiO1xufVxuXG5pb24tbGFiZWwge1xuICBmb250LXdlaWdodDogODAwO1xuICBkaXNwbGF5OiBibG9jaztcblxuICBwIHtcbiAgICBmb250LXNpemU6IDEuOGVtO1xuICB9XG59XG5cbi5kYXRlLXNlbnQge1xuICBmb250LXNpemU6IDAuOGVtO1xuICBvcGFjaXR5OiAwLjg7XG59XG5cbi5uby1tZXNzYWdlcyB7XG4gIGZvbnQtc2l6ZTogMS40ZW07XG4gIGxpbmUtaGVpZ2h0OiAxLjRlbTtcbiAgcGFkZGluZzogMjBweDtcbn1cblxuLmVsbGlwc2lzIHtcbiAgaGVpZ2h0OiAyLjFlbTtcbn1cblxuLmNoYXQtbWVzc2FnZXMtY3JlYXRlLWNvbnRhaW5lcntcbiAgYmFja2dyb3VuZDogIzAwNTE5MTtcbiAgaGVpZ2h0OiA2MHB4O1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGJvdHRvbTogMDtcbiAgcGFkZGluZzogMTBweDtcblxuICBpb24taW5wdXQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7XG4gICAgLS1jb2xvcjogd2hpdGU7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIHdpZHRoOiA5MCU7XG4gIH1cblxuICBpb24tYnV0dG9uIHtcbiAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAgIC0tYmFja2dyb3VuZC1ob3Zlcjogd2hpdGU7XG4gICAgLS1jb2xvcjogIzAwNTE5MTtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICB9XG59Il19 */\";","export default \" <!-- Mobile Toolbar -->\\n <ion-header class=\\\"ion-hide-lg-up\\\">\\n  <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n        <p class=\\\"toolbar-title\\\">Conversation</p>\\n      </ion-buttons>\\n      <ion-buttons slot=\\\"end\\\">\\n        <ion-button (click)=\\\"menu()\\\">\\n          <img class=\\\"ellipsis\\\" src=\\\"../../../../../assets/icons/ellipsis.svg\\\" alt=\\\"\\\">\\n        </ion-button>\\n      </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list lines=\\\"none\\\" id=\\\"message-list\\\">\\n    <!-- <div class=\\\"ion-text-center no-messages\\\" *ngIf=\\\"chatroom.length == 0\\\">\\n      <p>Please send a message to start this conversation.</p>\\n    </div> -->\\n    <ion-item *ngFor=\\\"let message of chatroom\\\">\\n      <ion-avatar>\\n        <img src=\\\"{{message.profilePicture}}\\\" />\\n      </ion-avatar>\\n      <ion-label>\\n        <h4 style=\\\"opacity: 0.8;\\\">{{message.userFullName}} <span class=\\\"date-sent\\\">&middot; {{message.date}}</span></h4>\\n        <p style=\\\"font-size: 1.1em; color: #111;\\\">{{message.text}}</p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <ion-toolbar class=\\\"chat-messages-create-container\\\">\\n    <ion-input #message (keyup.enter)=\\\"sendMessage()\\\"\\n     type=\\\"text\\\" placeholder=\\\"Type message here\\\"></ion-input>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button  class=\\\"chat-messages-create-button\\\" (click)=\\\"sendMessage()\\\"> Send </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-content>\\n\\n<ion-bottom-drawer [(state)]=\\\"drawerState\\\" [minimumHeight]=\\\"minimumHeight\\\" [dockedHeight]=\\\"dockedHeight\\\"\\n[shouldBounce]=\\\"shouldBounce\\\" [distanceTop]=\\\"distanceTop\\\">\\n<div class=\\\"drawer-content\\\">\\n    <ion-list>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-button class=\\\"blue-button\\\" (click)=\\\"delertAlert()\\\">\\n          Delete\\n        </ion-button>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-button class=\\\"blue-button\\\" (click)=\\\"reportConvo()\\\">\\n          Report\\n        </ion-button>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-button class=\\\"grey-button\\\" (click)=\\\"menu()\\\">\\n          Cancel\\n        </ion-button>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n</ion-bottom-drawer>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IonBottomDrawerModule } from 'ion-bottom-drawer';\n\nimport { ChatPagePageRoutingModule } from './chat-page-routing.module';\n\nimport { ChatPagePage } from './chat-page.page';\nimport { ReportConvoPageModule } from 'src/app/modals/report-convo/report-convo.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IonBottomDrawerModule,\n    ChatPagePageRoutingModule,\n    ReportConvoPageModule,\n  ],\n  declarations: [ChatPagePage]\n})\nexport class ChatPagePageModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { IonBottomDrawerModule } from 'ion-bottom-drawer';\n\nimport { ChatPagePageRoutingModule } from './chat-page-routing.module';\n\nimport { ChatPagePage } from './chat-page.page';\nimport { ReportConvoPageModule } from 'src/app/modals/report-convo/report-convo.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChatPagePageRoutingModule,\n    ReportConvoPageModule,\n    IonBottomDrawerModule\n  ],\n  declarations: [ChatPagePage]\n})\nexport class ChatPagePageModule {}\n"]}