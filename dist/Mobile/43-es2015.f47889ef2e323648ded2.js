(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{E2mU:function(t,e,o){"use strict";o.r(e),o.d(e,"AddPostPageModule",function(){return m});var n=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),s=o("tyNb"),a=o("mrSG"),l=o("ENZJ"),c=o("Aso2"),b=o("fXoL");const d=["postChars"],u=["titleChars"],p=[{path:"",component:(()=>{class t{constructor(t,e,o,n,i){this.router=t,this.loading=e,this.posts=o,this.profile=n,this.formBuilder=i,this.validationMessages={}}ngAfterViewInit(){}ngOnInit(){this.textPostForm=this.formBuilder.group({title:["",i.n.required],post:["",i.n.required]}),this.profile.getUserDetails().subscribe(t=>{console.log(t),this.creatorEmail=t.email,this.creatorName=t.fullName,this.creatorProfilePicture=t.profilePicture})}back(){this.router.navigate(["/home/posts"])}post(t,e,o,n,i){return Object(a.a)(this,void 0,void 0,function*(){yield this.presentLoading(),yield this.posts.addPost(t,e,o,n,i).subscribe(t=>{console.log(t)}),yield this.router.navigate(["home/posts/add-post/verification"])})}presentLoading(){return Object(a.a)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Sending post to be Verified...",spinner:"bubbles",duration:2e3});yield t.present(),yield t.onDidDismiss(),console.log("Loading dismissed!")})}}return t.\u0275fac=function(e){return new(e||t)(b.Hb(s.f),b.Hb(r.S),b.Hb(l.a),b.Hb(c.a),b.Hb(i.a))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-add-post"]],viewQuery:function(t,e){if(1&t&&(b.rc(d,!0),b.rc(u,!0)),2&t){let t;b.dc(t=b.Vb())&&(e.postChars=t.first),b.dc(t=b.Vb())&&(e.titleChars=t.first)}},decls:40,vars:2,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"header","ion-hide-md-down","ion-justify-content-center","ion-text-center",2,"margin","2% 0% 3% 0%"],["size","5"],["push","","size","5"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center",2,"margin-top","1%"],["size-xs","11","size-sm","10","size-md","9","size-lg","7","size-xl","6",1,"ion-text-center"],[1,"message","ion-hide-lg-up"],[1,"message","ion-hide-md-down"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","9","size-lg","7","size-xl","6"],[3,"formGroup","ngSubmit"],[1,"line-input"],["autocapitalize","on","required","","inputmode","text","maxlength","100","formControlName","title","placeholder","Title"],["titleChars",""],["rows","10","auto-grow","true","spellcheck","true","maxlength","3000","formControlName","post","placeholder","What do you have to say?",3,"keydown.control.enter"],["postChars",""],[1,"char-limit"],["lines","none",2,"margin","15px 0 20px"],["type","submit",1,"orange-button"],["size-lg","6",1,"ion-text-center",2,"margin-bottom","100px"]],template:function(t,e){if(1&t&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-buttons",1),b.Ib(3,"ion-back-button"),b.Lb(),b.Mb(4,"ion-title"),b.lc(5,"Add Post"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.Mb(7,"ion-grid"),b.Mb(8,"ion-row",2),b.Mb(9,"ion-col",3),b.Mb(10,"h1"),b.lc(11,"New Post"),b.Lb(),b.Lb(),b.Mb(12,"ion-col",4),b.Mb(13,"ion-button",5),b.Ub("click",function(){return e.back()}),b.lc(14," Back "),b.Lb(),b.Lb(),b.Lb(),b.Mb(15,"ion-row",6),b.Mb(16,"ion-col",7),b.Mb(17,"p",8),b.lc(18,"Please keep your content clean. In order to maintain a high standard of content, each post will have to be verified before they are added to the Posts feed. Happy posting, and be inspired!"),b.Lb(),b.Mb(19,"p",9),b.lc(20,"Please keep your content clean. In order to maintain a high standard of content, each post will have to be verified before they are added to the Posts feed. Happy posting, and be inspired!"),b.Lb(),b.Lb(),b.Lb(),b.Mb(21,"ion-row",10),b.Mb(22,"ion-col",11),b.Mb(23,"form",12),b.Ub("ngSubmit",function(){return e.textPostForm.value.post.length>0?e.post(e.creatorName,e.creatorEmail,e.creatorProfilePicture,e.textPostForm.controls.post.value,e.textPostForm.controls.title.value):null}),b.Mb(24,"ion-list",13),b.Mb(25,"ion-item"),b.Ib(26,"ion-input",14,15),b.Lb(),b.Mb(28,"ion-item"),b.Mb(29,"ion-textarea",16,17),b.Ub("keydown.control.enter",function(){return e.textPostForm.value.textPost.length>0?e.post(e.creatorName,e.creatorEmail,e.creatorProfilePicture,e.textPostForm.value.textPost,e.textPostForm.value.title):null}),b.Lb(),b.Mb(31,"p",18),b.lc(32),b.Lb(),b.Lb(),b.Lb(),b.Mb(33,"ion-row"),b.Mb(34,"ion-col"),b.Mb(35,"ion-item",19),b.Mb(36,"ion-button",20),b.lc(37," Submit "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(38,"ion-row",10),b.Ib(39,"ion-col",21),b.Lb(),b.Lb(),b.Lb()),2&t){const t=b.ec(30);b.xb(23),b.Zb("formGroup",e.textPostForm),b.xb(9),b.nc("",t.value.length," / 3000 character limit")}},directives:[r.u,r.P,r.h,r.e,r.f,r.O,r.o,r.t,r.G,r.n,r.g,i.o,i.j,i.c,r.C,r.x,r.w,r.Y,i.m,i.e,i.i,i.b,r.N],styles:[".blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset;width:unset;height:36px;margin-top:20px;margin-bottom:4px;position:unset}ion-title[_ngcontent-%COMP%]{margin:0}.message[_ngcontent-%COMP%]{font-size:1.2em;text-align:justify}.char-limit[_ngcontent-%COMP%]{color:#e4405f;margin-bottom:50px}@media only screen and (max-width:576px){.text-input[_ngcontent-%COMP%]{box-shadow:none;background:#edf3f8}}.item-interactive[_ngcontent-%COMP%]{--border-width:0px;--show-full-highlight:0}h6[_ngcontent-%COMP%]{padding:15px;line-height:35px;font-weight:400}"]}),t})()},{path:"verification",loadChildren:()=>o.e(44).then(o.bind(null,"Wtw0")).then(t=>t.VerificationPageModule)}];let h=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[s.j.forChild(p)],s.j]}),t})(),m=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[n.b,i.d,i.d,i.l,r.Q,h]]}),t})()}}]);