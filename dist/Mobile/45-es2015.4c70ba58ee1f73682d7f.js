(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{txkh:function(o,t,e){"use strict";e.r(t),e.d(t,"FollowingPageModule",function(){return v});var n=e("ofXK"),i=e("3Pt+"),s=e("zAgk"),r=e("TEn/"),c=e("tyNb"),b=e("mrSG"),l=e("ENZJ"),a=e("Aso2"),m=e("sWYD"),p=e("7xvl"),u=e("DtjX"),d=e("u2AK"),g=e("fXoL"),f=e("u6v2"),h=e("84P7");function M(o,t){1&o&&(g.Mb(0,"ion-col",19),g.Mb(1,"div"),g.Mb(2,"p",20),g.lc(3,"You are currently not following any posts. Please click the follow button on any Post to add it to this page."),g.Lb(),g.Lb(),g.Lb())}function x(o,t){1&o&&(g.Mb(0,"ion-button",43),g.lc(1,"Post "),g.Lb())}function P(o,t){if(1&o){const o=g.Nb();g.Mb(0,"ion-row",21),g.Mb(1,"ion-col",22),g.Mb(2,"ion-row",23),g.Mb(3,"ion-col",24),g.Ub("click",function(){g.fc(o);const e=t.$implicit;return g.Wb().thirdPersonProfileModal(e.creatorEmail,e.creatorName)}),g.Ib(4,"img",25),g.Lb(),g.Mb(5,"ion-col",26),g.Ub("click",function(){g.fc(o);const e=t.$implicit;return g.Wb().thirdPersonProfileModal(e.creatorEmail,e.creatorName)}),g.Mb(6,"h6",27),g.lc(7),g.Lb(),g.Lb(),g.Mb(8,"ion-col",28),g.Mb(9,"h6",29),g.lc(10),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Mb(11,"ion-col",30),g.Mb(12,"ion-row"),g.Mb(13,"ion-col",31),g.Mb(14,"p",32),g.lc(15),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Mb(16,"ion-col",30),g.Mb(17,"ion-row",33),g.Mb(18,"ion-col",34),g.Mb(19,"ion-item",35),g.Mb(20,"form",36),g.Ub("ngSubmit",function(){g.fc(o);const e=t.$implicit,n=g.Wb();return n.comment(e._id,n.userFullName,n.userEmail,n.userProfilePicture,n.commentForm.value)}),g.Ib(21,"ion-textarea",37),g.kc(22,x,2,0,"ion-button",38),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Mb(23,"ion-col",30),g.Mb(24,"ion-row"),g.Mb(25,"ion-col",39),g.Ib(26,"app-up-down-vote-buttons",40),g.Lb(),g.Mb(27,"ion-col",41),g.Ib(28,"app-follow-comment-buttons",42),g.Lb(),g.Lb(),g.Lb(),g.Lb()}if(2&o){const o=t.$implicit,e=g.Wb();g.xb(4),g.ac("src",o.creatorProfilePicture,g.hc),g.xb(3),g.mc(o.creatorName),g.xb(3),g.mc(o.date),g.xb(5),g.mc(o.post),g.xb(5),g.Zb("formGroup",e.commentForm),g.xb(2),g.Zb("ngIf",!e.commentForm.get("comment").pristine&&e.commentForm.value.comment.length>=3),g.xb(4),g.Zb("postID",o._id),g.xb(2),g.Zb("isUser",o.isUser)("postID",o._id)}}function w(o,t){1&o&&(g.Mb(0,"ion-col",19),g.Mb(1,"div"),g.Mb(2,"p",20),g.lc(3,"You are currently not following any posts. Please click the follow button on any Post to add it to this page."),g.Lb(),g.Lb(),g.Lb())}function L(o,t){1&o&&(g.Mb(0,"ion-button",43),g.lc(1,"Post "),g.Lb())}function k(o,t){if(1&o){const o=g.Nb();g.Mb(0,"ion-row",44),g.Mb(1,"ion-col",22),g.Mb(2,"ion-row",45),g.Mb(3,"ion-col",46),g.Ub("click",function(){g.fc(o);const e=t.$implicit;return g.Wb().thirdPersonProfileModal(e.creatorEmail,e.creatorName)}),g.Ib(4,"img",25),g.Lb(),g.Mb(5,"ion-col",47),g.Ub("click",function(){g.fc(o);const e=t.$implicit;return g.Wb().thirdPersonProfileModal(e.creatorEmail,e.creatorName)}),g.Mb(6,"h6",48),g.lc(7),g.Lb(),g.Lb(),g.Mb(8,"ion-col",49),g.Mb(9,"h6",50),g.lc(10),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Mb(11,"ion-col",30),g.Mb(12,"ion-row",16),g.Mb(13,"ion-col",51),g.Mb(14,"p",52),g.lc(15),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Mb(16,"ion-col",30),g.Mb(17,"ion-row",53),g.Mb(18,"ion-col",30),g.Mb(19,"ion-item",54),g.Mb(20,"form",36),g.Ub("ngSubmit",function(){g.fc(o);const e=t.$implicit,n=g.Wb();return n.comment(e._id,n.userFullName,n.userEmail,n.userProfilePicture,n.commentForm.value)}),g.Ib(21,"ion-textarea",55),g.kc(22,L,2,0,"ion-button",38),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Mb(23,"ion-col",30),g.Mb(24,"ion-row",16),g.Mb(25,"ion-col",56),g.Ib(26,"app-up-down-vote-buttons",40),g.Lb(),g.Mb(27,"ion-col",57),g.Ib(28,"app-follow-comment-buttons",58),g.Lb(),g.Lb(),g.Lb(),g.Lb()}if(2&o){const o=t.$implicit,e=g.Wb();g.xb(4),g.ac("src",o.creatorProfilePicture,g.hc),g.xb(3),g.mc(o.creatorName),g.xb(3),g.mc(o.date),g.xb(5),g.mc(o.post),g.xb(5),g.Zb("formGroup",e.commentForm),g.xb(2),g.Zb("ngIf",!e.commentForm.get("comment").pristine&&e.commentForm.value.comment.length>=3),g.xb(4),g.Zb("postID",o._id),g.xb(2),g.Zb("postID",o._id)}}const z=[{path:"",component:(()=>{class o{constructor(o,t,e,n,i,s,r,c){this.router=o,this.posts=t,this.profile=e,this.toast=n,this.formBuilder=i,this.eventEmitterService=s,this.modal=r,this.location=c,this.allFollowedPosts=[]}ngOnInit(){this.location.onPopState(()=>{this.eventEmitterService.onBackAction()}),this.profile.getUserDetails().subscribe(o=>{console.log("User ID from Following Page OnInit"),this.userID=o._id,this.userFullName=o.fullName,this.userEmail=o.email,this.userProfilePicture=o.profilePicture,this.posts.getFollowedPost(this.userID).subscribe(o=>{this.allFollowedPosts=Object.values(o).reverse(),console.log(o);for(const t of this.allFollowedPosts)t.date=Object(m.a)(new Date(t.date),"MMMM do, yyyy");return this.allFollowedPosts})}),console.log("Got Followed Posts"),this.commentForm=this.formBuilder.group({comment:[""]})}thirdPersonProfileModal(o,t){return Object(b.a)(this,void 0,void 0,function*(){const e=yield this.modal.create({component:d.a,componentProps:{creatorEmail:o,creatorName:t},cssClass:"third-person-profile-modal"});yield e.present()})}postPage(o){this.router.navigate(["/home/posts/post-page",o._id])}addPost(){this.router.navigate(["/home/posts/add-post"])}back(){this.eventEmitterService.onBackAction(),this.router.navigate(["/home/posts"])}comment(o,t,e,n,i){return Object(b.a)(this,void 0,void 0,function*(){this.commentForm.reset(),yield Date.now(),console.log("Posting comment"),console.log("Post ID: "+o),yield this.posts.comment(o,this.userFullName,this.userEmail,this.userProfilePicture,i).subscribe(()=>{this.posts.getPostInfo(o).subscribe(t=>{this.posts.getPostInfo(o).subscribe(o=>{for(let t of o.comments)console.log(t),t.isUser=!1,t.canDeleteComment=!1,t.canReport=!0,t.userEmail===this.userEmail&&(t.isUser=!0,t.canDeleteComment=!0,t.canReport=!1),t.repliesLength=t.replies.length,t.date=Object(p.a)(new Date(t.date),{includeSeconds:!0,addSuffix:!1});this.posts.commentsSubject$.next(o.comments.reverse())})})}),yield this.posts.getPostInfo(o).subscribe(o=>{for(let t of o.comments)t.date=Object(p.a)(new Date(t.date),{includeSeconds:!0,addSuffix:!0});this.posts.commentsSubject$.next(o.comments.reverse())}),this.toast.create({message:"Your comment has been added.",duration:1500}).then(o=>o.present()),yield this.router.navigate(["/home/posts/post-page",o])})}doRefresh(o){return Object(b.a)(this,void 0,void 0,function*(){this.profile.getUserDetails().subscribe(o=>{console.log("User ID from Following Page OnInit"),this.userID=o._id,this.userFullName=o.fullName,this.userEmail=o.email,this.userProfilePicture=o.profilePicture,this.posts.getFollowedPost(this.userID).subscribe(o=>{this.allFollowedPosts=Object.values(o).reverse(),console.log(o);for(const t of this.allFollowedPosts)t.date=Object(m.a)(new Date(t.date),"MMMM do, yyyy");return this.allFollowedPosts})}),yield setTimeout(()=>{const t=this.toast.create({message:"Inspiration Page has been refreshed",duration:3e3});o.target.complete(),t.then(o=>o.present())},2e3)})}}return o.\u0275fac=function(t){return new(t||o)(g.Hb(c.f),g.Hb(l.a),g.Hb(a.a),g.Hb(r.Z),g.Hb(i.a),g.Hb(u.a),g.Hb(r.T),g.Hb(n.k))},o.\u0275cmp=g.Bb({type:o,selectors:[["app-following"]],decls:32,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],["vertical","bottom","horizontal","end","slot","fixed",1,"ion-hide-lg-up"],[3,"click"],["name","add","size","large"],["slot","fixed",3,"ionRefresh"],[1,"ion-hide-md-down"],["offset","2.5","size","2.5",2,"margin","3% 0% 2% 0%"],["push","2.65","size","2",1,"ion-text-center"],[1,"add-button",3,"click"],["push","1","size","2",1,"ion-text-center"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center",2,"margin-top","1%"],["class","no-posts ion-align-items-center","size-xs","11","size-sm","9","size-md","8","size-lg","7",4,"ngIf"],["size","7"],["class","post",4,"ngFor","ngForOf"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","12","size-md","8","size-lg","10","pull-lg","2"],["style","margin-top: 1%;","class","post",4,"ngFor","ngForOf"],["size-xs","11","size-sm","9","size-md","8","size-lg","7",1,"no-posts","ion-align-items-center"],[2,"font-size","1.2em"],[1,"post"],["size","11"],[1,"ion-align-items-center"],["push","0.25","size","1",3,"click"],[2,"background","#999","border-radius","100px","height","40px","width","40px",3,"src"],["size","4",3,"click"],[2,"font-size","1em","font-weight","500"],["push-lg","5","size","3",1,"ion-float-right"],[2,"opacity","0.4","font-size","0.8em"],["size","12"],["push","0.25","size","11"],[1,"post-content"],[2,"position","relative","right","6px","top","-4px"],["size","11.8"],["lines","none"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input"],["style","float: right;","class","comment-post-button","name","send","type","submit",4,"ngIf"],["size","4.7"],[3,"postID"],["push","0.75","size","6"],[3,"isUser","postID"],["name","send","type","submit",1,"comment-post-button",2,"float","right"],[1,"post",2,"margin-top","1%"],[2,"position","relative","right","5px","top","-4px"],["push","0.2","size","1.3",3,"click"],["push","0.2","size","5",3,"click"],[2,"font-size","1em","margin","10px 0 10px 0px","color","#666"],["push","1.5","size","3",1,"ion-text-right"],[2,"opacity","0.4","font-size","0.7em","margin","10px 0","position","relative","top","10px"],["size","11",2,"height","auto","background","white"],[1,"post-content",2,"font-size","1em","width","100%","position","unset","line-height","unset"],[1,"ion-justify-content-center",2,"position","relative","right","6px","top","-4px"],["lines","none",2,"height","auto"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input-mobile"],["pull","1","size","4","size-xs","4.4"],["size","6"],[2,"font-size","1.3em",3,"postID"]],template:function(o,t){1&o&&(g.Mb(0,"ion-header",0),g.Mb(1,"ion-toolbar"),g.Mb(2,"ion-buttons",1),g.Ib(3,"ion-back-button"),g.Lb(),g.Mb(4,"ion-title"),g.lc(5,"Following"),g.Lb(),g.Lb(),g.Lb(),g.Mb(6,"ion-content"),g.Mb(7,"ion-fab",2),g.Mb(8,"ion-fab-button",3),g.Ub("click",function(){return t.addPost()}),g.Ib(9,"ion-icon",4),g.Lb(),g.Lb(),g.Mb(10,"ion-refresher",5),g.Ub("ionRefresh",function(o){return t.doRefresh(o)}),g.Ib(11,"ion-refresher-content"),g.Lb(),g.Mb(12,"ion-grid",6),g.Mb(13,"ion-row",6),g.Mb(14,"ion-col",7),g.Mb(15,"h1"),g.lc(16,"Following"),g.Lb(),g.Lb(),g.Mb(17,"ion-col",8),g.Mb(18,"ion-button",9),g.Ub("click",function(){return t.addPost()}),g.lc(19," Add Post "),g.Lb(),g.Lb(),g.Mb(20,"ion-col",10),g.Mb(21,"ion-button",11),g.Ub("click",function(){return t.back()}),g.lc(22," Back "),g.Lb(),g.Lb(),g.Lb(),g.Mb(23,"ion-row",12),g.kc(24,M,4,0,"ion-col",13),g.Mb(25,"ion-col",14),g.kc(26,P,29,9,"ion-row",15),g.Lb(),g.Lb(),g.Lb(),g.Mb(27,"ion-grid",0),g.Mb(28,"ion-row",16),g.kc(29,w,4,0,"ion-col",13),g.Mb(30,"ion-col",17),g.kc(31,k,29,8,"ion-row",18),g.Lb(),g.Lb(),g.Lb(),g.Lb()),2&o&&(g.xb(24),g.Zb("ngIf",0===t.allFollowedPosts.length),g.xb(2),g.Zb("ngForOf",t.allFollowedPosts),g.xb(3),g.Zb("ngIf",0===t.allFollowedPosts.length),g.xb(2),g.Zb("ngForOf",t.allFollowedPosts))},directives:[r.u,r.P,r.h,r.e,r.f,r.O,r.o,r.q,r.r,r.v,r.D,r.E,r.t,r.G,r.n,r.g,n.i,n.h,r.x,i.o,i.j,i.c,r.N,r.Y,i.i,i.b,f.a,h.a],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.post[_ngcontent-%COMP%]{padding:30px;margin-bottom:80px;border-radius:5px;box-shadow:1px 10px 10px rgba(0,0,0,.05);background:#fff;font-size:1em;line-height:35px}.post[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background:#999;opacity:.4}@media screen and (max-width:567px){.post[_ngcontent-%COMP%]{padding:30px 0}}.no-posts[_ngcontent-%COMP%]{height:70vh}form[_ngcontent-%COMP%]{width:100%}.comment[_ngcontent-%COMP%]{border:1px solid #005191;border-radius:5px;margin-top:20px;padding:10px;--padding-start:20px}.comment-post-button[_ngcontent-%COMP%]{--background:linear-gradient(#0672c4,#005191);height:30px;margin-top:20px;width:80px}.comment-input[_ngcontent-%COMP%]{margin:30px 0 60px}.comment-input[_ngcontent-%COMP%]:hover{margin:50px 0 80px}.comment-input-mobile[_ngcontent-%COMP%]{height:auto;margin:30px 0 60px;box-shadow:none;padding-left:10px;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input-mobile[_ngcontent-%COMP%], .comment-input-mobile[_ngcontent-%COMP%]:focus{background:rgba(247,248,248,.5);transition:1s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input-mobile[_ngcontent-%COMP%]:focus{height:100px;margin:30px 0 150px;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}ion-item[_ngcontent-%COMP%]{--background:none}.toolbar[_ngcontent-%COMP%] > ion-buttons[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{height:45px;border-radius:5px;padding:10px;--background:rgba(209,216,224,0.13);--color:#fff;width:140px;font-size:.6em}.toolbar[_ngcontent-%COMP%] > ion-buttons[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;left:-10px}.post-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:140px;font-size:1em;--color:#005191}.blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset;height:36px;margin-bottom:4px;position:unset}.add-button[_ngcontent-%COMP%], .blue-button[_ngcontent-%COMP%]{width:100px;margin-top:30px;font-size:.7em}.add-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#5ad8b2,#40c59d);--background-hover:linear-gradient(#bffce9,#7efcd4);font-weight:800;display:block}.comment-input[_ngcontent-%COMP%]{margin:10px 0 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input[_ngcontent-%COMP%], .comment-input[_ngcontent-%COMP%]:hover{background:rgba(247,248,248,.5);height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{margin:12px 0 0;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}.comment-post-button[_ngcontent-%COMP%]{--background:linear-gradient(#5ad8b2,#40c59d);height:40px;margin-top:40px;opacity:0;width:100%;transform:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275);-webkit-animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards}ion-fab-button[_ngcontent-%COMP%]{--background:#1baf88;--color-focused:#fff;--color-hover:#fff;--color-activated:#fff;position:relative;bottom:50px;right:10px}@-webkit-keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}"]}),o})()}];let O=(()=>{class o{}return o.\u0275mod=g.Fb({type:o}),o.\u0275inj=g.Eb({factory:function(t){return new(t||o)},imports:[[c.j.forChild(z)],c.j]}),o})(),v=(()=>{class o{}return o.\u0275mod=g.Fb({type:o}),o.\u0275inj=g.Eb({factory:function(t){return new(t||o)},imports:[[n.b,i.d,s.a,i.l,r.Q,O]]}),o})()}}]);