(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{Qfz1:function(n,t,e){"use strict";e.r(t);var l=e("CcnG"),o=function(){return function(){}}(),u=e("pMnS"),i=e("oBZk"),r=e("ZZ/e"),a=e("Ip0R"),c=e("gIcY"),s=e("mrSG"),p=e("lGQG"),b=e("6/gD"),d=e("AytR"),g=e("1tJ+"),h=function(){function n(n,t,e,l,o,u){this.router=n,this.alertController=t,this.modal=e,this.photo=l,this.auth=o,this.toast=u,this.defaultProfilePicturePath="../../../../../assets/icon/default-pro-picture.svg",this.uploadedPhoto=!1,this.croppededPhoto=!1,this.BACKEND_URL=d.a.url}return n.prototype.ngOnInit=function(){document.querySelectorAll("img").forEach((function(n){"default-picture-wrapper"===n.id&&console.log(n)}))},n.prototype.getFormData=function(n){return s.b(this,void 0,void 0,(function(){var t,e,l=this;return s.e(this,(function(o){switch(o.label){case 0:return[4,(t=document.querySelectorAll("form")).forEach((function(n){"proPicForm"===n.id&&(console.log("Got Form: ",n),l.formData=new FormData(n),console.log("Form data: ",l.formData),l.uploadedPhoto=!0)}))];case 1:return o.sent(),[4,(e=new FileReader).addEventListener("load",(function(){return s.b(l,void 0,void 0,(function(){return s.e(this,(function(n){switch(n.label){case 0:return this.uploadedPhotoURL=e.result,console.log("Before cropping: "+e.result),[4,this.cropPhoto(this.uploadedPhotoURL)];case 1:return n.sent(),[2]}}))}))}),!0)];case 2:return o.sent(),t?[2,e.readAsDataURL(n.target.files[0])]:[2]}}))}))},n.prototype.uploadPhoto=function(){var n=this;document.querySelectorAll("form").forEach((function(t){"profile-picture-form"===t.id&&(console.log("Got Form: "+t),n.formData=new FormData(t))}));var t=new FormData,e=new Blob([this.uploadedPhotoURL],{type:"image/png"});t.append("profile-picture-upload",e),!0===this.uploadedPhoto&&this.photo.imageUpload(this.formData).subscribe((function(t){console.log(t),console.log("Image Upload API Successful"),n.goToUploadResumePage(t.objectUrl)}))},n.prototype.skip=function(){console.log("Skipping to Upload Resume >>"),this.presentSkipAlert()},n.prototype.cropPhoto=function(n){return s.b(this,void 0,void 0,(function(){var t,e=this;return s.e(this,(function(l){switch(l.label){case 0:return[4,this.modal.create({component:g.a,cssClass:"image-cropper",componentProps:{uploadedPhotoURL:n}})];case 1:return[4,(t=l.sent()).present()];case 2:return l.sent(),t.onDidDismiss().then((function(n){e.uploadedPhotoURL=n.data,console.log("After cropping: "+e.uploadedPhotoURL)})),[2]}}))}))},n.prototype.goToUploadResumePage=function(n){this.auth.getProfilePicture(n),console.log("Going to Resume Page >>"),this.router.navigate(["/personal-info/profile-picture/upload-resume"])},n.prototype.presentSkipAlert=function(){return s.b(this,void 0,void 0,(function(){var n=this;return s.e(this,(function(t){switch(t.label){case 0:return[4,this.alertController.create({header:"Skip",message:"Are you sure you want to skip? You can always upload a picture in the future by going to your Profile.",buttons:[{text:"Skip",handler:function(){document.querySelectorAll("canvas").forEach((function(t){"default-picture-wrapper"===t.id&&(console.log("Got Canvas: "+t.toDataURL),t.toBlob((function(t){return s.b(n,void 0,void 0,(function(){var n,e,l=this;return s.e(this,(function(o){switch(o.label){case 0:return[4,(n=new FormData).set("profile-picture",t,"default.png")];case 1:return o.sent(),console.log(n),e=new FileReader,n&&e.readAsBinaryString(t),[4,this.photo.imageUpload(n).subscribe((function(n){return console.log(n),console.log("Default Image Upload API Successful"),console.log(n.objectUrl),l.goToUploadResumePage(n.objectUrl)}))];case 2:return o.sent(),[2]}}))}))})))}))}},{text:"Cancel",role:"cancel",handler:function(){console.log("Cancelling Profile Picture Upload Skip...")}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}}))}))},n.prototype.presentToast=function(n){return s.b(this,void 0,void 0,(function(){return s.e(this,(function(t){switch(t.label){case 0:return[4,this.toast.create({message:n,position:"bottom",duration:3e3})];case 1:return t.sent().present(),[2]}}))}))},n.prototype.presentCancelAlert=function(){return s.b(this,void 0,void 0,(function(){var n=this;return s.e(this,(function(t){switch(t.label){case 0:return[4,this.alertController.create({header:"Cancel Sign up?",cssClass:"danger-alert",buttons:[{text:"Yes",handler:function(){n.router.navigate([""]),console.log("Cancelling Sign Up...")}},{text:"No",role:"cancel",handler:function(){}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}}))}))},n.prototype.cancel=function(){console.log("Sign up cancelled"),this.presentCancelAlert()},n}(),f=e("ZYCi"),m=l.rb({encapsulation:0,styles:[[".orange-button[_ngcontent-%COMP%]{display:block;margin:40px auto;width:200px;-webkit-animation:none;animation:none;opacity:1}.blue-button[_ngcontent-%COMP%]{width:200px}.skip-button[_ngcontent-%COMP%]{display:block;--background:#e6e6e6;--background-hover:#999;color:#888;width:150px;margin:40px auto;-webkit-animation:none;animation:none;opacity:.5}.wrapper[_ngcontent-%COMP%]{box-shadow:1px 1px 10px rgba(0,0,0,.1);height:auto;padding:50px}#default-picture-wrapper[_ngcontent-%COMP%]{height:100px;width:100px;margin:0 auto;border-radius:50px;background-image:url(default-pro-picture.69dbc13508e0248e4d99.svg);opacity:0;-webkit-animation:.5s cubic-bezier(.175,.885,.32,1) .5s forwards slide-up;animation:.5s cubic-bezier(.175,.885,.32,1) .5s forwards slide-up}#upload-picture-wrapper[_ngcontent-%COMP%]{height:100px;width:100px;margin:0 auto;border-radius:50px;opacity:0;-webkit-animation:.5s cubic-bezier(.175,.885,.32,1.275) .5s forwards slide-up;animation:.5s cubic-bezier(.175,.885,.32,1.275) .5s forwards slide-up}span[_ngcontent-%COMP%]{color:#005191;font-weight:600;background:#fff;padding:6px;line-height:1.5em;border-radius:5px}#next-button[_ngcontent-%COMP%]{width:100%;height:60px;background:#d3d3d3;position:absolute;bottom:0;font-size:1em}.header[_ngcontent-%COMP%]{background:#edf3f8;margin-bottom:20px;padding:50px 0}.text-header[_ngcontent-%COMP%]{font-size:1em;padding:0 50px;color:#333;text-align:justify;opacity:0;position:relative;top:35px;-webkit-animation:.5s cubic-bezier(.175,.885,.32,1) .9s forwards slide-up;animation:.5s cubic-bezier(.175,.885,.32,1) .9s forwards slide-up}@media only screen and (max-width:576px){.text-header[_ngcontent-%COMP%]{padding:0 50px;font-size:1em}}.cancel-button[_ngcontent-%COMP%]{color:#e4405f;--background:linear-gradient(#fdfbfb, #fff7f8);--background-hover:linear-gradient(#f15b77, #e4405f);height:50px;width:150px;-webkit-transition:.5s cubic-bezier(.175,.885,.32,1.275);transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.cancel-button[_ngcontent-%COMP%]:hover{color:#fff}.camera-button[_ngcontent-%COMP%]{--background:white;--color:#005191;--border-style:solid;--border-width:1px;--border-color:#005191;border:1px;margin:30px auto}input[type=file][_ngcontent-%COMP%]{color:#005191;font-size:1.2em;font-weight:600;border:1px solid #005191;background:-webkit-gradient(linear,left top,left bottom,from(rgba(6,114,196,.3)),to(rgba(0,81,145,.2)));background:linear-gradient(rgba(6,114,196,.3),rgba(0,81,145,.2));width:300px;height:50px;border-radius:5px;padding:20px 0 0;text-align:center;cursor:pointer;margin:0 auto}input[type=file][_ngcontent-%COMP%]:hover{background:-webkit-gradient(linear,left top,left bottom,from(#0672c4),to(#054372));background:linear-gradient(#0672c4,#054372);color:#fff}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{visibility:hidden}#img-wrapper[_ngcontent-%COMP%]{height:150px;width:150px;margin:50px auto}"]],data:{}});function k(n){return l.Nb(0,[(n()(),l.tb(0,0,null,null,0,"canvas",[["id","default-picture-wrapper"]],null,null,null,null,null))],null,null)}function w(n){return l.Nb(0,[(n()(),l.tb(0,0,null,null,0,"img",[["id","upload-picture-wrapper"]],[[8,"src",4]],null,null,null,null))],null,(function(n,t){n(t,0,0,l.xb(1,"",t.component.uploadedPhotoURL,""))}))}function P(n){return l.Nb(0,[(n()(),l.tb(0,0,null,null,1,"ion-header",[["style","display: none;"]],null,null,null,i.cb,i.r)),l.sb(1,49152,null,0,r.B,[l.h,l.k,l.z],null,null),(n()(),l.tb(2,0,null,null,39,"ion-content",[["class","ion-text-center"]],null,null,null,i.W,i.l)),l.sb(3,49152,null,0,r.u,[l.h,l.k,l.z],null,null),(n()(),l.tb(4,0,null,0,37,"ion-grid",[],null,null,null,i.bb,i.q)),l.sb(5,49152,null,0,r.A,[l.h,l.k,l.z],null,null),(n()(),l.tb(6,0,null,0,35,"ion-row",[["class","ion-justify-content-center"]],null,null,null,i.kb,i.z)),l.sb(7,49152,null,0,r.jb,[l.h,l.k,l.z],null,null),(n()(),l.tb(8,0,null,0,33,"ion-col",[["size","12"]],null,null,null,i.V,i.k)),l.sb(9,49152,null,0,r.t,[l.h,l.k,l.z],{size:[0,"size"]},null),(n()(),l.tb(10,0,null,0,12,"ion-row",[["class","ion-justify-content-center header"]],null,null,null,i.kb,i.z)),l.sb(11,49152,null,0,r.jb,[l.h,l.k,l.z],null,null),(n()(),l.tb(12,0,null,0,5,"ion-col",[["class","ion-align-items-center"],["size","12"]],null,null,null,i.V,i.k)),l.sb(13,49152,null,0,r.t,[l.h,l.k,l.z],{size:[0,"size"]},null),(n()(),l.ib(16777216,null,0,1,null,k)),l.sb(15,16384,null,0,a.j,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,0,1,null,w)),l.sb(17,16384,null,0,a.j,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(n()(),l.tb(18,0,null,0,4,"h6",[["class","text-header"]],null,null,null,null,null)),(n()(),l.Lb(-1,null,["Please select your profile picture. Only pictures with the extentions "])),(n()(),l.tb(20,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Lb(-1,null,["'.png', '.jpg', and '.jpeg'"])),(n()(),l.Lb(-1,null,[" are allowed. "])),(n()(),l.tb(23,0,null,0,3,"ion-row",[["class","ion-justify-content-center"]],null,null,null,i.kb,i.z)),l.sb(24,49152,null,0,r.jb,[l.h,l.k,l.z],null,null),(n()(),l.tb(25,0,null,0,1,"ion-col",[["size","10"]],null,null,null,i.V,i.k)),l.sb(26,49152,null,0,r.t,[l.h,l.k,l.z],{size:[0,"size"]},null),(n()(),l.tb(27,0,null,0,8,"form",[["id","proPicForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,t,e){var o=!0,u=n.component;return"submit"===t&&(o=!1!==l.Fb(n,29).onSubmit(e)&&o),"reset"===t&&(o=!1!==l.Fb(n,29).onReset()&&o),"ngSubmit"===t&&(o=!1!==u.uploadPhoto()&&o),o}),null,null)),l.sb(28,16384,null,0,c.t,[],null,null),l.sb(29,4210688,null,0,c.m,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l.Ib(2048,null,c.a,null,[c.m]),l.sb(31,16384,null,0,c.l,[[4,c.a]],null,null),(n()(),l.tb(32,0,null,null,0,"input",[["name","profile-picture"],["placeholder","Upload Image"],["type","file"]],null,[[null,"change"]],(function(n,t,e){var l=!0;return"change"===t&&(l=!1!==n.component.getFormData(e)&&l),l}),null,null)),(n()(),l.tb(33,0,null,null,2,"ion-button",[["class","orange-button"],["type","submit"]],null,null,null,i.O,i.d)),l.sb(34,49152,null,0,r.k,[l.h,l.k,l.z],{disabled:[0,"disabled"],type:[1,"type"]},null),(n()(),l.Lb(-1,0,["Next "])),(n()(),l.tb(36,0,null,0,2,"ion-button",[["class","blue-button skip-button"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.skip()&&l),l}),i.O,i.d)),l.sb(37,49152,null,0,r.k,[l.h,l.k,l.z],null,null),(n()(),l.Lb(-1,0,[" Skip "])),(n()(),l.tb(39,0,null,0,2,"ion-button",[["class","cancel-button"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.cancel()&&l),l}),i.O,i.d)),l.sb(40,49152,null,0,r.k,[l.h,l.k,l.z],null,null),(n()(),l.Lb(-1,0,[" Cancel "]))],(function(n,t){var e=t.component;n(t,9,0,"12"),n(t,13,0,"12"),n(t,15,0,!e.uploadedPhoto),n(t,17,0,e.uploadedPhoto),n(t,26,0,"10"),n(t,34,0,!e.uploadedPhoto,"submit")}),(function(n,t){n(t,27,0,l.Fb(t,31).ngClassUntouched,l.Fb(t,31).ngClassTouched,l.Fb(t,31).ngClassPristine,l.Fb(t,31).ngClassDirty,l.Fb(t,31).ngClassValid,l.Fb(t,31).ngClassInvalid,l.Fb(t,31).ngClassPending)}))}function x(n){return l.Nb(0,[(n()(),l.tb(0,0,null,null,1,"app-profile-picture",[],null,null,null,P,m)),l.sb(1,114688,null,0,h,[f.m,r.a,r.Hb,b.a,p.a,r.Pb],null,null)],(function(n,t){n(t,1,0)}),null)}var y=l.pb("app-profile-picture",h,x,{},{},[]),v=e("1Ewm"),C=function(){return Promise.all([e.e(0),e.e(36)]).then(e.bind(null,"tNEj")).then((function(n){return n.UploadResumePageModuleNgFactory}))},z=function(){return function(){}}(),D=e("zRHt"),U=e("Scpy");e.d(t,"ProfilePicturePageModuleNgFactory",(function(){return O}));var O=l.qb(o,[],(function(n){return l.Cb([l.Db(512,l.j,l.bb,[[8,[u.a,y,v.a]],[3,l.j],l.x]),l.Db(4608,a.l,a.k,[l.u,[2,a.s]]),l.Db(4608,c.r,c.r,[]),l.Db(4608,c.b,c.b,[]),l.Db(4608,r.b,r.b,[l.z,l.g]),l.Db(4608,r.Hb,r.Hb,[r.b,l.j,l.q]),l.Db(4608,r.Lb,r.Lb,[r.b,l.j,l.q]),l.Db(1073742336,a.c,a.c,[]),l.Db(1073742336,c.q,c.q,[]),l.Db(1073742336,c.e,c.e,[]),l.Db(1073742336,c.n,c.n,[]),l.Db(1073742336,r.Eb,r.Eb,[]),l.Db(1073742336,f.q,f.q,[[2,f.v],[2,f.m]]),l.Db(1073742336,z,z,[]),l.Db(1073742336,D.a,D.a,[]),l.Db(1073742336,U.a,U.a,[]),l.Db(1073742336,o,o,[]),l.Db(1024,f.k,(function(){return[[{path:"",component:h},{path:"upload-resume",loadChildren:C}],[{path:"",component:g.a}]]}),[])])}))}}]);