!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{SmxB:function(t,i,a){"use strict";a.r(i),a.d(i,"ChangeEmailPageModule",function(){return E});var o=a("ofXK"),r=a("3Pt+"),s=a("TEn/"),l=a("tyNb"),c=a("mrSG"),u=a("lGQG"),b=a("Aso2"),m=a("fXoL");function h(e,n){if(1&e&&(m.Mb(0,"div",21),m.lc(1),m.Lb()),2&e){var t=m.Wb().$implicit;m.xb(1),m.nc(" ",t.message," ")}}function d(e,n){if(1&e&&(m.Kb(0),m.kc(1,h,2,1,"div",20),m.Jb()),2&e){var t=n.$implicit,i=m.Wb();m.xb(1),m.Zb("ngIf",i.changeEmail.get("email").hasError(t.type)&&(i.changeEmail.get("email").dirty||i.changeEmail.get("email").touched))}}var f,p,g,v=[{path:"",component:(f=function(){function t(n,i,a,o,r,s){e(this,t),this.formBuilder=n,this.router=i,this.auth=a,this.toast=o,this.alertController=r,this.profile=s,this.activeEmail="",this.validationMessasges={email:[{type:"email",message:"Must be a valid email address"}],password:[{type:"pattern",message:"Password must be at least 6 characters with at least one lowercase character, one uppercase character, and one number."}]},this.activeEmail=this.profile.email.getValue(),console.log("Active Email: "+this.activeEmail)}var i,a,o;return i=t,(a=[{key:"ngOnInit",value:function(){var e=this;this.changeEmail=this.formBuilder.group({email:["",[r.n.required,r.n.email]],password:["",r.n.compose([r.n.minLength(8),r.n.required,r.n.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")])]}),this.changeEmail.valueChanges.subscribe(function(n){setTimeout(function(){e.formValid=!!e.changeEmail.valid},100)})}},{key:"back",value:function(){this.router.navigate(["/home/profile/edit-profile-page"])}},{key:"presentToast",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toast.create({message:"There was an error with your password or email. Please try again.",duration:5e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"presentAlert",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"danger-alert",header:"Invalid Email",message:"New Email cannot be the same as the current one.",buttons:[{text:"OK"}]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"confirmChangedEmail",value:function(e,n){e==this.activeEmail?this.presentAlert():this.profile.changeEmail("eddie@gmail.com",e,n)}}])&&n(i.prototype,a),o&&n(i,o),t}(),f.\u0275fac=function(e){return new(e||f)(m.Hb(r.a),m.Hb(l.f),m.Hb(u.a),m.Hb(s.Z),m.Hb(s.a),m.Hb(b.a))},f.\u0275cmp=m.Bb({type:f,selectors:[["app-change-email"]],decls:32,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],["fixed","",1,"ion-text-center"],[1,"ion-hide-md-down",2,"margin","5% 0% 3% 0%"],["offset","2.5","size","2.5"],["push","2.5","size","2"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center","ion-hide-md-down"],["size","10"],[2,"background-color","#00000044"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","8","size-lg","6"],[1,"text-header",2,"width","unset"],[3,"formGroup","ngSubmit"],[1,"line-input"],["required","","placeholder","new email","formControlName","email","type","email",3,"keyup.enter"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["required","","placeholder","password","formControlName","password","minlength","8","type","password",3,"keyup.enter"],["type","submit",1,"orange-button",2,"width","unset",3,"disabled"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,n){1&e&&(m.Mb(0,"ion-header",0),m.Mb(1,"ion-toolbar"),m.Mb(2,"ion-buttons",1),m.Ib(3,"ion-back-button"),m.Lb(),m.Mb(4,"ion-title"),m.lc(5,"Change Email"),m.Lb(),m.Lb(),m.Lb(),m.Mb(6,"ion-content"),m.Mb(7,"ion-grid",2),m.Mb(8,"ion-row",3),m.Mb(9,"ion-col",4),m.Mb(10,"h1"),m.lc(11,"Change Email"),m.Lb(),m.Lb(),m.Mb(12,"ion-col",5),m.Mb(13,"ion-button",6),m.Ub("click",function(){return n.back()}),m.lc(14," Back "),m.Lb(),m.Lb(),m.Lb(),m.Mb(15,"ion-row",7),m.Mb(16,"ion-col",8),m.Ib(17,"hr",9),m.Lb(),m.Lb(),m.Mb(18,"ion-row",10),m.Mb(19,"ion-col",11),m.Mb(20,"h6",12),m.lc(21),m.Lb(),m.Mb(22,"form",13),m.Ub("ngSubmit",function(){return n.confirmChangedEmail(n.changeEmail.controls.email.value,n.changeEmail.controls.password.value)}),m.Mb(23,"ion-list",14),m.Mb(24,"ion-item"),m.Mb(25,"ion-input",15),m.Ub("keyup.enter",function(){return n.formValid?n.confirmChangedEmail(n.changeEmail.controls.email.value,n.changeEmail.controls.password.value):null}),m.Lb(),m.Lb(),m.Mb(26,"div",16),m.kc(27,d,2,1,"ng-container",17),m.Lb(),m.Mb(28,"ion-item"),m.Mb(29,"ion-input",18),m.Ub("keyup.enter",function(){return n.formValid?n.confirmChangedEmail(n.changeEmail.controls.email.value,n.changeEmail.controls.password.value):null}),m.Lb(),m.Lb(),m.Lb(),m.Mb(30,"ion-button",19),m.lc(31,"CHANGE EMAIL"),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb()),2&e&&(m.xb(21),m.mc(n.activeEmail),m.xb(1),m.Zb("formGroup",n.changeEmail),m.xb(5),m.Zb("ngForOf",n.validationMessasges.email),m.xb(3),m.Zb("disabled",!n.formValid))},directives:[s.u,s.P,s.h,s.e,s.f,s.O,s.o,s.t,s.G,s.n,s.g,r.o,r.j,r.c,s.C,s.x,s.w,s.Y,r.m,r.i,r.b,o.h,r.f,o.i],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset}"]}),f)},{path:"confirm",loadChildren:function(){return a.e(53).then(a.bind(null,"QGQF")).then(function(e){return e.ConfirmPageModule})}}],w=((g=function n(){e(this,n)}).\u0275mod=m.Fb({type:g}),g.\u0275inj=m.Eb({factory:function(e){return new(e||g)},imports:[[l.j.forChild(v)],l.j]}),g),E=((p=function n(){e(this,n)}).\u0275mod=m.Fb({type:p}),p.\u0275inj=m.Eb({factory:function(e){return new(e||p)},imports:[[o.b,r.d,s.Q,r.l,w]]}),p)}}])}();