{"version":3,"sources":["webpack:///src/app/pages/profile/change-profile-picture/change-profile-picture/change-profile-picture.page.scss","webpack:///src/app/pages/profile/change-profile-picture/change-profile-picture/change-profile-picture-routing.module.ts","webpack:///src/app/pages/profile/change-profile-picture/change-profile-picture/change-profile-picture.page.html","webpack:///src/app/pages/profile/change-profile-picture/change-profile-picture/change-profile-picture.page.ts","webpack:///src/app/pages/profile/change-profile-picture/change-profile-picture/change-profile-picture.module.ts"],"names":["routes","path","component","loadChildren","then","m","ConfirmPageModule","ChangeProfilePicturePageRoutingModule","imports","forChild","exports","ChangeProfilePicturePage","photo","router","profile","alert","modal","toast","loading","postEmitter","singlePostEmitterService","imageUrl","profilePicture","getValue","uploadedPhoto","awsPrefix","slice","BACKEND_URL","url","getUserDetails","subscribe","data","userEmail","console","log","event","formElement","document","querySelectorAll","forEach","form","id","formData","FormData","reader","FileReader","addEventListener","uploadedPhotoURL","result","cropPhoto","readAsDataURL","target","files","append","photoFile","File","dataURLtoBlob","changeProfilePicture","newPhoto","presentLoading","next","presentToast","postPageRefresh","singlePostPageRefresh","navigate","create","message","animated","cssClass","duration","present","onDidDismiss","role","componentProps","dataurl","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","Blob","type","selector","template","ChangeProfilePicturePageModule","declarations"],"mappings":"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","file":"change-profile-picture-change-profile-picture-change-profile-picture-module-es5.js","sourcesContent":["export default \"#profile-picture {\\n  height: 100px;\\n  width: 100px;\\n  border-radius: 100px;\\n  margin: 50px auto;\\n  display: block;\\n  opacity: 0;\\n  border: 2px solid #005191;\\n  -webkit-animation: pic-slide-right 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards;\\n          animation: pic-slide-right 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards;\\n}\\n\\n.orange-button {\\n  width: unset;\\n  display: block;\\n  margin: 40px auto;\\n  width: 200px;\\n}\\n\\n.blue-button {\\n  width: 200px;\\n}\\n\\n.skip-button {\\n  display: block;\\n  --background: none;\\n  color: #888;\\n  --border-color: #888;\\n  --border-width: 3px;\\n  --border-style: solid;\\n  width: 200px;\\n  margin: 40px auto;\\n  -webkit-animation: none;\\n          animation: none;\\n  opacity: 0.5;\\n}\\n\\n.blue-button {\\n  width: unset;\\n  -webkit-animation: none;\\n          animation: none;\\n  opacity: unset;\\n}\\n\\n.wrapper {\\n  box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.1);\\n  height: auto;\\n  padding: 50px;\\n}\\n\\n#default-picture-wrapper {\\n  height: 100px;\\n  width: 100px;\\n  margin: 20px auto 50px auto;\\n  border-radius: 50px;\\n  background-image: url('default-pro-picture.svg');\\n  opacity: 0;\\n  -webkit-animation: slide-up 0.5s cubic-bezier(0.175, 0.885, 0.32, 1) 0.5s forwards;\\n          animation: slide-up 0.5s cubic-bezier(0.175, 0.885, 0.32, 1) 0.5s forwards;\\n}\\n\\n#upload-picture-wrapper {\\n  height: 100px;\\n  width: 100px;\\n  border: 4px solid #005191;\\n  margin: 0 auto;\\n  margin-bottom: 50px;\\n  border-radius: 50px;\\n  -webkit-animation: slide-up 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards;\\n          animation: slide-up 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards;\\n}\\n\\nspan {\\n  color: #FFB351;\\n  font-weight: 600;\\n  background: #222;\\n  padding: 6px;\\n  line-height: 1.5em;\\n  border-radius: 5px;\\n}\\n\\n#next-button {\\n  width: 100%;\\n  height: 60px;\\n  background: lightgray;\\n  position: absolute;\\n  bottom: 0;\\n  font-size: 1em;\\n}\\n\\n.text-header {\\n  font-size: 1.2em;\\n  padding: unset;\\n  color: #333;\\n}\\n\\n.cancel-button {\\n  color: #e4405f;\\n  --background: none;\\n  --background-hover: none;\\n  height: 50px;\\n  width: 200px;\\n  box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.1);\\n  transition: 0.5s;\\n  transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);\\n}\\n\\n.cancel-button:hover {\\n  box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.4);\\n}\\n\\n.camera-button {\\n  --background: white;\\n  --color: #005191;\\n  --border-style: solid;\\n  --border-width: 1px;\\n  --border-color:#005191;\\n  border: 1px;\\n  margin: 30px auto;\\n}\\n\\ninput[type=file] {\\n  color: white;\\n  font-size: 1.2em;\\n  font-weight: 600;\\n  border: #005191 1px solid;\\n  background: linear-gradient(#0672c4, #005191);\\n  width: 400px;\\n  height: 50px;\\n  border-radius: 5px;\\n  padding: 20px 0 0 20px;\\n  text-align: center;\\n  cursor: pointer;\\n}\\n\\ninput[type=file]::-webkit-file-upload-button {\\n  visibility: hidden;\\n}\\n\\n#img-wrapper {\\n  height: 150px;\\n  width: 150px;\\n  margin: 50px auto;\\n}\\n\\n@-webkit-keyframes lide-up {\\n  0% {\\n    transform: translateY(100px);\\n  }\\n  100% {\\n    transform: translateY(0px);\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes lide-up {\\n  0% {\\n    transform: translateY(100px);\\n  }\\n  100% {\\n    transform: translateY(0px);\\n    opacity: 1;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2NoYW5nZS1wcm9maWxlLXBpY3R1cmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7RUFDQSx5QkFBQTtFQUNBLDZGQUFBO1VBQUEscUZBQUE7QUFDSjs7QUFFRTtFQUNFLFlBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUU7RUFDRSxZQUFBO0FBQ0o7O0FBR0U7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsdUJBQUE7VUFBQSxlQUFBO0VBQ0EsWUFBQTtBQUFKOztBQUdFO0VBQ0UsWUFBQTtFQUNBLHVCQUFBO1VBQUEsZUFBQTtFQUNBLGNBQUE7QUFBSjs7QUFHRTtFQUNFLDJDQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUFBSjs7QUFHRTtFQUNFLGFBQUE7RUFBZSxZQUFBO0VBQ2YsMkJBQUE7RUFDQSxtQkFBQTtFQUNBLGdEQUFBO0VBQ0EsVUFBQTtFQUNBLGtGQUFBO1VBQUEsMEVBQUE7QUFDSjs7QUFFRTtFQUNFLGFBQUE7RUFBZSxZQUFBO0VBQ2YseUJBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLHNGQUFBO1VBQUEsOEVBQUE7QUFFSjs7QUFDRTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7QUFFSjs7QUFDRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxjQUFBO0FBRUo7O0FBQ0U7RUFDRSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0FBRUo7O0FBQ0U7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSx3QkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsMkNBQUE7RUFDQSxnQkFBQTtFQUNBLG1FQUFBO0FBRUo7O0FBQ0U7RUFDRSwyQ0FBQTtBQUVKOztBQUNFO0VBQ0UsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtBQUVKOztBQUNFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLDZDQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FBRUo7O0FBRUU7RUFDRSxrQkFBQTtBQUNKOztBQUlFO0VBQ0UsYUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQURKOztBQUlFO0VBQ0U7SUFDRSw0QkFBQTtFQURKO0VBSUU7SUFDRSwwQkFBQTtJQUNBLFVBQUE7RUFGSjtBQUNGOztBQU5FO0VBQ0U7SUFDRSw0QkFBQTtFQURKO0VBSUU7SUFDRSwwQkFBQTtJQUNBLFVBQUE7RUFGSjtBQUNGIiwiZmlsZSI6ImNoYW5nZS1wcm9maWxlLXBpY3R1cmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI3Byb2ZpbGUtcGljdHVyZSB7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICB3aWR0aDogMTAwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTAwcHg7XG4gICAgbWFyZ2luOiA1MHB4IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgb3BhY2l0eTogMDtcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjMDA1MTkxO1xuICAgIGFuaW1hdGlvbjogcGljLXNsaWRlLXJpZ2h0IDAuNXMgY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC4zMiwgMS4yNzUpIDAuNXMgZm9yd2FyZHM7XG4gIH1cblxuICAub3JhbmdlLWJ1dHRvbiB7XG4gICAgd2lkdGg6IHVuc2V0O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbjogNDBweCBhdXRvO1xuICAgIHdpZHRoOiAyMDBweDtcbiAgfVxuXG4gIC5ibHVlLWJ1dHRvbiB7XG4gICAgd2lkdGg6IDIwMHB4O1xuICB9XG5cblxuICAuc2tpcC1idXR0b257XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAgIGNvbG9yOiAjODg4O1xuICAgIC0tYm9yZGVyLWNvbG9yOiAjODg4O1xuICAgIC0tYm9yZGVyLXdpZHRoIDogM3B4O1xuICAgIC0tYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgbWFyZ2luOiA0MHB4IGF1dG87XG4gICAgYW5pbWF0aW9uOiBub25lO1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgfVxuXG4gIC5ibHVlLWJ1dHRvbiB7XG4gICAgd2lkdGg6IHVuc2V0O1xuICAgIGFuaW1hdGlvbjogbm9uZTtcbiAgICBvcGFjaXR5OiB1bnNldDtcbiAgfVxuXG4gIC53cmFwcGVyIHtcbiAgICBib3gtc2hhZG93OiAxcHggMXB4IDEwcHggcmdiYSgwLDAsMCwwLjEpO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBwYWRkaW5nOiA1MHB4O1xuICB9XG5cbiAgI2RlZmF1bHQtcGljdHVyZS13cmFwcGVyIHtcbiAgICBoZWlnaHQ6IDEwMHB4OyB3aWR0aDogMTAwcHg7XG4gICAgbWFyZ2luOiAyMHB4IGF1dG8gNTBweCBhdXRvO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi8uLi8uLi8uLi8uLi9hc3NldHMvaWNvbi9kZWZhdWx0LXByby1waWN0dXJlLnN2ZycpO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgYW5pbWF0aW9uOiBzbGlkZS11cCAwLjVzIGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIsIDEpIDAuNXMgZm9yd2FyZHM7XG4gIH1cblxuICAjdXBsb2FkLXBpY3R1cmUtd3JhcHBlciB7XG4gICAgaGVpZ2h0OiAxMDBweDsgd2lkdGg6IDEwMHB4O1xuICAgIGJvcmRlcjogNHB4IHNvbGlkICMwMDUxOTE7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgbWFyZ2luLWJvdHRvbTogNTBweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgIGFuaW1hdGlvbjogc2xpZGUtdXAgMC41cyBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSkgMC41cyBmb3J3YXJkcztcbiAgfVxuXG4gIHNwYW57XG4gICAgY29sb3I6ICNGRkIzNTE7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBiYWNrZ3JvdW5kOiAjMjIyO1xuICAgIHBhZGRpbmc6IDZweDtcbiAgICBsaW5lLWhlaWdodDogMS41ZW07XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICB9XG5cbiAgI25leHQtYnV0dG9ue1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNjBweDtcbiAgICBiYWNrZ3JvdW5kOiBsaWdodGdyYXk7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogMDtcbiAgICBmb250LXNpemU6IDFlbTtcbiAgfVxuXG4gIC50ZXh0LWhlYWRlciB7XG4gICAgZm9udC1zaXplOiAxLjJlbTtcbiAgICBwYWRkaW5nOiB1bnNldDtcbiAgICBjb2xvcjogIzMzMztcbiAgfVxuXG4gIC5jYW5jZWwtYnV0dG9uIHtcbiAgICBjb2xvcjogI2U0NDA1ZjtcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgLS1iYWNrZ3JvdW5kLWhvdmVyOiBub25lO1xuICAgIGhlaWdodDogNTBweDtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgYm94LXNoYWRvdzogMXB4IDFweCAxMHB4IHJnYmEoMCwwLDAsMC4xKTtcbiAgICB0cmFuc2l0aW9uOiAwLjVzO1xuICAgIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSk7XG4gIH1cblxuICAuY2FuY2VsLWJ1dHRvbjpob3ZlciB7XG4gICAgYm94LXNoYWRvdzogMXB4IDFweCAxMHB4IHJnYmEoMCwwLDAsMC40KTtcbiAgfVxuXG4gIC5jYW1lcmEtYnV0dG9ue1xuICAgIC0tYmFja2dyb3VuZDogd2hpdGU7XG4gICAgLS1jb2xvcjogIzAwNTE5MTtcbiAgICAtLWJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgLS1ib3JkZXItd2lkdGg6IDFweDtcbiAgICAtLWJvcmRlci1jb2xvcjojMDA1MTkxO1xuICAgIGJvcmRlcjogMXB4O1xuICAgIG1hcmdpbjogMzBweCBhdXRvO1xuICB9XG5cbiAgaW5wdXRbdHlwZT1maWxlXSB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBib3JkZXI6ICMwMDUxOTEgMXB4IHNvbGlkO1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgjMDY3MmM0LCAjMDA1MTkxKTtcbiAgICB3aWR0aDogNDAwcHg7XG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBwYWRkaW5nOiAyMHB4IDAgMCAyMHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgfVxuXG4gIGlucHV0W3R5cGU9ZmlsZV06Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9uIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cblxuXG5cbiAgI2ltZy13cmFwcGVyIHtcbiAgICBoZWlnaHQ6IDE1MHB4O1xuICAgIHdpZHRoOiAxNTBweDtcbiAgICBtYXJnaW46IDUwcHggYXV0bztcbiAgfVxuXG4gIEBrZXlmcmFtZXMgbGlkZS11cCB7XG4gICAgMCUge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMHB4KTtcbiAgICB9XG5cbiAgICAxMDAlIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwcHgpO1xuICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG4gIH1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChangeProfilePicturePage } from './change-profile-picture.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangeProfilePicturePage\n  },\n  {\n    path: 'confirm',\n    loadChildren: () => import('../confirm/confirm.module').then( m => m.ConfirmPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChangeProfilePicturePageRoutingModule {}\n","export default \"<!-- Mobile Header -->\\n<ion-header class=\\\"ion-hide-lg-up\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Change Profile Picture</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-text-center\\\">\\n  <ion-grid>\\n    <ion-row class=\\\"ion-hide-md-down\\\" style=\\\"margin: 5% 0% 3% 0%;\\\">\\n      <ion-col offset=\\\"2\\\" size=\\\"3.5\\\">\\n        <h1>Change Profile Picture</h1>\\n      </ion-col>\\n      <ion-col push=\\\"2\\\" size=\\\"2\\\">\\n        <ion-button class=\\\"blue-button\\\" expand=\\\"block\\\" (click)=\\\"back()\\\">\\n           Back\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-justify-content-center ion-hide-md-down\\\">\\n      <ion-col size=\\\"6\\\">\\n        <hr style=\\\"background-color: #00000044;\\\" />\\n      </ion-col>\\n    </ion-row>\\n\\n    <!-- Mobile -->\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-col size-xs=\\\"11\\\" size-sm=\\\"10\\\" size-md=\\\"8\\\" size-lg=\\\"6\\\" style=\\\"margin-top: 50px;\\\">\\n        <h6 class=\\\"text-header\\\">Please select the profile picture you will use to replace your current one. Only pictures with the extentions <span>'.png', '.jpg', and '.jpeg'</span> are allowed. </h6>\\n\\n        <!-- <p>{{awsPrefix}}</p> -->\\n        <img *ngIf=\\\"!uploadedPhoto\\\" id=\\\"profile-picture\\\" src=\\\"{{imageUrl}}\\\" alt=\\\"Profile Picture\\\">\\n\\n\\n        <img *ngIf=\\\"uploadedPhoto\\\" id=\\\"profile-picture\\\" src=\\\"{{uploadedPhotoURL}}\\\" alt=\\\"Profile Picture\\\">\\n\\n        <form\\n        (ngSubmit)=\\\"uploadChangedPhoto()\\\" id=\\\"changePhotoForm\\\">\\n          <input\\n            name=\\\"profile-picture-update\\\"\\n            (change)=\\\"getFormData($event)\\\" placeholder=\\\"Upload Image\\\"\\n            type=\\\"file\\\"/>\\n\\n          <ion-button\\n            type=\\\"submit\\\"\\n            class=\\\"orange-button\\\"\\n            [disabled]=\\\"!imageUrl\\\">Update\\n          </ion-button>\\n        </form>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ProfileService } from '../../../../services/profile.service';\nimport { PhotoService } from '../../../../services/photo.service';\nimport { AlertController, ToastController, LoadingController, ModalController } from '@ionic/angular';\nimport { environment } from '../../../../../environments/environment';\nimport { ImageCropperPage } from 'src/app/modals/image-cropper/image-cropper.page';\nimport { PostPageEmitterService } from 'src/app/emitters/post-page-emitter.service';\nimport { SinglePostPageEmitterService } from 'src/app/emitters/single-post-page-emitter.service';\n\n\n\n\n@Component({\n  selector: 'app-change-profile-picture',\n  templateUrl: './change-profile-picture.page.html',\n  styleUrls: ['./change-profile-picture.page.scss'],\n})\nexport class ChangeProfilePicturePage implements OnInit {\n  formData: FormData;\n  imageUrl = this.profile.profilePicture.getValue();\n  uploadedPhotoURL;\n  uploadedPhoto = false;\n  awsPrefix = this.imageUrl.slice(-51);\n  userEmail: any;\n  BACKEND_URL = environment.url;\n\n  constructor(\n    private photo: PhotoService,\n    private router: Router,\n    private profile: ProfileService,\n    private alert: AlertController,\n    private modal: ModalController,\n    private toast: ToastController,\n    private loading: LoadingController,\n    private postEmitter: PostPageEmitterService,\n    private singlePostEmitterService: SinglePostPageEmitterService,\n    ) { }\n\n  ngOnInit() {\n    this.profile.getUserDetails()\n      .subscribe(\n        data => {\n          this.userEmail = data['email'];\n          console.log(this.userEmail);\n        }\n      );\n  }\n\n  async getFormData(event) {\n   const formElement = document.querySelectorAll('form');\n   await formElement.forEach(form => {\n    if ( form.id === 'changePhotoForm') {\n      console.log('Got Form: ' + form);\n      this.formData = new FormData(form);\n      this.uploadedPhoto = true;\n    }\n   });\n\n   console.log(this.formData);\n\n   let reader = new FileReader();\n   await reader.addEventListener('load', async () => {\n     // convert image file to base64 string\n     this.uploadedPhotoURL = reader.result;\n     console.log('Before cropping: ' + reader.result);\n     await this.cropPhoto(this.uploadedPhotoURL);\n   }, true);\n\n   if (formElement) {\n     return reader.readAsDataURL(event.target.files[0]);\n   }\n }\n\n uploadChangedPhoto() {\n\n  const formData = new FormData();\n  formData.append('oldPhotoKey', this.awsPrefix);\n  formData.append('email', this.userEmail);\n\n  const photoFile = new File([this.dataURLtoBlob(this.uploadedPhotoURL)], 'picture.png');\n\n  formData.append('profile-picture-update', photoFile);\n\n  if (this.uploadedPhoto === true) {\n    this.photo.changeProfilePicture(formData).subscribe(\n      data => {\n        console.log(data);\n        let newPhoto = data['objectUrl'];\n        // Update all the creatorProfilePicture properties with newPhoto\n        // this.photo.updatePostPhotos(newPhoto, this.userEmail);\n        this.presentLoading();\n        this.profile.profilePicture.next(newPhoto);\n        this.presentToast();\n        // Get profile pages to refresh with updated profile pics\n        this.postEmitter.postPageRefresh();\n        this.singlePostEmitterService.singlePostPageRefresh();\n        this.router.navigate(['/home/profile']);\n      }\n    );\n  }\n }\n\nasync presentToast() {\n  const toast = await this.toast.create({\n    message: 'Your Profile Picture has been changed',\n    animated: true,\n    cssClass: 'updated-toast',\n    duration: 2000\n  });\n  toast.present();\n}\n\nasync presentLoading() {\n  const loading = await this.loading.create({\n    cssClass: 'my-custom-class',\n    message: 'Updating Photo...',\n    duration: 1000\n  });\n  await loading.present();\n\n  const { role, data } = await loading.onDidDismiss();\n  console.log('Loading dismissed!');\n}\n\nasync cropPhoto(uploadedPhotoURL) {\n  const modal = await this.modal.create({\n    component: ImageCropperPage,\n    cssClass: 'image-cropper',\n    componentProps: {\n      uploadedPhotoURL\n    }\n  });\n\n  await modal.present();\n\n  modal.onDidDismiss().then(data => {\n    this.uploadedPhotoURL = data.data;\n  });\n\n\n}\n\ndataURLtoBlob(dataurl) {\n  let arr = dataurl.split(',');\n  let mime = arr[0].match(/:(.*?);/)[1];\n  let bstr = atob(arr[1]);\n  let n = bstr.length;\n  let u8arr = new Uint8Array(n);\n\n  while(n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new Blob([u8arr], {type: mime});\n}\n\n  back() {\n    this.router.navigate(['/home/profile']);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangeProfilePicturePageRoutingModule } from './change-profile-picture-routing.module';\n\nimport { ChangeProfilePicturePage } from './change-profile-picture.page';\nimport { ImageCropperPageModule } from 'src/app/modals/image-cropper/image-cropper.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChangeProfilePicturePageRoutingModule,\n    ImageCropperPageModule\n  ],\n  declarations: [ChangeProfilePicturePage]\n})\nexport class ChangeProfilePicturePageModule {}\n"]}