(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{apk9:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=function(){return function(){}}(),o=e("pMnS"),r=e("Ip0R"),s=e("oBZk"),i=e("ZZ/e"),a=e("gIcY"),c=e("mrSG"),b=e("lGQG"),d=function(){function n(n,l,e,t,u){this.router=n,this.formBuilder=l,this.auth=e,this.activatedRoute=t,this.toast=u,this.code="",this.userEmail="",this.validationMessasges={code:[{type:"text",message:"The codes do not match"}]}}return n.prototype.ngOnInit=function(){var n=this;this.enterCodeForm=this.formBuilder.group({code:["",a.p.required]}),this.userEmail=this.activatedRoute.snapshot.paramMap.get("email"),this.generateCode(6).then((function(l){n.auth.sendEmailWithCodeForgotPassword(l,n.userEmail)})),this.formOnChanges()},n.prototype.formOnChanges=function(){console.log(this.enterCodeForm),this.enterCodeForm.valueChanges.subscribe((function(n){console.log(n)}))},n.prototype.generateCode=function(n){return c.b(this,void 0,void 0,(function(){var l,e,t;return c.e(this,(function(u){for(l="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".length,t=0;t<n;t++)l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(Math.random()*e));return console.log("Generated Code: "+l),[2,this.code=l]}))}))},n.prototype.newPasswordPage=function(n){console.log("New Password: "),console.log(n),this.enterCodeForm.controls.code.value!==this.code?(this.presentToast(),console.log("Codes do not match")):(console.log("Codes matched"),this.router.navigate(["/enter-email/enter-code/:email/new-password",this.userEmail]))},n.prototype.sendNewCode=function(){return c.b(this,void 0,void 0,(function(){var n=this;return c.e(this,(function(l){switch(l.label){case 0:return[4,this.generateCode(6).then((function(l){console.log("Data: "+l),n.auth.sendEmailWithCode(l,n.userEmail)}))];case 1:return l.sent(),[4,this.presentNewCodeToast(this.userEmail)];case 2:return l.sent(),[2]}}))}))},n.prototype.presentToast=function(){return c.b(this,void 0,void 0,(function(){return c.e(this,(function(n){switch(n.label){case 0:return[4,this.toast.create({message:"The codes do not match. Please try again.",duration:2e3})];case 1:return n.sent().present(),[2]}}))}))},n.prototype.presentNewCodeToast=function(n){return c.b(this,void 0,void 0,(function(){return c.e(this,(function(l){switch(l.label){case 0:return[4,this.toast.create({message:"New Code sent to "+n,duration:2e3,cssClass:"success-toast",keyboardClose:!0,position:"top"})];case 1:return l.sent().present(),[2]}}))}))},n.prototype.cancel=function(){console.log("Forgot password cancelled"),this.router.navigate([""])},n}(),h=e("ZYCi"),g=t.rb({encapsulation:0,styles:[[".send-new-code[_ngcontent-%COMP%]{display:block;--background:none;color:#005191;--border-color:#005191;--border-width:1px;--border-style:solid;border:1px;width:150px;margin:50px auto;opacity:0;-webkit-animation:1s ease-out 5s forwards slide-from-right;animation:1s ease-out 5s forwards slide-from-right}span[_ngcontent-%COMP%]{font-weight:900;font-size:1.2em;color:#005191}@-webkit-keyframes slide-from-right{0%{-webkit-transform:translateX(300px);transform:translateX(300px);opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}@keyframes slide-from-right{0%{-webkit-transform:translateX(300px);transform:translateX(300px);opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}"]],data:{}});function p(n){return t.Nb(0,[(n()(),t.tb(0,0,null,null,1,"div",[["class","error-message"]],null,null,null,null,null)),(n()(),t.Lb(1,null,[" "," "]))],null,(function(n,l){n(l,1,0,l.parent.context.$implicit.message)}))}function m(n){return t.Nb(0,[(n()(),t.tb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,p)),t.sb(2,16384,null,0,r.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(0,null,null,0))],(function(n,l){var e=l.component;n(l,2,0,e.enterCodeForm.get("code").hasError(l.context.$implicit.type)&&(e.enterCodeForm.get("code").dirty||e.enterCodeForm.get("code").touched))}),null)}function f(n){return t.Nb(0,[(n()(),t.tb(0,0,null,null,1,"ion-header",[["style","display: none;"]],null,null,null,s.cb,s.r)),t.sb(1,49152,null,0,i.B,[t.h,t.k,t.z],null,null),(n()(),t.tb(2,0,null,null,43,"ion-content",[],null,null,null,s.W,s.l)),t.sb(3,49152,null,0,i.u,[t.h,t.k,t.z],null,null),(n()(),t.tb(4,0,null,0,41,"ion-grid",[["class","ion-text-center"],["style","margin-top: 10%;"]],null,null,null,s.bb,s.q)),t.sb(5,49152,null,0,i.A,[t.h,t.k,t.z],null,null),(n()(),t.tb(6,0,null,0,39,"ion-row",[],null,null,null,s.kb,s.z)),t.sb(7,49152,null,0,i.jb,[t.h,t.k,t.z],null,null),(n()(),t.tb(8,0,null,0,37,"ion-col",[["offset-lg","3"],["offset-sm","1"],["size-lg","6"],["size-sm","10"]],null,null,null,s.V,s.k)),t.sb(9,49152,null,0,i.t,[t.h,t.k,t.z],null,null),(n()(),t.tb(10,0,null,0,4,"h6",[["class","text-header"]],null,null,null,null,null)),(n()(),t.Lb(-1,null,["Please enter "])),(n()(),t.tb(12,0,null,null,1,"span",[["style","font-weight: 700;"]],null,null,null,null,null)),(n()(),t.Lb(-1,null,["6 character code"])),(n()(),t.Lb(14,null,[" that was sent to ",""])),(n()(),t.tb(15,0,null,0,30,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,e){var u=!0,o=n.component;return"submit"===l&&(u=!1!==t.Fb(n,17).onSubmit(e)&&u),"reset"===l&&(u=!1!==t.Fb(n,17).onReset()&&u),"ngSubmit"===l&&(u=!1!==o.newPasswordPage(o.enterCodeForm.value)&&u),u}),null,null)),t.sb(16,16384,null,0,a.t,[],null,null),t.sb(17,540672,null,0,a.d,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Ib(2048,null,a.a,null,[a.d]),t.sb(19,16384,null,0,a.l,[[4,a.a]],null,null),(n()(),t.tb(20,0,null,null,25,"ion-list",[["class","line-input"]],null,null,null,s.hb,s.w)),t.sb(21,49152,null,0,i.O,[t.h,t.k,t.z],null,null),(n()(),t.tb(22,0,null,0,10,"ion-item",[],null,null,null,s.fb,s.u)),t.sb(23,49152,null,0,i.H,[t.h,t.k,t.z],null,null),(n()(),t.tb(24,0,null,0,8,"ion-input",[["formControlName","code"],["placeholder","Enter Code"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0;return"ionBlur"===l&&(u=!1!==t.Fb(n,27)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Fb(n,27)._handleInputEvent(e.target)&&u),u}),s.eb,s.t)),t.sb(25,16384,null,0,a.o,[],{required:[0,"required"]},null),t.Ib(1024,null,a.h,(function(n){return[n]}),[a.o]),t.sb(27,16384,null,0,i.Ob,[t.k],null,null),t.Ib(1024,null,a.i,(function(n){return[n]}),[i.Ob]),t.sb(29,671744,null,0,a.c,[[3,a.a],[6,a.h],[8,null],[6,a.i],[2,a.s]],{name:[0,"name"]},null),t.Ib(2048,null,a.j,null,[a.c]),t.sb(31,16384,null,0,a.k,[[4,a.j]],null,null),t.sb(32,49152,null,0,i.G,[t.h,t.k,t.z],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),(n()(),t.tb(33,0,null,0,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,m)),t.sb(35,278528,null,0,r.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t.tb(36,0,null,0,2,"ion-button",[["class","orange-button"],["type","submit"]],null,null,null,s.O,s.d)),t.sb(37,49152,null,0,i.k,[t.h,t.k,t.z],{type:[0,"type"]},null),(n()(),t.Lb(-1,0,["ENTER CODE"])),(n()(),t.tb(39,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),t.tb(40,0,null,0,2,"ion-button",[["class","send-new-code"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.sendNewCode()&&t),t}),s.O,s.d)),t.sb(41,49152,null,0,i.k,[t.h,t.k,t.z],null,null),(n()(),t.Lb(-1,0,[" Send new code "])),(n()(),t.tb(43,0,null,0,2,"ion-button",[["class","cancel-button"],["slot","end"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cancel()&&t),t}),s.O,s.d)),t.sb(44,49152,null,0,i.k,[t.h,t.k,t.z],null,null),(n()(),t.Lb(-1,0,[" cancel "]))],(function(n,l){var e=l.component;n(l,17,0,e.enterCodeForm),n(l,25,0,""),n(l,29,0,"code"),n(l,32,0,"Enter Code","","text"),n(l,35,0,e.validationMessasges.code),n(l,37,0,"submit")}),(function(n,l){n(l,14,0,l.component.userEmail),n(l,15,0,t.Fb(l,19).ngClassUntouched,t.Fb(l,19).ngClassTouched,t.Fb(l,19).ngClassPristine,t.Fb(l,19).ngClassDirty,t.Fb(l,19).ngClassValid,t.Fb(l,19).ngClassInvalid,t.Fb(l,19).ngClassPending),n(l,24,0,t.Fb(l,25).required?"":null,t.Fb(l,31).ngClassUntouched,t.Fb(l,31).ngClassTouched,t.Fb(l,31).ngClassPristine,t.Fb(l,31).ngClassDirty,t.Fb(l,31).ngClassValid,t.Fb(l,31).ngClassInvalid,t.Fb(l,31).ngClassPending)}))}function C(n){return t.Nb(0,[(n()(),t.tb(0,0,null,null,1,"app-enter-code",[],null,null,null,f,g)),t.sb(1,114688,null,0,d,[h.m,a.b,b.a,h.a,i.Pb],null,null)],(function(n,l){n(l,1,0)}),null)}var w=t.pb("app-enter-code",d,C,{},{},[]),v=function(){return e.e(30).then(e.bind(null,"wQpE")).then((function(n){return n.NewPasswordPageModuleNgFactory}))},k=function(){return function(){}}();e.d(l,"EnterCodePageModuleNgFactory",(function(){return y}));var y=t.qb(u,[],(function(n){return t.Cb([t.Db(512,t.j,t.bb,[[8,[o.a,w]],[3,t.j],t.x]),t.Db(4608,r.l,r.k,[t.u,[2,r.s]]),t.Db(4608,a.r,a.r,[]),t.Db(4608,a.b,a.b,[]),t.Db(4608,i.b,i.b,[t.z,t.g]),t.Db(4608,i.Hb,i.Hb,[i.b,t.j,t.q]),t.Db(4608,i.Lb,i.Lb,[i.b,t.j,t.q]),t.Db(1073742336,r.c,r.c,[]),t.Db(1073742336,a.q,a.q,[]),t.Db(1073742336,a.e,a.e,[]),t.Db(1073742336,a.n,a.n,[]),t.Db(1073742336,i.Eb,i.Eb,[]),t.Db(1073742336,h.q,h.q,[[2,h.v],[2,h.m]]),t.Db(1073742336,k,k,[]),t.Db(1073742336,u,u,[]),t.Db(1024,h.k,(function(){return[[{path:"",component:d},{path:"new-password/:email",loadChildren:v}]]}),[])])}))}}]);