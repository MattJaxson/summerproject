(window.webpackJsonp=window.webpackJsonp||[]).push([[21,67,68],{Aso2:function(t,e,o){"use strict";o.d(e,"a",function(){return b});var s=o("mrSG"),i=o("NuaS"),r=o("lGQG"),a=o("2Vo4"),n=o("JIr8"),c=o("AytR"),l=o("fXoL"),h=o("tk/3"),u=o("e8h1"),m=o("TEn/"),d=o("tyNb");let b=(()=>{class t{constructor(t,e,o,s,i,r,n){this.http=t,this.storage=e,this.alertController=o,this.helper=s,this.auth=i,this.router=r,this.toastController=n,this.BACKEND_URL=c.a.url,this.activeEmail="",this.fullName=new a.a(""),this.about=new a.a(""),this.city=new a.a(""),this.state=new a.a(""),this.zip=new a.a(""),this.gender=new a.a(""),this.dob=new a.a(""),this.school=new a.a(""),this.grade=new a.a(""),this.profilePicture=new a.a(""),this.resume=new a.a(""),this.email=new a.a(""),this.activeEmail=this.auth.user.email}getAllUsers(){return this.http.get(this.BACKEND_URL+"/api/home/user")}getUserDetails(){return this.http.post(this.BACKEND_URL+"/api/home/user",{email:this.activeEmail})}getTheirDetails(t){return this.http.post(this.BACKEND_URL+"/api/home/user/their-details",{email:t})}changeEmail(t,e,o){return this.http.post(this.BACKEND_URL+"/api/home/user/change-email",{oldEmail:this.activeEmail,email:e,password:o}).pipe(Object(n.a)(t=>{throw this.presentFailToast(this.activeEmail),new Error(t)})).subscribe(t=>{if(!0!==t)return this.presentFailToast(this.activeEmail),console.log("Passwords dont match");this.email.next(e),this.activeEmail=e,this.router.navigate(["/home/profile"]),this.presentSuccessToast()})}presentSuccessToast(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())}presentFailToast(t){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of "+t,duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present())}changePassword(t,e,o,i){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-password",{oldPassword:e,email:t,newPassword:o,reTypeNewPassword:i}).subscribe(t=>{!0===t?(console.log("TRUE"),this.router.navigate([""]),this.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())):console.log("Passwords dont match!")})})}changeAbout(t,e,o){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-about",{email:t,newAbout:e,passsword:o}).subscribe()})}changeSchool(t,e,o,i){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:t,newSchool:e,newGrade:o,password:i}).subscribe(t=>{if(!0!==t)return this.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then(t=>t.present()),console.log("Passwords dont match");this.school.next(e),this.grade.next(o),this.router.navigate(["/home/profile"]),this.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then(t=>t.present())})})}changeProfilePicture(t,e){return Object(s.a)(this,void 0,void 0,function*(){return this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",{imageForm:t,oldPhotoKey:e}).subscribe()})}changeResume(t,e,o){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:t,newResume:e,password:o}).subscribe(t=>{if(!0!==t)return console.log("Passwords dont match");console.log("Changing Resume..."),this.resume.next(e),this.router.navigate(["/home/user/change-school/:school/:grade/confirm"])})})}delete(){console.log("Deleted User")}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(h.b),l.Qb(u.b),l.Qb(m.a),l.Qb(i.b),l.Qb(r.a),l.Qb(d.f),l.Qb(m.Z))},t.\u0275prov=l.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},pRc2:function(t,e,o){"use strict";o.r(e),o.d(e,"ContactMentorPageModule",function(){return d});var s=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),a=o("tyNb"),n=o("mrSG"),c=o("Aso2"),l=o("+DJb"),h=o("fXoL");const u=[{path:"",component:(()=>{class t{constructor(t,e,o,s,i,r){this.profile=t,this.mentors=e,this.activatedRoute=o,this.formBuilder=s,this.router=i,this.location=r}ngOnInit(){this.contactMenorForm=this.formBuilder.group({message:["",i.n.required]}),console.log("Valid: "+this.contactMenorForm.valid),this.contactMenorForm.get("message").valueChanges.subscribe(t=>{console.log("Subscribed message: "+t),setTimeout(()=>{this.messageValid=!!this.contactMenorForm.valid,console.log("Valid: "+this.contactMenorForm.valid)},100)}),this.message=this.contactMenorForm.value.message;const t=this.activatedRoute.snapshot.paramMap.get("id"),e=this.activatedRoute.snapshot.paramMap.get("email"),o=this.activatedRoute.snapshot.paramMap.get("name"),s=this.activatedRoute.snapshot.paramMap.get("photo");this.mentorId=t,this.mentorName=o,this.mentorEmail=e,this.mentorPhoto=s,this.userDetails()}confirm(t){return Object(n.a)(this,void 0,void 0,function*(){yield this.sendMessage(t),yield this.router.navigate(["/home/mentors/mentor-page/:name/:title/:email/:description/:photo/:city/:state/contact-mentor/:name/:email/:photo/confirm",this.mentorName,this.mentorEmail,this.mentorPhoto])})}userDetails(){this.profile.getUserDetails().subscribe(t=>{this.userEmail=t.email,this.userName=t.fullName,this.userCity=t.city,this.userState=t.state,this.userAge=t.age,this.userGrade=t.grade,this.userSchool=t.school,this.userProfilePicture=t.profilePicture,this.userResume=t.resume})}sendMessage(t){this.mentors.sendMentorAnEmail(t,this.mentorName,this.mentorEmail,this.userEmail,this.userName,this.userCity,this.userState,this.userAge,this.userGrade,this.userSchool,this.userProfilePicture,this.userResume).subscribe()}back(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(h.Hb(c.a),h.Hb(l.a),h.Hb(a.a),h.Hb(i.a),h.Hb(a.f),h.Hb(s.f))},t.\u0275cmp=h.Bb({type:t,selectors:[["app-contact-mentor"]],decls:26,vars:5,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-hide-md-down",2,"margin","5% 0% 3% 0%"],["push-lg","2","size","8",1,"ion-text-center"],["id","mentor-photo"],[1,"name"],[1,"name",2,"animation","slide-in-left 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) 1.6s forwards"],["size","2"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","8","size-lg","8",1,"ion-text-center"],["id","mentor-photo",1,"ion-hide-lg-up"],["id","mentor-form",3,"formGroup","ngSubmit"],["lines","none"],["formControlName","message","rows","10","autogrow","true","required","","spellcheck","true",3,"placeholder","keydown.control.enter"],["type","submit","expand","block",1,"orange-button",3,"disabled"]],template:function(t,e){1&t&&(h.Mb(0,"ion-header",0),h.Mb(1,"ion-toolbar"),h.Mb(2,"ion-buttons",1),h.Ib(3,"ion-back-button"),h.Lb(),h.Mb(4,"ion-title"),h.lc(5,"Contact Mentor"),h.Lb(),h.Lb(),h.Lb(),h.Mb(6,"ion-content"),h.Mb(7,"ion-grid"),h.Mb(8,"ion-row",2),h.Mb(9,"ion-col",3),h.Ib(10,"div",4),h.Mb(11,"h3",5),h.lc(12),h.Lb(),h.Mb(13,"h3",6),h.lc(14),h.Lb(),h.Lb(),h.Mb(15,"ion-col",7),h.Mb(16,"ion-button",8),h.Ub("click",function(){return e.back()}),h.lc(17,"Back"),h.Lb(),h.Lb(),h.Lb(),h.Mb(18,"ion-row",9),h.Mb(19,"ion-col",10),h.Ib(20,"div",11),h.Mb(21,"form",12),h.Ub("ngSubmit",function(){return e.confirm(e.contactMenorForm.value)}),h.Mb(22,"ion-item",13),h.Mb(23,"ion-textarea",14),h.Ub("keydown.control.enter",function(){return e.messageValid?e.confirm(e.contactMenorForm.value):null}),h.Lb(),h.Lb(),h.Mb(24,"ion-button",15),h.lc(25," Send "),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb()),2&t&&(h.xb(12),h.mc(e.mentorName),h.xb(2),h.mc(e.mentorEmail),h.xb(7),h.Zb("formGroup",e.contactMenorForm),h.xb(2),h.bc("placeholder","Have a question for a ",e.mentorName,"? Send them an email!"),h.xb(1),h.Zb("disabled",!e.messageValid))},directives:[r.u,r.P,r.h,r.e,r.f,r.O,r.o,r.t,r.G,r.n,r.g,i.o,i.j,i.c,r.x,r.N,r.Y,i.i,i.b,i.m],styles:[".name[_ngcontent-%COMP%]{display:block;font-size:1em;color:#999;opacity:0}.name[_ngcontent-%COMP%]:first-child{-webkit-animation:slide-in-left 1s cubic-bezier(.175,.885,.32,1.275) 1.3s forwards;animation:slide-in-left 1s cubic-bezier(.175,.885,.32,1.275) 1.3s forwards}#mentor-photo[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:100px;background-image:url(aaron.51813457a867ebfcb7d8.jpg);background-repeat:no-repeat;background-size:contain;background-position:50%;margin:35px auto;display:inline-block;opacity:0;-webkit-animation:slide-in-left 1s cubic-bezier(.175,.885,.32,1.275) 1s forwards;animation:slide-in-left 1s cubic-bezier(.175,.885,.32,1.275) 1s forwards}@media screen and (min-width:992px){#mentor-photo[_ngcontent-%COMP%]{width:50px;height:50px}}#mentor-form[_ngcontent-%COMP%]{opacity:0;-webkit-animation:slide-in-up .8s cubic-bezier(.15,.85,.75,.9) 1.45s forwards;animation:slide-in-up .8s cubic-bezier(.15,.85,.75,.9) 1.45s forwards}ion-item[_ngcontent-%COMP%]{padding:20px 0;margin-bottom:90px;border-radius:5px;box-shadow:1px 10px 10px rgba(0,0,0,.1)}.orange-button[_ngcontent-%COMP%]{margin-bottom:30px;-webkit-animation:slide-in-up .8s cubic-bezier(.15,.85,.75,.9) 1.9s forwards;animation:slide-in-up .8s cubic-bezier(.15,.85,.75,.9) 1.9s forwards}.blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset}@-webkit-keyframes slide-in-left{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes slide-in-left{0%{transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes slide-in-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(0)}}@keyframes slide-in-up{0%{transform:translateY(100px)}to{opacity:1;transform:translateY(0)}}"]}),t})()},{path:"confirm/:name/:email/:phone",loadChildren:()=>o.e(41).then(o.bind(null,"p/Ua")).then(t=>t.ConfirmPageModule)}];let m=(()=>{class t{}return t.\u0275mod=h.Fb({type:t}),t.\u0275inj=h.Eb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(u)],a.j]}),t})(),d=(()=>{class t{}return t.\u0275mod=h.Fb({type:t}),t.\u0275inj=h.Eb({factory:function(e){return new(e||t)},imports:[[s.b,i.d,i.l,r.Q,m]]}),t})()}}]);