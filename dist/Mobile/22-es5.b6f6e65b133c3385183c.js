(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Aso2:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var s=o("mrSG"),n=(o("EThc"),o("ZZ/e")),r=o("lGQG"),a=o("26FU"),i=o("9Z1F"),c=o("xMyE"),u=o("AytR"),h=o("CcnG"),l=o("t/Na"),p=o("iw74"),d=o("gFH1"),b=o("ZYCi"),m=function(){function e(e,t,o,s,n,r,i){this.http=e,this.storage=t,this.alertController=o,this.helper=s,this.auth=n,this.router=r,this.toastController=i,this.BACKEND_URL=u.a.url,this.activeEmail="",this.user={},this.fullName=new a.a(""),this.addressOne=new a.a(""),this.addressTwo=new a.a(""),this.phone=new a.a(""),this.city=new a.a(""),this.state=new a.a(""),this.zip=new a.a(""),this.gender=new a.a(""),this.dob=new a.a(""),this.school=new a.a(""),this.grade=new a.a(""),this.profilePicture=new a.a(""),this.resume=new a.a(""),this.email=new a.a(""),this.activeEmail=this.auth.user.email}return e.prototype.getUserDetails=function(){return this.http.post(this.BACKEND_URL+"/api/home/user",{email:this.activeEmail})},e.prototype.changeEmail=function(e,t,o){var s=this;return this.http.post(this.BACKEND_URL+"/api/home/user/change-email",{oldEmail:this.activeEmail,email:t,password:o}).pipe(Object(i.a)((function(e){throw s.presentFailToast(s.activeEmail),new Error(e)}))).subscribe((function(e){if(!0!==e)return s.presentFailToast(s.activeEmail),console.log("Passwords dont match");s.email.next(t),s.activeEmail=t,s.router.navigate(["/home/profile"]),s.presentSuccessToast()}))},e.prototype.presentSuccessToast=function(){this.toastController.create({message:"Your Email address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))},e.prototype.presentFailToast=function(e){this.toastController.create({message:"Password and Email combination do not work. Make sure that your password is correct, and that your new email is different from your current email address of "+e,duration:9e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then((function(e){return e.present()}))},e.prototype.changePassword=function(e,t,o,n){return s.b(this,void 0,void 0,(function(){var r=this;return s.e(this,(function(s){switch(s.label){case 0:return[4,this.http.post(this.BACKEND_URL+"/api/home/user/change-password",{oldPassword:t,email:e,newPassword:o,reTypeNewPassword:n}).subscribe((function(e){!0===e?(console.log("TRUE"),r.router.navigate([""]),r.toastController.create({message:"Password updated. Please login with your new password.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))):console.log("Passwords dont match!")}))];case 1:return[2,s.sent()]}}))}))},e.prototype.changePhone=function(e,t,o){return s.b(this,void 0,void 0,(function(){var n=this;return s.e(this,(function(s){switch(s.label){case 0:return[4,this.http.post(this.BACKEND_URL+"/api/home/user/change-phone",{newNumber:t,password:o,email:e}).subscribe((function(e){!0===e?(console.log("Changing phone number..."),n.phone.next(t),n.router.navigate(["/home/profile"]),n.toastController.create({message:"Your phone number has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))):(console.log("Passwords dont match!"),n.toastController.create({message:"Password was incorrect",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then((function(e){return e.present()})))}))];case 1:return[2,s.sent()]}}))}))},e.prototype.changeAddress=function(e,t,o,n,r,a,u){return s.b(this,void 0,void 0,(function(){var h=this;return s.e(this,(function(s){switch(s.label){case 0:return[4,this.http.post(this.BACKEND_URL+"/api/home/user/change-address",{email:e,addressOne:t,addressTwo:o,city:n,state:r,zip:a,password:u}).pipe(Object(c.a)((function(e){e||console.log("There was no response. There might be a bad password")})),Object(i.a)((function(e){throw new Error(e)}))).subscribe((function(e){if(!0!==e)return h.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then((function(e){return e.present()})),console.log("Passwords dont match");h.addressOne.next(t),h.addressTwo.next(o),h.city.next(n),h.state.next(r),h.zip.next(a),h.router.navigate(["/home/profile"]),h.toastController.create({message:"Your address has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))}))];case 1:return[2,s.sent()]}}))}))},e.prototype.changeSchool=function(e,t,o,n){return s.b(this,void 0,void 0,(function(){var r=this;return s.e(this,(function(s){switch(s.label){case 0:return[4,this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:e,newSchool:t,newGrade:o,password:n}).subscribe((function(e){if(!0!==e)return r.toastController.create({message:"Please make sure your password is correct",duration:3e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"}).then((function(e){return e.present()})),console.log("Passwords dont match");r.school.next(t),r.grade.next(o),r.router.navigate(["/home/profile"]),r.toastController.create({message:"Your school information has been updated.",duration:3e3,cssClass:"updated-toast",keyboardClose:!0,position:"bottom"}).then((function(e){return e.present()}))}))];case 1:return[2,s.sent()]}}))}))},e.prototype.changeProfilePicture=function(e,t){return s.b(this,void 0,void 0,(function(){return s.e(this,(function(o){return[2,this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",{imageForm:e,oldPhotoKey:t}).subscribe()]}))}))},e.prototype.changeResume=function(e,t,o){return s.b(this,void 0,void 0,(function(){var n=this;return s.e(this,(function(s){switch(s.label){case 0:return[4,this.http.post(this.BACKEND_URL+"/api/home/user/change-school",{email:e,newResume:t,password:o}).subscribe((function(e){if(!0!==e)return console.log("Passwords dont match");console.log("Changing Resume..."),n.resume.next(t),n.router.navigate(["/home/user/change-school/:school/:grade/confirm"])}))];case 1:return[2,s.sent()]}}))}))},e.prototype.delete=function(){console.log("Deleted User")},e.ngInjectableDef=h.Qb({factory:function(){return new e(h.Rb(l.c),h.Rb(p.b),h.Rb(n.a),h.Rb(d.a),h.Rb(r.a),h.Rb(b.m),h.Rb(n.Pb))},token:e,providedIn:"root"}),e}()},NziY:function(e,t,o){"use strict";o.r(t),o.d(t,"EditPostPageModuleNgFactory",(function(){return d}));var s=o("CcnG"),n=o("9CtM"),r=o("pMnS"),a=o("7E5L"),i=o("Ip0R"),c=o("gIcY"),u=o("ZZ/e"),h=o("ZYCi"),l=o("OHV1"),p=o("VPH/"),d=s.qb(n.a,[],(function(e){return s.Cb([s.Db(512,s.j,s.bb,[[8,[r.a,a.a]],[3,s.j],s.x]),s.Db(4608,i.l,i.k,[s.u,[2,i.s]]),s.Db(4608,c.r,c.r,[]),s.Db(4608,c.b,c.b,[]),s.Db(4608,u.b,u.b,[s.z,s.g]),s.Db(4608,u.Hb,u.Hb,[u.b,s.j,s.q]),s.Db(4608,u.Lb,u.Lb,[u.b,s.j,s.q]),s.Db(1073742336,i.c,i.c,[]),s.Db(1073742336,c.q,c.q,[]),s.Db(1073742336,c.e,c.e,[]),s.Db(1073742336,c.n,c.n,[]),s.Db(1073742336,u.Eb,u.Eb,[]),s.Db(1073742336,h.q,h.q,[[2,h.v],[2,h.m]]),s.Db(1073742336,l.a,l.a,[]),s.Db(1073742336,n.a,n.a,[]),s.Db(1024,h.k,(function(){return[[{path:"",component:p.a}]]}),[])])}))}}]);