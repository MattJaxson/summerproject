!function(){function t(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,s=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw s}}}}function o(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,n=new Array(o);e<o;e++)n[e]=t[e];return n}function e(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function n(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{txkh:function(o,i,r){"use strict";r.r(i),r.d(i,"FollowingPageModule",function(){return D});var s=r("ofXK"),c=r("3Pt+"),a=r("zAgk"),l=r("TEn/"),b=r("tyNb"),u=r("mrSG"),m=r("ENZJ"),p=r("Aso2"),f=r("sWYD"),d=r("7xvl"),g=r("DtjX"),h=r("u2AK"),x=r("fXoL"),M=r("u6v2"),P=r("84P7");function v(t,o){1&t&&(x.Mb(0,"ion-col",19),x.Mb(1,"div"),x.Mb(2,"p",20),x.lc(3,"You are currently not following any posts. Please click the follow button on any Post to add it to this page."),x.Lb(),x.Lb(),x.Lb())}function w(t,o){1&t&&(x.Mb(0,"ion-button",43),x.lc(1,"Post "),x.Lb())}function y(t,o){if(1&t){var e=x.Nb();x.Mb(0,"ion-row",21),x.Mb(1,"ion-col",22),x.Mb(2,"ion-row",23),x.Mb(3,"ion-col",24),x.Ub("click",function(){x.fc(e);var t=o.$implicit;return x.Wb().thirdPersonProfileModal(t.creatorEmail,t.creatorName)}),x.Ib(4,"img",25),x.Lb(),x.Mb(5,"ion-col",26),x.Ub("click",function(){x.fc(e);var t=o.$implicit;return x.Wb().thirdPersonProfileModal(t.creatorEmail,t.creatorName)}),x.Mb(6,"h6",27),x.lc(7),x.Lb(),x.Lb(),x.Mb(8,"ion-col",28),x.Mb(9,"h6",29),x.lc(10),x.Lb(),x.Lb(),x.Lb(),x.Lb(),x.Mb(11,"ion-col",30),x.Mb(12,"ion-row"),x.Mb(13,"ion-col",31),x.Mb(14,"p",32),x.lc(15),x.Lb(),x.Lb(),x.Lb(),x.Lb(),x.Mb(16,"ion-col",30),x.Mb(17,"ion-row",33),x.Mb(18,"ion-col",34),x.Mb(19,"ion-item",35),x.Mb(20,"form",36),x.Ub("ngSubmit",function(){x.fc(e);var t=o.$implicit,n=x.Wb();return n.comment(t._id,n.userFullName,n.userEmail,n.userProfilePicture,n.commentForm.value)}),x.Ib(21,"ion-textarea",37),x.kc(22,w,2,0,"ion-button",38),x.Lb(),x.Lb(),x.Lb(),x.Lb(),x.Lb(),x.Mb(23,"ion-col",30),x.Mb(24,"ion-row"),x.Mb(25,"ion-col",39),x.Ib(26,"app-up-down-vote-buttons",40),x.Lb(),x.Mb(27,"ion-col",41),x.Ib(28,"app-follow-comment-buttons",42),x.Lb(),x.Lb(),x.Lb(),x.Lb()}if(2&t){var n=o.$implicit,i=x.Wb();x.xb(4),x.ac("src",n.creatorProfilePicture,x.hc),x.xb(3),x.mc(n.creatorName),x.xb(3),x.mc(n.date),x.xb(5),x.mc(n.post),x.xb(5),x.Zb("formGroup",i.commentForm),x.xb(2),x.Zb("ngIf",!i.commentForm.get("comment").pristine&&i.commentForm.value.comment.length>=3),x.xb(4),x.Zb("postID",n._id),x.xb(2),x.Zb("isUser",n.isUser)("postID",n._id)}}function L(t,o){1&t&&(x.Mb(0,"ion-col",19),x.Mb(1,"div"),x.Mb(2,"p",20),x.lc(3,"You are currently not following any posts. Please click the follow button on any Post to add it to this page."),x.Lb(),x.Lb(),x.Lb())}function k(t,o){1&t&&(x.Mb(0,"ion-button",43),x.lc(1,"Post "),x.Lb())}function O(t,o){if(1&t){var e=x.Nb();x.Mb(0,"ion-row",44),x.Mb(1,"ion-col",22),x.Mb(2,"ion-row",45),x.Mb(3,"ion-col",46),x.Ub("click",function(){x.fc(e);var t=o.$implicit;return x.Wb().thirdPersonProfileModal(t.creatorEmail,t.creatorName)}),x.Ib(4,"img",25),x.Lb(),x.Mb(5,"ion-col",47),x.Ub("click",function(){x.fc(e);var t=o.$implicit;return x.Wb().thirdPersonProfileModal(t.creatorEmail,t.creatorName)}),x.Mb(6,"h6",48),x.lc(7),x.Lb(),x.Lb(),x.Mb(8,"ion-col",49),x.Mb(9,"h6",50),x.lc(10),x.Lb(),x.Lb(),x.Lb(),x.Lb(),x.Mb(11,"ion-col",30),x.Mb(12,"ion-row",16),x.Mb(13,"ion-col",51),x.Mb(14,"p",52),x.lc(15),x.Lb(),x.Lb(),x.Lb(),x.Lb(),x.Mb(16,"ion-col",30),x.Mb(17,"ion-row",53),x.Mb(18,"ion-col",30),x.Mb(19,"ion-item",54),x.Mb(20,"form",36),x.Ub("ngSubmit",function(){x.fc(e);var t=o.$implicit,n=x.Wb();return n.comment(t._id,n.userFullName,n.userEmail,n.userProfilePicture,n.commentForm.value)}),x.Ib(21,"ion-textarea",55),x.kc(22,k,2,0,"ion-button",38),x.Lb(),x.Lb(),x.Lb(),x.Lb(),x.Lb(),x.Mb(23,"ion-col",30),x.Mb(24,"ion-row",16),x.Mb(25,"ion-col",56),x.Ib(26,"app-up-down-vote-buttons",40),x.Lb(),x.Mb(27,"ion-col",57),x.Ib(28,"app-follow-comment-buttons",58),x.Lb(),x.Lb(),x.Lb(),x.Lb()}if(2&t){var n=o.$implicit,i=x.Wb();x.xb(4),x.ac("src",n.creatorProfilePicture,x.hc),x.xb(3),x.mc(n.creatorName),x.xb(3),x.mc(n.date),x.xb(5),x.mc(n.post),x.xb(5),x.Zb("formGroup",i.commentForm),x.xb(2),x.Zb("ngIf",!i.commentForm.get("comment").pristine&&i.commentForm.value.comment.length>=3),x.xb(4),x.Zb("postID",n._id),x.xb(2),x.Zb("postID",n._id)}}var z,C,_,F=[{path:"",component:(z=function(){function o(t,n,i,r,s,c,a,l){e(this,o),this.router=t,this.posts=n,this.profile=i,this.toast=r,this.formBuilder=s,this.eventEmitterService=c,this.modal=a,this.location=l,this.allFollowedPosts=[]}var i,r,s;return i=o,(r=[{key:"ngOnInit",value:function(){var o=this;this.location.onPopState(function(){o.eventEmitterService.onBackAction()}),this.profile.getUserDetails().subscribe(function(e){console.log("User ID from Following Page OnInit"),o.userID=e._id,o.userFullName=e.fullName,o.userEmail=e.email,o.userProfilePicture=e.profilePicture,o.posts.getFollowedPost(o.userID).subscribe(function(e){o.allFollowedPosts=Object.values(e).reverse(),console.log(e);var n,i=t(o.allFollowedPosts);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.date=Object(f.a)(new Date(r.date),"MMMM do, yyyy")}}catch(s){i.e(s)}finally{i.f()}return o.allFollowedPosts})}),console.log("Got Followed Posts"),this.commentForm=this.formBuilder.group({comment:[""]})}},{key:"thirdPersonProfileModal",value:function(t,o){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modal.create({component:h.a,componentProps:{creatorEmail:t,creatorName:o},cssClass:"third-person-profile-modal"});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"postPage",value:function(t){this.router.navigate(["/home/posts/post-page",t._id])}},{key:"addPost",value:function(){this.router.navigate(["/home/posts/add-post"])}},{key:"back",value:function(){this.eventEmitterService.onBackAction(),this.router.navigate(["/home/posts"])}},{key:"comment",value:function(o,e,n,i,r){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.commentForm.reset(),e.next=3,Date.now();case 3:return console.log("Posting comment"),console.log("Post ID: "+o),e.next=7,this.posts.comment(o,this.userFullName,this.userEmail,this.userProfilePicture,r).subscribe(function(){n.posts.getPostInfo(o).subscribe(function(e){n.posts.getPostInfo(o).subscribe(function(o){var e,i=t(o.comments);try{for(i.s();!(e=i.n()).done;){var r=e.value;console.log(r),r.isUser=!1,r.canDeleteComment=!1,r.canReport=!0,r.userEmail===n.userEmail&&(r.isUser=!0,r.canDeleteComment=!0,r.canReport=!1),r.repliesLength=r.replies.length,r.date=Object(d.a)(new Date(r.date),{includeSeconds:!0,addSuffix:!1})}}catch(s){i.e(s)}finally{i.f()}n.posts.commentsSubject$.next(o.comments.reverse())})})});case 7:return e.next=9,this.posts.getPostInfo(o).subscribe(function(o){var e,i=t(o.comments);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.date=Object(d.a)(new Date(r.date),{includeSeconds:!0,addSuffix:!0})}}catch(s){i.e(s)}finally{i.f()}n.posts.commentsSubject$.next(o.comments.reverse())});case 9:return this.toast.create({message:"Your comment has been added.",duration:1500}).then(function(t){return t.present()}),e.next=12,this.router.navigate(["/home/posts/post-page",o]);case 12:case"end":return e.stop()}},e,this)}))}},{key:"doRefresh",value:function(o){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.profile.getUserDetails().subscribe(function(o){console.log("User ID from Following Page OnInit"),n.userID=o._id,n.userFullName=o.fullName,n.userEmail=o.email,n.userProfilePicture=o.profilePicture,n.posts.getFollowedPost(n.userID).subscribe(function(o){n.allFollowedPosts=Object.values(o).reverse(),console.log(o);var e,i=t(n.allFollowedPosts);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.date=Object(f.a)(new Date(r.date),"MMMM do, yyyy")}}catch(s){i.e(s)}finally{i.f()}return n.allFollowedPosts})}),e.next=3,setTimeout(function(){var t=n.toast.create({message:"Inspiration Page has been refreshed",duration:3e3});o.target.complete(),t.then(function(t){return t.present()})},2e3);case 3:case"end":return e.stop()}},e,this)}))}}])&&n(i.prototype,r),s&&n(i,s),o}(),z.\u0275fac=function(t){return new(t||z)(x.Hb(b.f),x.Hb(m.a),x.Hb(p.a),x.Hb(l.Z),x.Hb(c.a),x.Hb(g.a),x.Hb(l.T),x.Hb(s.k))},z.\u0275cmp=x.Bb({type:z,selectors:[["app-following"]],decls:32,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],["vertical","bottom","horizontal","end","slot","fixed",1,"ion-hide-lg-up"],[3,"click"],["name","add","size","large"],["slot","fixed",3,"ionRefresh"],[1,"ion-hide-md-down"],["offset","2.5","size","2.5",2,"margin","3% 0% 2% 0%"],["push","2.65","size","2",1,"ion-text-center"],[1,"add-button",3,"click"],["push","1","size","2",1,"ion-text-center"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center",2,"margin-top","1%"],["class","no-posts ion-align-items-center","size-xs","11","size-sm","9","size-md","8","size-lg","7",4,"ngIf"],["size","7"],["class","post",4,"ngFor","ngForOf"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","12","size-md","8","size-lg","10","pull-lg","2"],["style","margin-top: 1%;","class","post",4,"ngFor","ngForOf"],["size-xs","11","size-sm","9","size-md","8","size-lg","7",1,"no-posts","ion-align-items-center"],[2,"font-size","1.2em"],[1,"post"],["size","11"],[1,"ion-align-items-center"],["push","0.25","size","1",3,"click"],[2,"background","#999","border-radius","100px","height","40px","width","40px",3,"src"],["size","4",3,"click"],[2,"font-size","1em","font-weight","500"],["push-lg","5","size","3",1,"ion-float-right"],[2,"opacity","0.4","font-size","0.8em"],["size","12"],["push","0.25","size","11"],[1,"post-content"],[2,"position","relative","right","6px","top","-4px"],["size","11.8"],["lines","none"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input"],["style","float: right;","class","comment-post-button","name","send","type","submit",4,"ngIf"],["size","4.7"],[3,"postID"],["push","0.75","size","6"],[3,"isUser","postID"],["name","send","type","submit",1,"comment-post-button",2,"float","right"],[1,"post",2,"margin-top","1%"],[2,"position","relative","right","5px","top","-4px"],["push","0.2","size","1.3",3,"click"],["push","0.2","size","5",3,"click"],[2,"font-size","1em","margin","10px 0 10px 0px","color","#666"],["push","1.5","size","3",1,"ion-text-right"],[2,"opacity","0.4","font-size","0.7em","margin","10px 0","position","relative","top","10px"],["size","11",2,"height","auto","background","white"],[1,"post-content",2,"font-size","1em","width","100%","position","unset","line-height","unset"],[1,"ion-justify-content-center",2,"position","relative","right","6px","top","-4px"],["lines","none",2,"height","auto"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input-mobile"],["pull","1","size","4","size-xs","4.4"],["size","6"],[2,"font-size","1.3em",3,"postID"]],template:function(t,o){1&t&&(x.Mb(0,"ion-header",0),x.Mb(1,"ion-toolbar"),x.Mb(2,"ion-buttons",1),x.Ib(3,"ion-back-button"),x.Lb(),x.Mb(4,"ion-title"),x.lc(5,"Following"),x.Lb(),x.Lb(),x.Lb(),x.Mb(6,"ion-content"),x.Mb(7,"ion-fab",2),x.Mb(8,"ion-fab-button",3),x.Ub("click",function(){return o.addPost()}),x.Ib(9,"ion-icon",4),x.Lb(),x.Lb(),x.Mb(10,"ion-refresher",5),x.Ub("ionRefresh",function(t){return o.doRefresh(t)}),x.Ib(11,"ion-refresher-content"),x.Lb(),x.Mb(12,"ion-grid",6),x.Mb(13,"ion-row",6),x.Mb(14,"ion-col",7),x.Mb(15,"h1"),x.lc(16,"Following"),x.Lb(),x.Lb(),x.Mb(17,"ion-col",8),x.Mb(18,"ion-button",9),x.Ub("click",function(){return o.addPost()}),x.lc(19," Add Post "),x.Lb(),x.Lb(),x.Mb(20,"ion-col",10),x.Mb(21,"ion-button",11),x.Ub("click",function(){return o.back()}),x.lc(22," Back "),x.Lb(),x.Lb(),x.Lb(),x.Mb(23,"ion-row",12),x.kc(24,v,4,0,"ion-col",13),x.Mb(25,"ion-col",14),x.kc(26,y,29,9,"ion-row",15),x.Lb(),x.Lb(),x.Lb(),x.Mb(27,"ion-grid",0),x.Mb(28,"ion-row",16),x.kc(29,L,4,0,"ion-col",13),x.Mb(30,"ion-col",17),x.kc(31,O,29,8,"ion-row",18),x.Lb(),x.Lb(),x.Lb(),x.Lb()),2&t&&(x.xb(24),x.Zb("ngIf",0===o.allFollowedPosts.length),x.xb(2),x.Zb("ngForOf",o.allFollowedPosts),x.xb(3),x.Zb("ngIf",0===o.allFollowedPosts.length),x.xb(2),x.Zb("ngForOf",o.allFollowedPosts))},directives:[l.u,l.P,l.h,l.e,l.f,l.O,l.o,l.q,l.r,l.v,l.D,l.E,l.t,l.G,l.n,l.g,s.i,s.h,l.x,c.o,c.j,c.c,l.N,l.Y,c.i,c.b,M.a,P.a],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.post[_ngcontent-%COMP%]{padding:30px;margin-bottom:80px;border-radius:5px;box-shadow:1px 10px 10px rgba(0,0,0,.05);background:#fff;font-size:1em;line-height:35px}.post[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background:#999;opacity:.4}@media screen and (max-width:567px){.post[_ngcontent-%COMP%]{padding:30px 0}}.no-posts[_ngcontent-%COMP%]{height:70vh}form[_ngcontent-%COMP%]{width:100%}.comment[_ngcontent-%COMP%]{border:1px solid #005191;border-radius:5px;margin-top:20px;padding:10px;--padding-start:20px}.comment-post-button[_ngcontent-%COMP%]{--background:linear-gradient(#0672c4,#005191);height:30px;margin-top:20px;width:80px}.comment-input[_ngcontent-%COMP%]{margin:30px 0 60px}.comment-input[_ngcontent-%COMP%]:hover{margin:50px 0 80px}.comment-input-mobile[_ngcontent-%COMP%]{height:auto;margin:30px 0 60px;box-shadow:none;padding-left:10px;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input-mobile[_ngcontent-%COMP%], .comment-input-mobile[_ngcontent-%COMP%]:focus{background:rgba(247,248,248,.5);transition:1s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input-mobile[_ngcontent-%COMP%]:focus{height:100px;margin:30px 0 150px;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}ion-item[_ngcontent-%COMP%]{--background:none}.toolbar[_ngcontent-%COMP%] > ion-buttons[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{height:45px;border-radius:5px;padding:10px;--background:rgba(209,216,224,0.13);--color:#fff;width:140px;font-size:.6em}.toolbar[_ngcontent-%COMP%] > ion-buttons[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;left:-10px}.post-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:140px;font-size:1em;--color:#005191}.blue-button[_ngcontent-%COMP%]{-webkit-animation:none;animation:none;opacity:unset;height:36px;margin-bottom:4px;position:unset}.add-button[_ngcontent-%COMP%], .blue-button[_ngcontent-%COMP%]{width:100px;margin-top:30px;font-size:.7em}.add-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#5ad8b2,#40c59d);--background-hover:linear-gradient(#bffce9,#7efcd4);font-weight:800;display:block}.comment-input[_ngcontent-%COMP%]{margin:10px 0 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input[_ngcontent-%COMP%], .comment-input[_ngcontent-%COMP%]:hover{background:rgba(247,248,248,.5);height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{margin:12px 0 0;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}.comment-post-button[_ngcontent-%COMP%]{--background:linear-gradient(#5ad8b2,#40c59d);height:40px;margin-top:40px;opacity:0;width:100%;transform:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275);-webkit-animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards}ion-fab-button[_ngcontent-%COMP%]{--background:#1baf88;--color-focused:#fff;--color-hover:#fff;--color-activated:#fff;position:relative;bottom:50px;right:10px}@-webkit-keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}"]}),z)}],I=((_=function t(){e(this,t)}).\u0275mod=x.Fb({type:_}),_.\u0275inj=x.Eb({factory:function(t){return new(t||_)},imports:[[b.j.forChild(F)],b.j]}),_),D=((C=function t(){e(this,t)}).\u0275mod=x.Fb({type:C}),C.\u0275inj=x.Eb({factory:function(t){return new(t||C)},imports:[[s.b,c.d,a.a,c.l,l.Q,I]]}),C)}}])}();