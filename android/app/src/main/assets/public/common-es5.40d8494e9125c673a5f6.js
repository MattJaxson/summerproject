!function(){function t(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){c=!0,s=t},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw s}}}}function e(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function r(t,e,n,o,r,i,s){try{var a=t[i](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(o,r)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var s=t.apply(e,n);function a(t){r(s,o,i,a,c,"next",t)}function c(t){r(s,o,i,a,c,"throw",t)}a(void 0)})}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n("A36C"),r=n("iWo5"),i=n("qULd"),s=function(t,e){var n,s,a=function(t,o,r){if("undefined"!=typeof document){var i=document.elementFromPoint(t,o);i&&e(i)?i!==n&&(u(),c(i,r)):u()}},c=function(t,e){n=t,s||(s=n);var r=n;Object(o.f)(function(){return r.classList.add("ion-activated")}),e()},u=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n){var e=n;Object(o.f)(function(){return e.classList.remove("ion-activated")}),t&&s!==n&&n.click(),n=void 0}};return Object(r.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:function(t){return a(t.currentX,t.currentY,i.a)},onMove:function(t){return a(t.currentX,t.currentY,i.b)},onEnd:function(){u(!0),Object(i.e)(),s=void 0}})}},"6/gD":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n("AytR"),r=n("fXoL"),i=n("tk/3"),a=function(){var t=function(){function t(e){s(this,t),this.http=e,this.BACKEND_URL=o.a.url}return c(t,[{key:"imageUpload",value:function(t){return console.log("image uploading"),console.log(t),this.http.post(this.BACKEND_URL+"/api/photo/upload-profile-picture",t)}},{key:"changeProfilePicture",value:function(t){return console.log(t),this.http.post(this.BACKEND_URL+"/api/photo/change-profile-picture",t)}},{key:"updatePostPhotos",value:function(t,e){return console.log(t),this.http.post(this.BACKEND_URL+"/api/photo/update-all-post-pictures",t,e).subscribe()}},{key:"boothPartnerLogo",value:function(t){return console.log("both partner uploading"),console.log(t),this.http.post(this.BACKEND_URL+"/api/photo/upload-booth-partner-logo",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Qb(i.b))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"6e3a":function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o=n("mrSG"),r=n("Aso2"),i=n("h8Q2"),a=n("fXoL"),u=n("tyNb"),l=n("TEn/"),b=n("3Pt+"),f=function(){var t=function(){function t(e,n,o,r,i,a,c){s(this,t),this.resume=e,this.router=n,this.profile=o,this.alert=r,this.modal=i,this.toast=a,this.loading=c,this.userProPicUrl=this.profile.resume.getValue(),this.awsPrefix=this.userProPicUrl.slice(-51)}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.profile.getUserDetails().subscribe(function(e){t.userEmail=e.email,console.log(t.userEmail)})}},{key:"back",value:function(){this.router.navigate(["/home/profile/view-resume"])}},{key:"getFormData",value:function(t){var e=this,n=document.querySelectorAll("form");n.forEach(function(t){"changeResumeForm"===t.id&&(console.log("Got Form: "+t),e.formData=new FormData(t),e.uploadedResume=!0)}),console.log(this.formData);var o=new FileReader;o.addEventListener("load",function(){e.uploadedPhotoURL=o.result},!1),n&&o.readAsDataURL(t.target.files[0])}},{key:"uploadResume",value:function(){var t=this;document.querySelectorAll("form").forEach(function(e){"changeResumeForm"===e.id&&(console.log("Got Form: "+e),t.formData=new FormData(e),t.formData.append("oldResumeKey",t.awsPrefix),t.formData.append("email",t.userEmail))}),this.resume.changeResume(this.formData).subscribe(function(e){return Object(o.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),n=e.objectUrl,console.log(n),t.next=5,this.presentLoading();case 5:return t.next=7,this.profile.resume.next(n);case 7:return t.next=9,this.presentToast();case 9:case"end":return t.stop()}},t,this)}))})}},{key:"presentToast",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({message:"Your Resume has been changed",animated:!0,cssClass:"updated-toast",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"presentLoading",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loading.create({cssClass:"my-custom-class",message:"Updating Resume...",duration:1e3});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.next=7,e.onDidDismiss();case 7:console.log("Loading dismissed!"),this.modal.dismiss();case 9:case"end":return t.stop()}},t,this)}))}},{key:"cancel",value:function(){this.modal.dismiss()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Hb(i.a),a.Hb(u.f),a.Hb(r.a),a.Hb(l.a),a.Hb(l.T),a.Hb(l.Z),a.Hb(l.S))},t.\u0275cmp=a.Bb({type:t,selectors:[["app-upload-resume-modal"]],decls:26,vars:1,consts:[[1,"ion-hide-lg-up"],["slot","start",3,"click"],["slot","start","name","close"],[1,"toolbar-title"],[1,"ion-hide-md-down",2,"margin","5% 0% 3% 0%"],["offset","2.8","size","2.5"],["push","2.5","size","2"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center","ion-hide-md-down"],["size","6"],[2,"background","#666"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","8","size-lg","6",1,"ion-text-center"],[1,"text-header"],["id","changeResumeForm",3,"ngSubmit"],["name","resume-update","placeholder","Upload Resume","type","file",3,"change"],["type","submit",1,"orange-button",3,"disabled"]],template:function(t,e){1&t&&(a.Mb(0,"ion-header",0),a.Mb(1,"ion-toolbar"),a.Mb(2,"ion-buttons",1),a.Ub("click",function(){return e.cancel()}),a.Ib(3,"ion-icon",2),a.Mb(4,"p",3),a.lc(5,"Update Resume"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(6,"ion-content"),a.Mb(7,"ion-grid"),a.Mb(8,"ion-row",4),a.Mb(9,"ion-col",5),a.Mb(10,"h1"),a.lc(11,"Update Resume"),a.Lb(),a.Lb(),a.Mb(12,"ion-col",6),a.Mb(13,"ion-button",7),a.Ub("click",function(){return e.back()}),a.lc(14," Back "),a.Lb(),a.Lb(),a.Lb(),a.Mb(15,"ion-row",8),a.Mb(16,"ion-col",9),a.Ib(17,"hr",10),a.Lb(),a.Lb(),a.Mb(18,"ion-row",11),a.Mb(19,"ion-col",12),a.Mb(20,"p",13),a.lc(21,"Please upload a resume from your phone"),a.Lb(),a.Mb(22,"form",14),a.Ub("ngSubmit",function(){return e.uploadResume()}),a.Mb(23,"input",15),a.Ub("change",function(t){return e.getFormData(t)}),a.Lb(),a.Mb(24,"ion-button",16),a.lc(25,"Submit "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t&&(a.xb(24),a.Zb("disabled",!e.uploadedPhotoURL))},directives:[l.u,l.P,l.h,l.v,l.o,l.t,l.G,l.n,l.g,b.o,b.j,b.k],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.orange-button[_ngcontent-%COMP%]{width:unset;display:block;margin:40px auto;width:200px}input[type=file][_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:600;border:1px solid #005191;background:linear-gradient(#0672c4,#005191);width:400px;height:50px;border-radius:5px;padding:20px 0 0 20px;text-align:center;cursor:pointer}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{visibility:hidden}"]}),t}()},"6kEE":function(t,e,n){"use strict";n.r(e),n.d(e,"ReportConvoPageModule",function(){return m});var o,r,i=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),u=n("tyNb"),l=n("pCvL"),b=n("fXoL"),f=[{path:"",component:l.a}],p=((r=function t(){s(this,t)}).\u0275mod=b.Fb({type:r}),r.\u0275inj=b.Eb({factory:function(t){return new(t||r)},imports:[[u.j.forChild(f)],u.j]}),r),m=((o=function t(){s(this,t)}).\u0275mod=b.Fb({type:o}),o.\u0275inj=b.Eb({factory:function(t){return new(t||o)},imports:[[i.b,a.d,c.Q,p]]}),o)},"74mu":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return c});var o=function(t,e){return null!==e.closest(t)},r=function(t,e){return"string"==typeof t&&t.length>0?Object.assign((r=!0,(o="ion-color-"+t)in(n={"ion-color":!0})?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,n),e):e;var n,o,r},s=function(t){var e={};return function(t){return void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(function(t){return null!=t}).map(function(t){return t.trim()}).filter(function(t){return""!==t}):[]}(t).forEach(function(t){return e[t]=!0}),e},a=/^[a-z][a-z0-9+\-.]*:/,c=function(){var t=i(regeneratorRuntime.mark(function t(e,n,o,r){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||"#"===e[0]||a.test(e)){t.next=4;break}if(!(i=document.querySelector("ion-router"))){t.next=4;break}return t.abrupt("return",(null!=n&&n.preventDefault(),i.push(e,o,r)));case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}},t)}));return function(e,n,o,r){return t.apply(this,arguments)}}()},"9CtM":function(t,e,n){"use strict";n.r(e),n.d(e,"EditPostPageModule",function(){return m});var o,r,i=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),u=n("tyNb"),l=n("VPH/"),b=n("fXoL"),f=[{path:"",component:l.a}],p=((r=function t(){s(this,t)}).\u0275mod=b.Fb({type:r}),r.\u0275inj=b.Eb({factory:function(t){return new(t||r)},imports:[[u.j.forChild(f)],u.j]}),r),m=((o=function t(){s(this,t)}).\u0275mod=b.Fb({type:o}),o.\u0275inj=b.Eb({factory:function(t){return new(t||o)},imports:[[i.b,a.d,a.l,c.Q,p]]}),o)},AhZb:function(t,e,n){"use strict";n.r(e),n.d(e,"NewMessageStudentPageModule",function(){return m});var o,r,i=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),u=n("tyNb"),l=n("gLVQ"),b=n("fXoL"),f=[{path:"",component:l.a}],p=((r=function t(){s(this,t)}).\u0275mod=b.Fb({type:r}),r.\u0275inj=b.Eb({factory:function(t){return new(t||r)},imports:[[u.j.forChild(f)],u.j]}),r),m=((o=function t(){s(this,t)}).\u0275mod=b.Fb({type:o}),o.\u0275inj=b.Eb({factory:function(t){return new(t||o)},imports:[[i.b,a.d,c.Q,p]]}),o)},BD02:function(t,e,n){"use strict";n.r(e),n.d(e,"UploadResumeModalPageModule",function(){return m});var o,r,i=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),u=n("tyNb"),l=n("6e3a"),b=n("fXoL"),f=[{path:"",component:l.a}],p=((r=function t(){s(this,t)}).\u0275mod=b.Fb({type:r}),r.\u0275inj=b.Eb({factory:function(t){return new(t||r)},imports:[[u.j.forChild(f)],u.j]}),r),m=((o=function t(){s(this,t)}).\u0275mod=b.Fb({type:o}),o.\u0275inj=b.Eb({factory:function(t){return new(t||o)},imports:[[i.b,a.d,c.Q,p]]}),o)},KWWs:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n("AytR"),r=n("2Vo4"),i=n("fXoL"),a=n("tk/3"),u=function(){var t=function(){function t(e){s(this,t),this.http=e,this.BACKEND_URL=o.a.url,this.notifications$=new r.a([""])}return c(t,[{key:"getNotifications",value:function(t){return console.log("Getting Notifications"),console.log(t),this.http.post(this.BACKEND_URL+"/api/notifications",{email:t})}},{key:"clearNotifications",value:function(t){return console.log("Clearing Notifications"),console.log(t),this.http.post(this.BACKEND_URL+"/api/notifications/clear-notifications",{email:t})}},{key:"commentNotification",value:function(t,e,n,o){return console.log("Sending notfication to ".concat(e," that ").concat(t," commented on their post.")),this.http.post(this.BACKEND_URL+"/api/notifications/comment-on-post-notification",{instigatingUser:t,recievingUser:e,postID:n,commentID:o})}},{key:"replyNotification",value:function(t,e,n,o,r){return console.log("Sending notfication to ".concat(e," that ").concat(t," commented on their post.")),this.http.post(this.BACKEND_URL+"/api/notifications/reply-on-comment-notification",{instigatingUser:t,recievingUser:e,postID:n,commentID:o,replyID:r})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb(a.b))},t.\u0275prov=i.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},OWIS:function(t,e,n){"use strict";n.r(e),n.d(e,"NewMessageMentorPageModule",function(){return m});var o,r,i=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),u=n("tyNb"),l=n("R7fP"),b=n("fXoL"),f=[{path:"",component:l.a}],p=((r=function t(){s(this,t)}).\u0275mod=b.Fb({type:r}),r.\u0275inj=b.Eb({factory:function(t){return new(t||r)},imports:[[u.j.forChild(f)],u.j]}),r),m=((o=function t(){s(this,t)}).\u0275mod=b.Fb({type:o}),o.\u0275inj=b.Eb({factory:function(t){return new(t||o)},imports:[[i.b,a.d,c.Q,p]]}),o)},R7fP:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n("fXoL"),r=n("TEn/"),i=function(){var t=function(){function t(e){s(this,t),this.modal=e}return c(t,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.modal.dismiss()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Hb(r.T))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-new-message-mentor"]],decls:32,vars:0,consts:[[1,"ion-hide-lg-up"],["slot","start",3,"click"],["slot","start","name","close"],[1,"toolbar-title"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","8","size-lg","6"],["type","text","placeholder","Type a name"],["lines","none"],["slot","start"],["src","../../../../assets/batman-pro-pic.png"],["size-xs","12","size-sm","8","size-lg","6",1,"ion-text-center"],[1,"no-users"]],template:function(t,e){1&t&&(o.Mb(0,"ion-header",0),o.Mb(1,"ion-toolbar"),o.Mb(2,"ion-buttons",1),o.Ub("click",function(){return e.cancel()}),o.Ib(3,"ion-icon",2),o.Mb(4,"p",3),o.lc(5,"New Message"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Mb(6,"ion-content"),o.Mb(7,"ion-grid"),o.Mb(8,"ion-row",4),o.Mb(9,"ion-col",5),o.Ib(10,"ion-input",6),o.Ib(11,"hr"),o.Lb(),o.Mb(12,"ion-col",5),o.Mb(13,"ion-item",7),o.Mb(14,"ion-avatar",8),o.Ib(15,"img",9),o.Lb(),o.Mb(16,"ion-label"),o.Mb(17,"h2"),o.lc(18,"Username"),o.Lb(),o.Mb(19,"p"),o.lc(20,"Grade"),o.Lb(),o.Lb(),o.Lb(),o.Mb(21,"ion-item",7),o.Mb(22,"ion-avatar",8),o.Ib(23,"img",9),o.Lb(),o.Mb(24,"ion-label"),o.Mb(25,"h2"),o.lc(26,"Username"),o.Lb(),o.Mb(27,"p"),o.lc(28,"Grade"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Mb(29,"ion-col",10),o.Mb(30,"p",11),o.lc(31,"There are no users with that name"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb())},directives:[r.u,r.P,r.h,r.v,r.o,r.t,r.G,r.n,r.w,r.Y,r.x,r.d,r.B],styles:["ion-icon[_ngcontent-%COMP%]{padding-left:10px}hr[_ngcontent-%COMP%]{border-top:1.4px solid #999;opacity:.3;margin-top:0}ion-input[_ngcontent-%COMP%]{background:hsla(0,0%,87.8%,.2);height:60px}ion-button[_ngcontent-%COMP%]{margin:50px 0}.no-users[_ngcontent-%COMP%]{margin-top:75px}"]}),t}()},U8oy:function(t,n,o){"use strict";o.d(n,"a",function(){return p});var r=o("mrSG"),i=o("2Vo4"),a=o("Aso2"),u=o("AytR"),l=o("fXoL"),b=o("tk/3"),f=o("TEn/"),p=function(){var t=function(){function t(e,n,o){s(this,t),this.http=e,this.profile=n,this.toast=o,this.BACKEND_URL=u.a.url,this.favoriteJobs$=new i.a([])}return c(t,[{key:"getFavorites",value:function(t){return console.log("Getting Favorites"),this.http.post(this.BACKEND_URL+"/api/jobs/get-favorites",{email:t})}},{key:"favoriteThisJob",value:function(t){var n=this,o=this.profile.activeEmail;return t.userEmail=o,this.http.post(this.BACKEND_URL+"/api/jobs/favorite",{email:o,_id:t._id}).subscribe(function(t){console.log("Posting Favorite Job to Database..");var o=e(Object.values(t));n.favoriteJobs$.next(o),n.presentToastFavorited("You favorited this job!")})}},{key:"unFavoriteThisJob",value:function(t){var n=this,o=this.profile.activeEmail;t.userEmail=o,this.http.post(this.BACKEND_URL+"/api/jobs/unfavorite",{email:o,_id:t._id}).subscribe(function(t){return Object(r.a)(n,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:console.log("Unfavorite data value: ",t),o=e(Object.values(t)),this.favoriteJobs$.next(o),this.presentToastUnfavorited("You removed this job from Favorites.");case 3:case"end":return n.stop()}},n,this)}))}),console.log("Unfavoriting this Job")}},{key:"presentToastFavorited",value:function(t){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toast.create({message:t,duration:3e3,cssClass:"favorited-toast",position:"bottom"});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"presentToastUnfavorited",value:function(t){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toast.create({message:t,duration:3e3,cssClass:"unfavorited-toast",position:"bottom"});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Qb(b.b),l.Qb(a.a),l.Qb(f.Z))},t.\u0275prov=l.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"VPH/":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var o=n("mrSG"),r=n("ENZJ"),i=n("DtjX"),a=n("fXoL"),u=n("3Pt+"),l=n("TEn/"),b=function(){var t=function(){function t(e,n,o,r,i,a,c){s(this,t),this.formBuilder=e,this.modal=n,this.navParams=o,this.loading=r,this.posts=i,this.alert=a,this.postEmitterService=c}return c(t,[{key:"ngOnInit",value:function(){this.postID=this.navParams.get("postID"),this.post=this.navParams.get("post"),console.log(this.post),this.editPostForm=this.formBuilder.group({newPost:this.post})}},{key:"cancel",value:function(){console.log("cancelling"),this.modal.dismiss()}},{key:"refreshComment",value:function(){this.postEmitterService.postPageRefresh()}},{key:"edit",value:function(t){var e=this;console.log("editting"),this.posts.editPost(this.postID,t.newPost).subscribe(function(t){console.log(t),e.editLoading(t.post)})}},{key:"editLoading",value:function(t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loading.create({message:"Editing your Post...",duration:1e3});case 2:return n=e.sent,e.next=5,n.present();case 5:return console.log(t.post),e.next=8,n.onDidDismiss();case 8:return e.next=10,this.modal.dismiss();case 10:return e.next=12,this.posts.postsSubject$.next(t);case 12:return e.next=14,this.confirmAlert();case 14:console.log("Loading dismissed!");case 15:case"end":return e.stop()}},e,this)}))}},{key:"confirmAlert",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alert.create({cssClass:"success-alert",message:"Your Post has been edited.",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}},t,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Hb(u.a),a.Hb(l.T),a.Hb(l.U),a.Hb(l.S),a.Hb(r.a),a.Hb(l.a),a.Hb(i.a))},t.\u0275cmp=a.Bb({type:t,selectors:[["app-edit-post"]],decls:20,vars:1,consts:[[1,"ion-hide-md-down"],["slot","end"],[3,"click"],["slot","start"],[1,"ion-hide-lg-up"],["id","back-arrow-icons","name","arrow-back",3,"click"],[1,"ion-justify-content-center"],["size","10"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","15","spellcheck","true","wrap","soft","type","text","formControlName","newPost",1,"comment-input",3,"keydown.control.enter"],[2,"text-align","center","width","100%","margin-top","20px"],["type","submit",1,"orange-button",2,"margin","0 auto"]],template:function(t,e){1&t&&(a.Mb(0,"ion-header",0),a.Mb(1,"ion-toolbar"),a.Mb(2,"ion-buttons",1),a.Mb(3,"ion-button",2),a.Ub("click",function(){return e.cancel()}),a.lc(4," cancel "),a.Lb(),a.Lb(),a.Mb(5,"ion-title",3),a.lc(6,"Edit Post"),a.Lb(),a.Lb(),a.Lb(),a.Mb(7,"ion-header",4),a.Mb(8,"ion-toolbar"),a.Mb(9,"ion-icon",5),a.Ub("click",function(){return e.cancel()}),a.Lb(),a.Mb(10,"ion-title",1),a.lc(11,"Edit Post"),a.Lb(),a.Lb(),a.Lb(),a.Mb(12,"ion-content"),a.Mb(13,"ion-row",6),a.Mb(14,"ion-col",7),a.Mb(15,"form",8),a.Ub("ngSubmit",function(){return e.edit(e.editPostForm.value)}),a.Mb(16,"ion-textarea",9),a.Ub("keydown.control.enter",function(){return e.edit(e.editPostForm.value)}),a.Lb(),a.Mb(17,"div",10),a.Mb(18,"ion-button",11),a.lc(19," Edit "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t&&(a.xb(15),a.Zb("formGroup",e.editPostForm))},directives:[l.u,l.P,l.h,l.g,l.O,l.v,l.o,l.G,l.n,u.o,u.j,u.c,l.N,l.Y,u.i,u.b],styles:[".comment-input[_ngcontent-%COMP%]{background:#fff;margin:30px 0 60px;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input[_ngcontent-%COMP%], .comment-input[_ngcontent-%COMP%]:hover{height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]}),t}()},Y19J:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n("2Vo4"),r=n("fXoL"),i=n("tyNb"),a=function(){var t=function t(e){s(this,t),this.router=e,this.conversations$=new o.a([])};return t.\u0275fac=function(e){return new(e||t)(r.Qb(i.f))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},ZaV5:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var o=function(){var t=i(regeneratorRuntime.mark(function t(e,n,o,r,i){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return",e.attachViewToDom(n,o,i,r));case 2:if("string"==typeof o||o instanceof HTMLElement){t.next=4;break}throw new Error("framework delegate is missing");case 4:if(s="string"==typeof o?n.ownerDocument&&n.ownerDocument.createElement(o):o,r&&r.forEach(function(t){return s.classList.add(t)}),i&&Object.assign(s,i),n.appendChild(s),t.t0=s.componentOnReady,!t.t0){t.next=12;break}return t.next=12,s.componentOnReady();case 12:return t.abrupt("return",s);case 13:case"end":return t.stop()}},t)}));return function(e,n,o,r,i){return t.apply(this,arguments)}}(),r=function(t,e){if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},bUUK:function(t,e,n){"use strict";n.r(e),n.d(e,"ViewResumePageModule",function(){return g});var o,r,i,a=n("ofXK"),u=n("3Pt+"),l=n("TEn/"),b=n("tyNb"),f=n("Aso2"),p=n("fXoL"),m=n("jhN1"),h=[{path:"",component:(o=function(){function t(e,n,o){s(this,t),this.router=e,this.profile=n,this.domSanitizer=o}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.profile.getUserDetails().subscribe(function(e){console.log(e),t.profile.resume.next(e.resume)}),this.profile.resume.subscribe(function(e){t.resume=e})}},{key:"sanitizeImageUrl",value:function(t){return this.domSanitizer.bypassSecurityTrustResourceUrl(t)}},{key:"back",value:function(){this.router.navigate(["/home/profile"])}},{key:"updateResume",value:function(){console.log("Updating Resume from View Resume page"),this.router.navigate(["/home/profile/update-resume"])}}]),t}(),o.\u0275fac=function(t){return new(t||o)(p.Hb(b.f),p.Hb(f.a),p.Hb(m.b))},o.\u0275cmp=p.Bb({type:o,selectors:[["app-view-resume"]],decls:27,vars:1,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-hide-md-down",2,"margin","5% 0% 3% 0%"],["push-lg","0.5","size","2"],["push-lg","6.4","size","6"],[1,"orange-button",2,"width","150px",3,"click"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center","ion-hide-md-down"],["size","11"],[2,"background-color","#666"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","11","size-md","11","size-lg","11",1,"ion-text-center"],["width","100%","height","700","type","application/pdf",3,"data"],[1,"orange-button","ion-hide-md-up",2,"width","150px",3,"click"]],template:function(t,e){1&t&&(p.Mb(0,"ion-header",0),p.Mb(1,"ion-toolbar"),p.Mb(2,"ion-buttons",1),p.Ib(3,"ion-back-button"),p.Lb(),p.Mb(4,"ion-title"),p.lc(5,"View Resume"),p.Lb(),p.Lb(),p.Lb(),p.Mb(6,"ion-content"),p.Mb(7,"ion-grid"),p.Mb(8,"ion-row",2),p.Mb(9,"ion-col",3),p.Mb(10,"h1"),p.lc(11,"View Resume"),p.Lb(),p.Lb(),p.Mb(12,"ion-col",4),p.Mb(13,"ion-button",5),p.Ub("click",function(){return e.updateResume()}),p.lc(14,"UPDATE"),p.Lb(),p.Mb(15,"ion-button",6),p.Ub("click",function(){return e.back()}),p.lc(16," Back "),p.Lb(),p.Lb(),p.Lb(),p.Mb(17,"ion-row",7),p.Mb(18,"ion-col",8),p.Ib(19,"hr",9),p.Lb(),p.Lb(),p.Mb(20,"ion-row",10),p.Mb(21,"ion-col",11),p.Mb(22,"h4"),p.lc(23,"You can View and Update your Resume here"),p.Lb(),p.Ib(24,"object",12),p.Lb(),p.Mb(25,"ion-button",13),p.Ub("click",function(){return e.updateResume()}),p.lc(26,"UPDATE"),p.Lb(),p.Lb(),p.Lb(),p.Lb()),2&t&&(p.xb(24),p.Zb("data",e.sanitizeImageUrl(e.resume),p.gc))},directives:[l.u,l.P,l.h,l.e,l.f,l.O,l.o,l.t,l.G,l.n,l.g],styles:["h4[_ngcontent-%COMP%]{margin:30px auto;color:#005191}.orange-button[_ngcontent-%COMP%]{position:relative;top:4px;right:20px;margin:30px 0 100px}"]}),o)}],d=((i=function t(){s(this,t)}).\u0275mod=p.Fb({type:i}),i.\u0275inj=p.Eb({factory:function(t){return new(t||i)},imports:[[b.j.forChild(h)],b.j]}),i),g=((r=function t(){s(this,t)}).\u0275mod=p.Fb({type:r}),r.\u0275inj=p.Eb({factory:function(t){return new(t||r)},imports:[[a.b,u.d,l.Q,d]]}),r)},fU57:function(t,e,n){"use strict";n.r(e),n.d(e,"RepliesPagePageModule",function(){return m});var o,r,i=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),u=n("tyNb"),l=n("nfbU"),b=n("fXoL"),f=[{path:"",component:l.a}],p=((r=function t(){s(this,t)}).\u0275mod=b.Fb({type:r}),r.\u0275inj=b.Eb({factory:function(t){return new(t||r)},imports:[[u.j.forChild(f)],u.j]}),r),m=((o=function t(){s(this,t)}).\u0275mod=b.Fb({type:o}),o.\u0275inj=b.Eb({factory:function(t){return new(t||o)},imports:[[i.b,a.d,a.l,c.Q,p]]}),o)},gLVQ:function(e,n,o){"use strict";o.d(n,"a",function(){return h});var r=o("mrSG"),i=o("Y19J"),a=o("Aso2"),u=o("fXoL"),l=o("TEn/"),b=o("tyNb"),f=o("ofXK");function p(t,e){if(1&t){var n=u.Nb();u.Mb(0,"ion-item",9),u.Ub("click",function(){u.fc(n);var t=e.$implicit;return u.Wb().newChatroom(t.name,t.email,t.profilePicture)}),u.Mb(1,"ion-avatar",10),u.Ib(2,"img",11),u.Lb(),u.Mb(3,"ion-label"),u.Mb(4,"h2"),u.lc(5),u.Lb(),u.Lb(),u.Lb()}if(2&t){var o=e.$implicit;u.xb(2),u.ac("src",o.profilePicture,u.hc),u.xb(3),u.mc(o.name)}}function m(t,e){1&t&&(u.Mb(0,"ion-col",12),u.Mb(1,"p",13),u.lc(2,"There are no users with that name"),u.Lb(),u.Lb())}var h=function(){var e=function(){function e(t,n,o,r){s(this,e),this.modal=t,this.studentChat=n,this.profile=o,this.router=r}return c(e,[{key:"ngOnInit",value:function(){var t=this;this.profile.getUserDetails().subscribe(function(e){t.requestingUserFullname=e.fullName,t.requestingUserEmail=e.email,t.requestingUserPhoto=e.profilePicture,t.profile.getAllUsers().subscribe(function(e){var n=Object.values(e),o=n.map(function(t){return t.email}).indexOf(t.requestingUserEmail);n.splice(o,1),t.users=n,t.loadedUsers=n})})}},{key:"search",value:function(t){var e=this;this.initializeItems(),console.log(this.loadedUsers);var n=t.target.value;console.log(n),this.users=this.users.filter(function(t){if(t&&n||(console.log("No results from that search"),e.noSearchInput=!0),t.name&&n)return t.name.toLowerCase().indexOf(n.toLowerCase())>-1&&(e.searchTerm=n,e.searching=!0,e.noSearchInput=!1,!0);e.noSearchInput=!0})}},{key:"initializeItems",value:function(){this.users=this.loadedUsers}},{key:"newChatroom",value:function(e,n,o){var i=this;this.profile.getUserDetails().subscribe(function(e){return Object(r.a)(i,void 0,void 0,regeneratorRuntime.mark(function o(){var r,i,s,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:r=e.studentChat,i=t(r),o.prev=2,i.s();case 4:if((s=i.n()).done){o.next=15;break}if((a=s.value).requestingUserEmail!==n&&a.respondingUserEmail!==n){o.next=13;break}return console.log("You have already started a conversation with this user"),o.next=10,this.cancel();case 10:return o.next=12,this.router.navigate(["home/posts/student-chat/chat-page",a.chatId,this.requestingUserFullname,this.requestingUserPhoto,this.requestingUserEmail]);case 12:return o.abrupt("return",o.sent);case 13:o.next=4;break;case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(2),i.e(o.t0);case 20:return o.prev=20,i.f(),o.finish(20);case 23:this.cancel();case 24:case"end":return o.stop()}},o,this,[[2,17,20,23]])}))})}},{key:"cancel",value:function(){this.modal.dismiss()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Hb(l.T),u.Hb(i.a),u.Hb(a.a),u.Hb(b.f))},e.\u0275cmp=u.Bb({type:e,selectors:[["app-new-message-student"]],decls:15,vars:2,consts:[[1,"ion-hide-lg-up"],["slot","start",3,"click"],["slot","start","name","close"],[1,"toolbar-title"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","8","size-lg","6"],["type","text","placeholder","Type a name",3,"keyup"],["lines","none",3,"click",4,"ngFor","ngForOf"],["class","ion-text-center","size-xs","12","size-sm","8","size-lg","6",4,"ngIf"],["lines","none",3,"click"],["slot","start"],[3,"src"],["size-xs","12","size-sm","8","size-lg","6",1,"ion-text-center"],[1,"no-users"]],template:function(t,e){1&t&&(u.Mb(0,"ion-header",0),u.Mb(1,"ion-toolbar"),u.Mb(2,"ion-buttons",1),u.Ub("click",function(){return e.cancel()}),u.Ib(3,"ion-icon",2),u.Mb(4,"p",3),u.lc(5,"New Message"),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Mb(6,"ion-content"),u.Mb(7,"ion-grid"),u.Mb(8,"ion-row",4),u.Mb(9,"ion-col",5),u.Mb(10,"ion-input",6),u.Ub("keyup",function(t){return e.search(t)}),u.Lb(),u.Ib(11,"hr"),u.Lb(),u.Mb(12,"ion-col",5),u.kc(13,p,6,2,"ion-item",7),u.Lb(),u.kc(14,m,3,0,"ion-col",8),u.Lb(),u.Lb(),u.Lb()),2&t&&(u.xb(13),u.Zb("ngForOf",e.users),u.xb(1),u.Zb("ngIf",0==e.users.length))},directives:[l.u,l.P,l.h,l.v,l.o,l.t,l.G,l.n,l.w,l.Y,f.h,f.i,l.x,l.d,l.B],styles:["ion-icon[_ngcontent-%COMP%]{padding-left:10px}hr[_ngcontent-%COMP%]{border-top:1.4px solid #999;opacity:.3;margin-top:0}ion-input[_ngcontent-%COMP%]{background:hsla(0,0%,87.8%,.2);height:60px}.no-users[_ngcontent-%COMP%]{margin-top:75px}"]}),e}()},h3R7:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={bubbles:{dur:1e3,circles:9,fn:function(t,e,n){var o=t*e/n-t+"ms",r=2*Math.PI*e/n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:function(t,e,n){var o=e/n,r=t*o-t+"ms",i=2*Math.PI*o;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(t,e){return{r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(t,e,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*e+(e<6?180:-180),"deg)"),"animation-delay":t*e/n-t+"ms"}}}},"lines-small":{dur:1e3,lines:12,fn:function(t,e,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*e+(e<6?180:-180),"deg)"),"animation-delay":t*e/n-t+"ms"}}}}}},h8Q2:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n("AytR"),r=n("fXoL"),i=n("tk/3"),a=function(){var t=function(){function t(e){s(this,t),this.http=e,this.BACKEND_URL=o.a.url}return c(t,[{key:"resumeUpload",value:function(t){return console.log("resume uploading"),this.http.post(this.BACKEND_URL+"/api/resume/upload-resume",t)}},{key:"changeResume",value:function(t){return console.log(t),this.http.post(this.BACKEND_URL+"/api/resume/change-resume",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Qb(i.b))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},nfbU:function(e,n,o){"use strict";o.d(n,"a",function(){return y});var r=o("mrSG"),i=o("TEn/"),a=o("Aso2"),u=o("ENZJ"),l=o("7xvl"),b=o("2Vo4"),f=o("DtjX"),p=o("KWWs"),m=o("fXoL"),h=o("3Pt+"),d=o("ofXK");function g(t,e){if(1&t){var n=m.Nb();m.Mb(0,"ion-button",27),m.Ub("click",function(){m.fc(n);var t=m.Wb().$implicit;return m.Wb().deleteReply(t._id)}),m.lc(1," Delete "),m.Lb()}}function v(t,e){if(1&t&&(m.Mb(0,"ion-row",17),m.Mb(1,"ion-col",18),m.Ib(2,"img",19),m.Lb(),m.Mb(3,"ion-col",20),m.Mb(4,"p",21),m.lc(5),m.Lb(),m.Mb(6,"p",22),m.lc(7),m.Lb(),m.Lb(),m.Mb(8,"ion-col",23),m.Mb(9,"p",24),m.lc(10),m.Lb(),m.Lb(),m.Mb(11,"ion-col",25),m.kc(12,g,2,0,"ion-button",26),m.Lb(),m.Lb()),2&t){var n=e.$implicit;m.xb(2),m.ac("src",n.userProfilePicture,m.hc),m.xb(3),m.mc(n.userFullName),m.xb(2),m.mc(n.reply),m.xb(3),m.mc(n.date),m.xb(2),m.Zb("ngIf",n.isEditable)}}var y=function(){var e=function(){function e(t,n,o,r,i,a,c,u,l){s(this,e),this.formBuilder=t,this.modal=n,this.navParams=o,this.loading=r,this.profile=i,this.posts=a,this.alert=c,this.postEmitterService=u,this.notificationsService=l,this.replies$=new b.a([]),this.tabBar=document.getElementById("myTabBar"),this.votes=document.getElementById("votes")}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.profile.getUserDetails().subscribe(function(t){e.commentUserProfilePicture=t.profilePicture}),this.repliesForm=this.formBuilder.group({reply:[""]}),this.replies$.next(this.navParams.get("replies").reverse()),this.replies$.subscribe(function(n){e.replies=n;var o,r=t(e.replies);try{for(r.s();!(o=r.n()).done;){var i=o.value;i.isEditable=!1,console.log("Reply: ",i),i.userEmail==e.userEmail&&(i.isEditable=!0)}}catch(s){r.e(s)}finally{r.f()}}),this.postID=this.navParams.get("postID"),this.commentContents=this.navParams.get("comment"),this.commentID=this.navParams.get("commentID"),this.commentUserFullName=this.navParams.get("commentUserFullName"),this.commentUserEmail=this.navParams.get("commentUserEmail"),this.commentDate=this.navParams.get("commentDate"),this.userFullName=this.navParams.get("userFullName"),this.userEmail=this.navParams.get("userEmail"),this.commentUserProfilePicture=this.navParams.get("userProfilePicture")}},{key:"cancel",value:function(){console.log("cancelling comment..."),this.modal.dismiss()}},{key:"refreshRepliesAmount",value:function(){this.postEmitterService.postPageRefresh()}},{key:"reply",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.repliesForm.reset();case 2:return n.next=4,console.log("replying to comment...");case 4:return n.next=6,this.posts.replyComment(this.commentID,this.postID,e.reply,this.userFullName,this.userEmail,this.commentUserProfilePicture,this.commentUserFullName,this.commentUserEmail).subscribe(function(e){var n,r,i=[],s=t(e.comments);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(a._id==e.comment){n=a;for(var c=0;c<a.replies.length;c++)i.push(a.replies[c])}}}catch(g){s.e(g)}finally{s.f()}var u,b=e.comments,f=e.userEmail,p=e.replies,m=t(b);try{for(m.s();!(u=m.n()).done;){var h=u.value;h.repliesLength=h.replies.length,h.isUser=!1,h.canDeleteComment=!1,h.canReport=!0,h.date=Object(l.a)(new Date(h.date),{includeSeconds:!1,addSuffix:!1}),h.userEmail===f&&(h.isUser=!0,h.canDeleteComment=!0,h.canReport=!1);for(var d=0;h.replies.length>d;d++)h.replies[d].date=Object(l.a)(new Date(h.replies[d].date),{addSuffix:!1}),p.push(h.replies[d])}}catch(g){m.e(g)}finally{m.f()}o.replies=i,o.posts.commentsSubject$.next(b.reverse()),o.replies$.next(o.replies.reverse()),console.log("From replyComment"),console.log(e),o.notificationsService.replyNotification(o.userEmail,o.commentUserEmail,o.postID,n,e.newReply).subscribe()});case 6:return n.next=8,this.repliesLoading();case 8:case"end":return n.stop()}},n,this)}))}},{key:"deleteReply",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Deleting reply with id ",e),n.next=3,this.posts.deleteReply(e,this.commentID,this.postID).subscribe(function(e){console.log(e);var n,r=[],i=e.comments,s=e.userEmail,a=e.replies,c=t(i);try{for(c.s();!(n=c.n()).done;){var u=n.value;if(u._id==e.comment){u;for(var b=0;b<u.replies.length;b++)r.push(u.replies[b])}}}catch(d){c.e(d)}finally{c.f()}var f,p=t(i);try{for(p.s();!(f=p.n()).done;){var m=f.value;m.repliesLength=m.replies.length,m.isUser=!1,m.canDeleteComment=!1,m.canReport=!0,m.date=Object(l.a)(new Date(m.date),{includeSeconds:!1,addSuffix:!1}),m.userEmail==s&&(m.isUser=!0,m.canDeleteComment=!0,m.canReport=!1);for(var h=0;m.replies.length>h;h++)m.replies[h].date=Object(l.a)(new Date(m.replies[h].date),{addSuffix:!1}),a.push(m.replies[h])}}catch(d){p.e(d)}finally{p.f()}o.replies=r,o.posts.commentsSubject$.next(i.reverse()),o.replies$.next(o.replies.reverse())});case 3:case"end":return n.stop()}},n,this)}))}},{key:"repliesLoading",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loading.create({message:"Replying to Comment...",duration:2e3});case 2:return e=t.sent,t.next=5,this.refreshRepliesAmount();case 5:return t.next=7,e.present();case 7:return t.next=9,e.onDidDismiss();case 9:console.log("Loading dismissed!");case 10:case"end":return t.stop()}},t,this)}))}},{key:"confirmAlert",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alert.create({cssClass:"success-alert",message:"Your comment has been edited.",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"ScrollToTop",value:function(){this.content.scrollToPoint(0,140,100),this.tabBar.style.height="0px",this.votes.style.height="0px"}},{key:"ScrollToReply",value:function(){this.content.scrollToPoint(0,300,100),this.textarea.getInputElement().then(function(t){t.blur()})}},{key:"onBlur",value:function(){var t=this;this.textarea.getInputElement().then(function(e){t.tabBar.style.height="70px",t.votes.style.height="70px"})}},{key:"blur",value:function(){var t=this;this.textarea.getInputElement().then(function(e){e.blur(),t.tabBar.style.height="70px",t.votes.style.height="70px"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Hb(h.a),m.Hb(i.T),m.Hb(i.U),m.Hb(i.S),m.Hb(a.a),m.Hb(u.a),m.Hb(i.a),m.Hb(f.a),m.Hb(p.a))},e.\u0275cmp=m.Bb({type:e,selectors:[["app-replies-page"]],viewQuery:function(t,e){var n;(1&t&&(m.jc(i.o,!0),m.jc(i.N,!0)),2&t)&&(m.dc(n=m.Vb())&&(e.content=n.first),m.dc(n=m.Vb())&&(e.textarea=n.first))},decls:35,vars:6,consts:[[1,"ion-hide-md-down"],["slot","start"],["slot","end"],[3,"click"],[1,"ion-hide-lg-up"],["id","back-arrow-icons","name","arrow-back",3,"click"],[1,"ion-justify-content-center"],["size","11"],["lines","none"],["slot","start",1,"comment-avatar"],[3,"src"],[2,"opacity","0.5"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Reply to this comment","formControlName","reply",1,"reply-input",3,"ionFocus","ionBlur","onfocusout","keydown.control.enter"],["type","submit","expand","block"],[2,"background-color","#999","opacity","0.4","margin","20px 0 20px 0"],["class","ion-justify-content-center ion-align-items-start reply-wrapper",4,"ngFor","ngForOf"],[1,"ion-justify-content-center","ion-align-items-start","reply-wrapper"],["size","1"],["id","reply-avatar",3,"src"],["size","5"],[1,"reply-name"],[1,"reply-text"],["size","1.5"],["id","reply-date"],["size","2"],["class","blue-button","expand","block",3,"click",4,"ngIf"],["expand","block",1,"blue-button",3,"click"]],template:function(t,e){1&t&&(m.Mb(0,"ion-header",0),m.Mb(1,"ion-toolbar"),m.Mb(2,"ion-title",1),m.lc(3,"Replies"),m.Lb(),m.Mb(4,"ion-buttons",2),m.Mb(5,"ion-button",3),m.Ub("click",function(){return e.cancel()}),m.lc(6," cancel "),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(7,"ion-header",4),m.Mb(8,"ion-toolbar"),m.Mb(9,"ion-icon",5),m.Ub("click",function(){return e.cancel()}),m.Lb(),m.Mb(10,"ion-title",2),m.lc(11,"Replies"),m.Lb(),m.Lb(),m.Lb(),m.Mb(12,"ion-content"),m.Mb(13,"ion-row",6),m.Mb(14,"ion-col",7),m.Mb(15,"ion-item",8),m.Mb(16,"ion-avatar",9),m.Ib(17,"img",10),m.Lb(),m.Mb(18,"ion-label"),m.Mb(19,"h6",11),m.lc(20),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(21,"ion-row",6),m.Mb(22,"ion-col",7),m.Mb(23,"p"),m.lc(24),m.Lb(),m.Lb(),m.Lb(),m.Mb(25,"ion-row",6),m.Mb(26,"ion-col",7),m.Mb(27,"form",12),m.Ub("ngSubmit",function(){return e.repliesForm.value.reply.length>0?e.reply(e.repliesForm.value)&&e.ScrollToReply():null}),m.Mb(28,"ion-textarea",13),m.Ub("ionFocus",function(){return e.ScrollToTop()})("ionBlur",function(){return e.onBlur()})("onfocusout",function(){return e.blur()})("keydown.control.enter",function(){return e.repliesForm.value.reply.length>0?e.reply(e.repliesForm.value)&&e.ScrollToReply():null}),m.Lb(),m.Mb(29,"ion-button",14),m.lc(30," Reply "),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(31,"ion-row",6),m.Mb(32,"ion-col",7),m.Ib(33,"hr",15),m.Lb(),m.Lb(),m.kc(34,v,13,5,"ion-row",16),m.Lb()),2&t&&(m.xb(17),m.ac("src",e.commentUserProfilePicture,m.hc),m.xb(3),m.oc("",e.commentUserFullName," - ",e.commentDate," "),m.xb(4),m.mc(e.commentContents),m.xb(3),m.Zb("formGroup",e.repliesForm),m.xb(7),m.Zb("ngForOf",e.replies))},directives:[i.u,i.P,i.O,i.h,i.g,i.v,i.o,i.G,i.n,i.x,i.d,i.B,h.o,h.j,h.c,i.N,i.Y,h.i,h.b,d.h,d.i],styles:[".reply-input[_ngcontent-%COMP%]{background:#fff;height:auto;margin:20px 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:linear}.reply-input[_ngcontent-%COMP%]:hover{background:rgba(250,167,27,.02);height:auto;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}ion-button[type=submit][_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#24d8a8,#1baf88)}.blue-button[_ngcontent-%COMP%]{width:unset;height:36px;font-size:.85em;-webkit-animation:none;animation:none;opacity:unset}.reply-wrapper[_ngcontent-%COMP%]{padding:10px}#reply-avatar[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50px;position:relative;right:15px}.reply-name[_ngcontent-%COMP%]{font-weight:700;margin:.5em 0}#reply-date[_ngcontent-%COMP%]{font-size:.7em;color:#999}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]}),e}()},pCvL:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n("mrSG"),r=n("fXoL"),i=n("TEn/"),a=function(){var t=function(){function t(e,n,o){s(this,t),this.modal=e,this.alert=n,this.toast=o}return c(t,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.modal.dismiss()}},{key:"reportAlert",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alert.create({cssClass:"",header:"Are you sure you want to report this conversation?",buttons:[{text:"Yes",handler:function(){return Object(o.a)(n,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.reportedToast();case 2:return t.next=4,this.modal.dismiss();case 4:case"end":return t.stop()}},t,this)}))}},{text:"Cancel",role:"cancel"}]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"reportedToast",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toast.create({cssClass:"favorited-toast",message:"You have reported you conversation with ---",duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Hb(i.T),r.Hb(i.a),r.Hb(i.Z))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-report-convo"]],decls:23,vars:0,consts:[[1,"ion-hide-lg-up"],["slot","start",3,"click"],["slot","start","name","close"],[1,"toolbar-title"],[1,"ion-justify-content-center"],["size-xs","11","size-sm","8","size-lg","6"],["lines","none"],["slot","start"],["src","../../../assets/batman-pro-pic.png"],["rows","12","required","","placeholder","Why are you reporting?"],["size-xs","11","size-sm","8","size-lg","6",1,"ion-text-center"],[1,"blue-button",3,"click"]],template:function(t,e){1&t&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-buttons",1),r.Ub("click",function(){return e.cancel()}),r.Ib(3,"ion-icon",2),r.Mb(4,"p",3),r.lc(5,"Report Conversation"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(6,"ion-content"),r.Mb(7,"ion-grid"),r.Mb(8,"ion-row",4),r.Mb(9,"ion-col",5),r.Mb(10,"h5"),r.lc(11,"Reporting"),r.Lb(),r.Mb(12,"ion-item",6),r.Mb(13,"ion-avatar",7),r.Ib(14,"img",8),r.Lb(),r.Mb(15,"ion-label"),r.lc(16,"Name"),r.Lb(),r.Lb(),r.Ib(17,"hr"),r.Mb(18,"ion-item"),r.Ib(19,"ion-textarea",9),r.Lb(),r.Lb(),r.Mb(20,"ion-col",10),r.Mb(21,"ion-button",11),r.Ub("click",function(){return e.reportAlert()}),r.lc(22," Report "),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb())},directives:[i.u,i.P,i.h,i.v,i.o,i.t,i.G,i.n,i.x,i.d,i.B,i.N,i.Y,i.g],styles:["ion-icon[_ngcontent-%COMP%]{padding-left:10px}hr[_ngcontent-%COMP%]{border-top:1.4px solid #999;opacity:.3;margin-top:20px}ion-textarea[_ngcontent-%COMP%]{background:hsla(0,0%,87.8%,.2);padding:8px}ion-button[_ngcontent-%COMP%]{margin:50px 0}"]}),t}()},qULd:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return a});var o={getEngine:function(){var t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(t){var e=this.getEngine();if(e){var n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})}},notification:function(t){var e=this.getEngine();if(e){var n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd:function(){var t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},r=function(){o.selection()},i=function(){o.selectionStart()},s=function(){o.selectionChanged()},a=function(){o.selectionEnd()},c=function(t){o.impact(t)}},wbj2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n("fXoL"),r=function(){var t=function(){function t(){s(this,t),this.invokeSinglePostPageRefresh=new o.o}return c(t,[{key:"singlePostPageRefresh",value:function(){this.invokeSinglePostPageRefresh.emit()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();